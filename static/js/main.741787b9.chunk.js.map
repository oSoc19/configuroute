{"version":3,"sources":["landingPage/CreateButton.jsx","landingPage/ImportButton.jsx","landingPage/Index.jsx","landingPage/BackButton.jsx","landingPage/ConfirmButton.jsx","landingPage/Upload.jsx","landingPage/NewFileForm.jsx","landingPage/LandingPage.jsx","mainPage/rules/NewRuleForm.jsx","mainPage/ConfigFileModal.jsx","mainPage/rules/ruleCard.jsx","mainPage/LeftPanel.jsx","lib/OntologyReader.js","mainPage/map/markerButton.jsx","mainPage/map/maptoolbar.jsx","mainPage/map/map.jsx","mainPage/RightPanel.jsx","App.jsx","serviceWorker.js","index.js","assets/logo.jpg"],"names":["CreateButton","props","react_default","a","createElement","Button","icon","labelPosition","className","onClick","Icon","name","style","width","size","ImportButton","type","multiple","display","accept","Index","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","parseConfigurationFile","state","screen","errorMessage","configFile","file","triggerImportFile","bind","assertThisInitialized","reactComponent","fileInput","document","getElementsByClassName","ruleTypes","click","addEventListener","e","files","match","reader","FileReader","onload","validFile","JSON","parse","result","keys","map","k","Array","isArray","error","onChangeContent","valid","readAsText","_this2","Grid","centered","Row","columns","stretched","height","padding","Column","Header","as","textAlign","Image","rounded","src","Content","dividing","Group","landingPage_CreateButton","Or","landingPage_ImportButton","React","Component","BackButton","margin","border-radius","ConfirmButton","disabled","label","Upload","validFileScreen","errorScreen","nbOfRules","undefined","data","length","Segment","Label","computeNumberOfRules","_this3","content","landingPage_BackButton","landingPage_ConfirmButton","onConfirm","configFileContext","@context","osm","opp","prov","hasMaxSpeed","@id","usePublicTransport","hasAccessRules","hasOnewayRules","hasSpeedRules","hasPriorityRules","hasObstacleRules","hasAccess","isOneway","isReversed","hasSpeed","isObstacle","hasPriority","concludes","hasOrder","fromProperty","@type","hasPredicate","hasObject","NewConfigFileForm","onNewConfigFileCreation","formValues","description","Number","maxSpeed","defaultRule","push","handleChange","_ref","value","setState","defineProperty","showErrorMessage","_this$state","Form","Input","placeholder","onChange","required","Checkbox","checked","form","customModalStyle","borderRadius","outline","border","top","left","position","marginRight","transform","overlay","backgroundColor","Modal","setAppElement","LandingPage","landingPage_Index","handleChangeContent","landingPage_Upload","handleConfirm","fileData","NewFileForm","showModal","handleOpenModal","handleCloseModal","lib_default","isOpen","contentLabel","NewRuleForm","handleChangeChecked","conclusion","onClose","onSubmit","ruleType","key","order","conclusionForm","ruleTypeOptions","text","keyOptions","selectOptions","prop","valueOptions","val","slider","Select","options","open","ConfigFileModal","es","id","locale","viewOnly","RuleCard","index","option","rule","toggle","header","Card","fluid","onDelete","LeftPanel","require","handleClick","titleProps","newIndex","activeIndex","handleSubmit","newActiveIndex","indexOf","onNewRuleSubmit","displayBasicProperties","Fragment","Accordion","Title","active","showConfigFile","loaded","i","j","ruleCard","stringify","onRuleConclusionChange","onRuleDelete","Menu","Item","primary","secondary","styled","displayContent","rules_NewRuleForm","rulesSelectOptions","MarkerButton","children","basic","pointing","marker","placed","Math","round","lngLat","lat","lng","MapToolbar","active_route_label_input","evt","target","_this$props","calculating","from_marker","to_marker","selectable_routes","selected_routes","handleSelectedRouteAddition","handleSelectedRoutesChange","calculateRoute","saveCurrentRoute","createToMarker","createFromMarker","Container","loading","updateActiveRouteText","action","Dropdown","search","selection","allowAdditions","onAddItem","Map","ReactMapboxGl","accessToken","markerFromGeojson","features","geometry","coordinates","markerToGeojson","lineLayout","line-cap","line-join","linePaint","line-color","line-width","savedRouteLinePaint","containerStyle","cursor","MapPannel","console","log","prevState","concat","toConsumableArray","_ref2","saved_routes","center","zoom","enabled","dragging","active_route","container_style","onStyleLoad","onMouseMove","onMouseClick","onMouseUp","planner","Planner","setProfileID","pervProps","setDevelopmentProfile","query","roadNetworkOnly","from","latitude","longitude","to","take","on","path","route_coordinates","steps","forEach","step","startLocation","stopLocation","date","Date","toISOString","routeExists","route","coords","addSource","addLayer","source","paint","circle-radius","circle-color","parent","setPaintProperty","preventDefault","getSource","setData","routesToDraw","lib_esm","layout","maptoolbar","RightPanel","osm:access","osm:barrier","osm:bicycle","osm:construction","osm:crossing","osm:cycleway","osm:footway","osm:highway","osm:motor_vehicle","osm:motorcar","osm:oneway_bicycle","osm:oneway","osm:smoothness","osm:surface","osm:tracktype","osm:vehicle","defaultValue","logo","alt","App","handleFileConfirm","leftLoaded","handleNewRuleSubmit","isANewRule","objectSpread","conclusionLabel","newRule","unshift","triggerMessage","handleRuleConclusionChange","handleRuleDelete","splice","landingPage_LandingPage","App_Header","LeftPanel_LeftPanel","mainPage_RightPanel","Boolean","window","location","hostname","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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ACA,kBACA,kBAEFC,mBAAoB,CAAC,yBACrBC,eAAgB,CAAC,mBAAoB,gBACrCC,eAAgB,CACd,WACA,eACA,oBACA,oBACA,kBACA,aACA,iBACA,aAEFC,cAAe,CAAC,gBAChBC,cAAe,CACb,gBACA,wBACA,sBACA,mBACA,kBACA,cACA,mBACA,eACA,mBACA,WACA,cACA,kBACA,eACA,kBACA,WACA,gBACA,oBACA,cACA,YACA,WACA,eACA,mBACA,YACA,qBACA,YACA,gBACA,oBAEFC,oBAAqB,CACnB,mBACA,gBACA,eACA,iBACA,kBACA,eACA,eACA,iBACA,cACA,kBAEFC,eAAgB,CACd,mBACA,gBACA,eACA,iBACA,kBACA,eACA,eACA,eACA,iBACA,cACA,kBAEFC,qBAAsB,CACpB,qBACA,cACA,oBACA,eAEFC,aAAc,CACZ,qBACA,cACA,cACA,qBAEFC,iBAAkB,CAChB,oBACA,0BACA,qBACA,yBACA,2BACA,6BACA,wBACA,8BAEFC,cAAe,CACb,cACA,kBACA,gBACA,eACA,WACA,WACA,iBACA,YACA,aACA,aACA,UACA,YACA,mBACA,kBACA,WACA,WACA,wBACA,cACA,YAEFC,gBAAiB,CACf,aACA,aACA,aACA,aACA,cAEFC,cAAe,CACb,gBACA,eACA,iBACA,kBACA,eACA,eACA,iBACA,cACA,mBAIE7U,GAAY,CAChB0E,eAAgB,CACdoE,WAAY,YACZvK,KAAM,UACNuW,cAAc,GAEhBhQ,iBAAkB,CAChBgE,WAAY,aACZvK,KAAM,UACNuW,cAAc,GAEhBnQ,eAAgB,CACdmE,WAAY,WACZvK,KAAM,UACNuW,cAAc,GAEhBjQ,iBAAkB,CAChBiE,WAAY,cACZvK,KAAM,SACNuW,aAAc,GAEhBlQ,cAAe,CACbkE,WAAY,WACZvK,KAAM,SACNuW,aAAc,KAIlB,SAAS/S,KACP,OACEtE,EAAAC,EAAAC,cAAA,UAAQI,UAAU,cAChBN,EAAAC,EAAAC,cAAA,OAAKyE,IAAK2S,KAAMhX,UAAU,WAAWiX,IAAI,SACzCvX,EAAAC,EAAAC,cAAA,QAAMI,UAAU,cAAhB,uBA+FSkX,eAzFb,SAAAA,EAAYzX,GAAO,IAAAoB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkW,IACjBrW,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoW,GAAA/V,KAAAH,KAAMvB,KAOR0X,kBAAoB,SAAA3V,GAClBX,EAAK0H,SAAS,CAAE/G,WAAYA,EAAY4V,YAAY,KATnCvW,EAYnBwW,oBAAsB,SAAAvP,GACpB,IAAIwP,GAAa,EAajB,GAZAzW,EAAKQ,MAAMG,WAAWsG,EAAWoD,UAAUnI,IAAI,SAAA0J,GAC7C,OACEA,EAAI,OACJA,EAAI,MAAJ,eAAkC3E,EAAWqD,KAC7CsB,EAAI,MAAJ,YAA+B3E,EAAWQ,QAE1CgP,GAAa,GACN,KAKPA,EAAY,CACd,IAAI9V,EAAUV,OAAAyW,EAAA,EAAAzW,CAAA,GAAQD,EAAKQ,MAAMG,YAC7BgW,EAAkBvV,GAAU6F,EAAWoD,UAAUH,WAEjD0M,EAAU,CACZnV,MAAO,CACLoF,aAAcI,EAAWqD,IACzBxD,UAAWG,EAAWQ,OAExBhB,UAAUxG,OAAA0H,EAAA,EAAA1H,CAAA,GACP0W,EAAkB1P,EAAWiD,YAEhCxD,SAAUO,EAAWsD,OAGvB5J,EAAWsG,EAAWoD,UAAUwM,QAAQD,GACxC5W,EAAK0H,SAAS,CAAE/G,WAAYA,EAAY+I,WAAW,SAEnD1J,EAAK0H,SAAS,CAAEoP,gBAAgB,KA5CjB9W,EAgDnB+W,2BAA6B,SAACpX,EAAM+L,EAAOjE,GACzC,IAAI9G,EAAUV,OAAAyW,EAAA,EAAAzW,CAAA,GAAQD,EAAKQ,MAAMG,YACjCA,EAAWhB,GAAM+L,GAAjB,UACE,CAACtK,GAAUzB,GAAV,aACC8H,EACJzH,EAAK0H,SAAS,CAAE/G,WAAYA,KArDXX,EAwDnBgX,iBAAmB,SAACrX,EAAM+L,GACxB,IAAI/K,EAAUV,OAAAyW,EAAA,EAAAzW,CAAA,GAAQD,EAAKQ,MAAMG,YAC7B+K,IAAU/K,EAAWhB,GAAMkF,OAAS,IACtClE,EAAWhB,GAAMsX,OAAOvL,EAAO,GAC/B1L,EAAK0H,SAAS,CAAE/G,WAAYA,MA1D9BX,EAAKQ,MAAQ,CACXG,WAAY,GACZ4V,YAAY,GAJGvW,wEAiEjB,OACEnB,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAACmY,EAAD,CAAa9V,UAAWA,GAAWiE,UAAWlF,KAAKmW,oBACnDzX,EAAAC,EAAAC,cAACoY,GAAD,MACAtY,EAAAC,EAAAC,cAAA,OAAKI,UAAU,eACbN,EAAAC,EAAAC,cAACqY,EAAD,CACEhW,UAAWA,GACX4M,mBAAoBA,GACpBd,OAAQ/M,KAAKK,MAAM+V,WACnB5V,WAAYR,KAAKK,MAAMG,WACvBgM,gBAAiBxM,KAAKqW,oBACtBjJ,uBAAwBpN,KAAK4W,2BAC7BvJ,aAAcrN,KAAK6W,iBACnB7X,UAAU,eAEZN,EAAAC,EAAAC,cAACsY,GAAD,CACE1W,WAAYR,KAAKK,MAAMG,sBAlFjBoD,IAAMC,WC/MJsT,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAAShW,MACvB,2DCZNiW,IAASC,OAAO9Y,EAAAC,EAAAC,cAAC6Y,GAAD,MAAS1W,SAAS2W,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC,0DEnInBC,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.741787b9.chunk.js","sourcesContent":["import React from \"react\";\nimport { Button, Icon } from \"semantic-ui-react\";\n\nfunction CreateButton(props) {\n  return (\n    <Button\n      icon\n      labelPosition=\"left\"\n      className={\"landing_page_button\"}\n      onClick={props.onClick}\n    >\n      <Icon name={\"left arrow\"} style={{ width: \"20%\" }} size=\"large\" />\n      Create new file\n    </Button>\n  );\n}\n\nexport default CreateButton;\n","import React from \"react\";\nimport { Button, Icon } from \"semantic-ui-react\";\n\nfunction ImportButton(props) {\n  return (\n    <Button icon labelPosition=\"right\" onClick={props.onClick}>\n      <Icon name={\"download\"} style={{ width: \"20%\" }} size=\"large\" />\n      <input\n        type=\"file\"\n        className=\"import_file_button\"\n        multiple=\"\"\n        style={{ display: \"none\" }}\n        accept=\".json\"\n      />{\" \"}\n      Import file\n    </Button>\n  );\n}\n\nexport default ImportButton;\n","import React from \"react\";\nimport { Button, Grid, Header, Image } from \"semantic-ui-react\";\nimport CreateButton from \"./CreateButton\";\nimport ImportButton from \"./ImportButton\";\n\nconst ruleTypes = {\n  hasAccessRules: {\n    conclusion: \"hasAccess\",\n    defaultValue: false\n  },\n  hasObstacleRules: {\n    conclusion: \"isObstacle\",\n    defaultValue: true\n  },\n  hasOnewayRules: {\n    conclusion: \"isOneway\",\n    defaultValue: true\n  },\n  hasPriorityRules: {\n    conclusion: \"isReversed\",\n    defaultValue: 0\n  },\n  hasSpeedRules: {\n    conclusion: \"hasSpeed\",\n    defaultValue: 35\n  }\n};\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      screen: \"welcoming\",\n      errorMessage: \"\",\n      configFile: \"\",\n      file: \"\"\n    };\n    this.triggerImportFile = this.triggerImportFile.bind(this);\n  }\n\n  parseConfigurationFile = () => {};\n\n  triggerImportFile(reactComponent) {\n    var array = document.getElementsByClassName(\"import_file_button\");\n\n    var fileInput = array[0];\n    var ruleTypes = this.props.ruleTypes;\n\n    fileInput.click();\n    fileInput.addEventListener(\"change\", function(e) {\n      var file = fileInput.files[0];\n      var textType = /json.*/;\n\n      if (file.type.match(textType)) {\n        var reader = new FileReader();\n\n        reader.onload = function(e) {\n          var configFile;\n          var validFile = true;\n\n          try {\n            configFile = JSON.parse(reader.result);\n            if (configFile[\"@context\"] == null) {\n              validFile = false;\n            }\n            Object.keys(ruleTypes).map(k => {\n              if (configFile[k] == null || !Array.isArray(configFile[k]))\n                validFile = false;\n              return true;\n            });\n          } catch (error) {\n            validFile = false;\n          }\n\n          if (validFile) {\n            reactComponent.props.onChangeContent(\"UPLOAD\", {\n              valid: true,\n              file: file,\n              configFile: JSON.parse(reader.result)\n            });\n          } else {\n            reactComponent.props.onChangeContent(\"UPLOAD\", {\n              valid: false,\n              file: null,\n              configFile: null\n            });\n          }\n        };\n\n        reader.readAsText(file);\n      } else {\n        reactComponent.props.onChangeContent(\"UPLOAD\", {\n          valid: false,\n          file: null,\n          configFile: null\n        });\n      }\n    });\n  }\n\n  render() {\n    return (\n      <Grid centered>\n        <Grid.Row columns={1} stretched style={{ height: \"80%\", padding: \"0\" }}>\n          <Grid.Column className=\"contentColumn\">\n            <div>\n              <Header as=\"h2\" icon textAlign=\"center\">\n                <Image\n                  centered\n                  rounded\n                  src=\"assets/logo.jpg\"\n                  className=\"centerLogo\"\n                />\n                <Header.Content>\n                  Your go-to for creating robust route configurations\n                </Header.Content>\n              </Header>\n              <Header as=\"h3\" dividing textAlign=\"center\">\n                Purpose\n              </Header>\n              <p>\n                Ever traveled with unconventional means of transport such as a\n                scooter ? You want to reach specific locations but your route\n                planner takes you through uncomfortable routes? We believe your\n                journey should always be adapted to your very specific mobility\n                needs. For this reason, we created *ConfiguRoute* : a tool to\n                quickly and easily create finely tuned configuration files for\n                your transport profiles.\n              </p>\n            </div>\n          </Grid.Column>\n        </Grid.Row>\n        <Grid.Row columns={2} stretched style={{ height: \"20%\", padding: \"0\" }}>\n          <Button.Group style={{ width: \"100%\" }}>\n            <CreateButton\n              onClick={() => {\n                this.props.onChangeContent(\"NEW\");\n              }}\n            />\n            <Button.Or />\n            <ImportButton\n              onClick={() => {\n                this.triggerImportFile(this);\n              }}\n            />\n          </Button.Group>\n        </Grid.Row>\n      </Grid>\n    );\n  }\n}\n\nexport default Index;\n","import React from \"react\";\nimport { Button, Icon } from \"semantic-ui-react\";\n\nfunction BackButton(props) {\n  return (\n    <Button\n      icon\n      labelPosition=\"left\"\n      className={\"landing_page_button\"}\n      onClick={props.onClick}\n      style={{'padding': 0, 'margin': 0, 'border-radius': '0 0 0 12px'}}\n    >\n      <Icon name={\"left arrow\"} style={{ width: \"20%\" }} size=\"large\" />\n      Go back\n    </Button>\n  );\n}\n\nexport default BackButton;\n","import React from \"react\";\nimport { Button, Icon } from \"semantic-ui-react\";\n\nfunction ConfirmButton(props) {\n  return (\n    <Button\n      icon\n      labelPosition=\"right\"\n      className={\"landing_page_button\"}\n      onClick={props.onClick}\n      disabled={props.disabled}\n      style={{'padding': 0, 'margin': 0, 'border-radius': '0px 0px 12px 0px'}}\n    >\n      <Icon name={\"check\"} style={{ width: \"20%\" }} size=\"large\" />\n      {props.label ? props.label : \"Confirm selection\"}\n    </Button>\n  );\n}\n\nexport default ConfirmButton;\n","import React from \"react\";\nimport { Button, Grid, Header, Segment, Label } from \"semantic-ui-react\";\nimport BackButton from \"./BackButton\";\nimport ConfirmButton from \"./ConfirmButton\";\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.validFileScreen = this.validFileScreen.bind(this);\n    this.errorScreen = this.errorScreen.bind(this);\n  }\n\n  computeNumberOfRules() {\n    var nbOfRules = 0;\n\n    if (this.props.data.configFile === undefined) return nbOfRules;\n\n    Object.keys(this.props.ruleTypes).map(k => {\n      nbOfRules += this.props.data.configFile[k].length;\n      return nbOfRules;\n    });\n\n    return nbOfRules;\n  }\n\n  validFileScreen() {\n    return (\n      <div>\n        <Header> {this.props.data.file.name} </Header>\n        <Segment>\n          <Label> Size: </Label> {this.props.data.file.size + \" bytes\"}\n        </Segment>\n        <Segment>\n          {\" \"}\n          <Label> Label: </Label> {this.props.data.configFile[\"rdfs:label\"]}{\" \"}\n        </Segment>\n        <Segment>\n          {\" \"}\n          <Label> Number of rules: </Label> {this.computeNumberOfRules()}\n        </Segment>\n      </div>\n    );\n  }\n\n  errorScreen() {\n    return (\n      <Header>\n        {\" \"}\n        <Header.Content> Format unsupported </Header.Content>\n      </Header>\n    );\n  }\n\n  content() {\n    if (this.props.data.valid) {\n      return <this.validFileScreen />;\n    } else {\n      return <this.errorScreen />;\n    }\n  }\n  render() {\n    return (\n      <Grid centered>\n        <Grid.Row columns={1} stretched style={{ height: \"80%\", padding: \"0\" }}>\n          <Grid.Column className=\"contentColumn\">{this.content()}</Grid.Column>\n        </Grid.Row>\n        <Grid.Row columns={2} stretched style={{ height: \"20%\", padding: \"0\" }}>\n          <Button.Group style={{ width: \"100%\" }}>\n            <BackButton\n              onClick={() => {\n                this.props.onChangeContent(\"INDEX\");\n              }}\n            />\n            <Button.Or />\n            <ConfirmButton\n              onClick={() => {\n                this.props.onConfirm(this.props.data.configFile);\n              }}\n              disabled={!this.props.data.valid}\n            />\n          </Button.Group>\n        </Grid.Row>\n      </Grid>\n    );\n  }\n}\n\nexport default Upload;\n","import React from \"react\";\nimport { Form, Grid, Button, Segment } from \"semantic-ui-react\";\nimport BackButton from \"./BackButton.jsx\";\nimport ConfirmButton from \"./ConfirmButton.jsx\";\n\nconst configFileContext = {\n  \"@context\": {\n    osm: \"https://w3id.org/openstreetmap/terms#\",\n    opp: \"https://w3id.org/openplannerteam/profile#\",\n    prov: \"http://www.w3.org/ns/prov#\",\n    hasMaxSpeed: {\n      \"@id\": \"opp:hasMaxSpeed\"\n    },\n    usePublicTransport: {\n      \"@id\": \"opp:usePublicTransport\"\n    },\n    hasAccessRules: {\n      \"@id\": \"opp:hasAccessRules\"\n    },\n    hasOnewayRules: {\n      \"@id\": \"opp:hasOnewayRules\"\n    },\n    hasSpeedRules: {\n      \"@id\": \"opp:hasSpeedRules\"\n    },\n    hasPriorityRules: {\n      \"@id\": \"opp:hasPriorityRules\"\n    },\n    hasObstacleRules: {\n      \"@id\": \"opp:hasObstacleRules\"\n    },\n    hasAccess: {\n      \"@id\": \"opp:hasAccess\"\n    },\n    isOneway: {\n      \"@id\": \"opp:isOneway\"\n    },\n    isReversed: {\n      \"@id\": \"opp:isReversed\"\n    },\n    hasSpeed: {\n      \"@id\": \"opp:hasSpeed\"\n    },\n    isObstacle: {\n      \"@id\": \"opp:isObstacle\"\n    },\n    hasPriority: {\n      \"@id\": \"opp:hasPriority\"\n    },\n    concludes: {\n      \"@id\": \"opp:concludes\"\n    },\n    hasOrder: {\n      \"@id\": \"opp:hasOrder\"\n    },\n    match: {\n      \"@id\": \"opp:match\"\n    },\n    fromProperty: {\n      \"@id\": \"opp:fromProperty\",\n      \"@type\": \"@id\"\n    },\n    hasPredicate: {\n      \"@id\": \"opp:hasPredicate\",\n      \"@type\": \"@id\"\n    },\n    hasObject: {\n      \"@id\": \"opp:hasObject\",\n      \"@type\": \"@id\"\n    }\n  }\n};\nclass NewConfigFileForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      description: \"\",\n      maxSpeed: \"\",\n      usePublicTransport: false,\n      showErrorMessage: false\n    };\n  }\n\n  onNewConfigFileCreation = formValues => {\n    var ruleTypes = this.props.ruleTypes;\n    var configFile = configFileContext;\n    // Given by the form\n    configFile[\"rdfs:label\"] = formValues.description;\n    configFile[\"hasMaxSpeed\"] = Number(formValues.maxSpeed);\n    configFile[\"usePublicTransport\"] = formValues.usePublicTransport;\n    // creation of default rules for each type of rule\n    Object.keys(this.props.ruleTypes).map(k => {\n      configFile[k] = [];\n\n      var defaultRule = {};\n      defaultRule[\"concludes\"] = {};\n      defaultRule[\"concludes\"][ruleTypes[k][\"conclusion\"]] =\n        ruleTypes[k][\"defaultValue\"];\n\n      configFile[k].push(defaultRule);\n\n      return k;\n    });\n\n    return configFile;\n  };\n  handleChange = (e, { name, value }) => this.setState({ [name]: value });\n\n  form() {\n    const { description, maxSpeed, usePublicTransport } = this.state;\n    return (\n      <Form>\n        <Form.Input\n          label=\"Description\"\n          placeholder=\"Vehicle profile for...\"\n          name=\"description\"\n          value={description}\n          onChange={this.handleChange}\n          required\n        />\n\n        <Form.Input\n          type=\"number\"\n          label=\"Maximum speed\"\n          placeholder=\"Speed in km/h\"\n          name=\"maxSpeed\"\n          value={maxSpeed}\n          onChange={this.handleChange}\n          required\n        />\n        <Form.Checkbox\n          label=\"Use public transport\"\n          onChange={() => {\n            this.setState({ usePublicTransport: !usePublicTransport });\n          }}\n          checked={usePublicTransport}\n        />\n        {this.state.showErrorMessage && (\n          <Segment> All field values must be completed</Segment>\n        )}\n      </Form>\n    );\n  }\n\n  render() {\n    return (\n      <Grid centered>\n        <Grid.Row columns={1} stretched style={{ height: \"80%\", padding: \"0\" }}>\n          <Grid.Column className=\"contentColumn\">{this.form()} </Grid.Column>\n        </Grid.Row>\n        <Grid.Row columns={2} stretched style={{ height: \"20%\", padding: \"0\" }}>\n          <Button.Group style={{ width: \"100%\" }}>\n            <BackButton\n              onClick={() => {\n                this.props.onChangeContent(\"INDEX\");\n              }}\n            />\n            <Button.Or />\n            <ConfirmButton\n              disabled={false}\n              onClick={() => {\n                var showErrorMessage = false;\n                Object.keys(this.state).map(k => {\n                  if (this.state[k] === \"\" || this.state[k] === null) {\n                    showErrorMessage = true;\n                  }\n                  return k;\n                });\n                if (showErrorMessage) {\n                  this.setState({ showErrorMessage: true });\n                } else {\n                  this.props.onConfirm(\n                    this.onNewConfigFileCreation(this.state)\n                  );\n                }\n              }}\n            />\n          </Button.Group>\n        </Grid.Row>\n      </Grid>\n    );\n  }\n}\nexport default NewConfigFileForm;\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport \"./landingPage.css\";\nimport Index from \"./Index.jsx\";\nimport Upload from \"./Upload.jsx\";\nimport NewConfigFileForm from \"./NewFileForm\";\n\nconst customModalStyle = {\n  content: {\n    width: \"80%\",\n    height: \"80%\",\n    padding: \"0\",\n    borderRadius: \"12px\",\n    outline: \"none\",\n    border: \"none\",\n    top: \"50%\",\n    left: \"50%\",\n    position: \"absolute\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  },\n  overlay: {\n    backgroundColor: \"rgba(0, 0, 0, 0.7)\"\n  }\n};\n\nModal.setAppElement(\"#root\");\n\nclass LandingPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: true,\n      content: \"INDEX\",\n      fileData: {}\n    };\n\n    this.handleOpenModal = this.handleOpenModal.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.handleChangeContent = this.handleChangeContent.bind(this);\n    this.handleConfirm = this.handleConfirm.bind(this);\n  }\n\n  handleOpenModal() {\n    this.setState({ showModal: true });\n  }\n\n  handleCloseModal() {\n    this.setState({ showModal: false });\n  }\n\n  handleChangeContent(content, data) {\n    this.setState({ content: content, fileData: data });\n  }\n\n  handleConfirm(configFile) {\n    this.handleCloseModal();\n    this.props.onConfirm(configFile);\n  }\n\n  content = () => {\n    switch (this.state.content) {\n      case \"INDEX\":\n        return (\n          <Index\n            ruleTypes={this.props.ruleTypes}\n            onChangeContent={this.handleChangeContent}\n          />\n        );\n      case \"UPLOAD\":\n        return (\n          <Upload\n            ruleTypes={this.props.ruleTypes}\n            onChangeContent={this.handleChangeContent}\n            onConfirm={this.handleConfirm}\n            data={this.state.fileData}\n          />\n        );\n      case \"NEW\":\n        return (\n          <NewConfigFileForm\n            ruleTypes={this.props.ruleTypes}\n            onChangeContent={this.handleChangeContent}\n            onConfirm={this.handleConfirm}\n          />\n        );\n      default:\n        return null;\n    }\n  };\n\n  render() {\n    return (\n      <Modal\n        isOpen={this.state.showModal}\n        contentLabel=\"Landing Page\"\n        style={customModalStyle}\n      >\n        <this.content />\n      </Modal>\n    );\n  }\n}\n\nexport default LandingPage;\n","import React from \"react\";\nimport {\n  Form,\n  Label,\n  Modal,\n  Segment,\n  Grid,\n  Button,\n  Message\n} from \"semantic-ui-react\";\nimport BackButton from \"../../landingPage/BackButton\";\nimport ConfirmButton from \"../../landingPage/ConfirmButton\";\nimport \"../../landingPage/landingPage.css\";\n\nclass NewRuleForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModal: true,\n      ruleType: \"hasAccessRules\",\n      key: \"osm:access\",\n      value: \"osm:Customers\",\n      conclusion: true,\n      order: 1\n    };\n  }\n\n  handleChange = (e, { name, value }) => {\n    this.setState({ [name]: value });\n  };\n\n  handleChangeChecked = e =>\n    this.setState({ conclusion: !this.state.conclusion });\n\n  form() {\n    const ruleTypeOptions = Object.keys(this.props.ruleTypes).map(k => {\n      return {\n        key: k,\n        value: k,\n        text: k\n      };\n    });\n\n    const keyOptions = Object.keys(this.props.selectOptions).map(k => {\n      return {\n        key: k,\n        value: k,\n        text: k\n      };\n    });\n\n    const prop = this.props.selectOptions[this.state.key];\n    const valueOptions =\n      prop === undefined\n        ? []\n        : prop.map(val => {\n            return {\n              key: val,\n              value: val,\n              text: val\n            };\n          });\n\n    let conclusionForm;\n    if (this.props.ruleTypes[this.state.ruleType].type === \"number\") {\n      conclusionForm = (\n        <Form.Input\n          type=\"number\"\n          name=\"conclusion\"\n          placeholder={this.props.ruleTypes[this.state.ruleType].conclusion}\n          label=\"conclusion\"\n          onChange={this.handleChange}\n          value={this.state.conclusion}\n        />\n      );\n    } else if (this.state.ruleType !== \"\") {\n      let label = this.props.ruleTypes[this.state.ruleType][\"conclusion\"];\n      conclusionForm = (\n        <Form.Checkbox\n          name=\"conclusion\"\n          placeholder={label}\n          label={label}\n          onChange={this.handleChangeChecked}\n          checked={this.state.conclusion}\n          slider\n        />\n      );\n    } else {\n      conclusionForm = null;\n    }\n\n    return (\n      <Form>\n        <Form.Select\n          name=\"ruleType\"\n          placeholder=\"Type of rule\"\n          label=\"Rule\"\n          options={ruleTypeOptions} //TODO: change it\n          onChange={this.handleChange}\n          value={this.state.ruleType}\n        />\n\n        <Form.Group>\n          <Form.Select\n            name=\"key\"\n            placeholder=\"Condition key\"\n            label=\"key\"\n            options={keyOptions}\n            onChange={this.handleChange}\n            value={this.state.key}\n          />\n          <Form.Select\n            name=\"value\"\n            placeholder=\"Condition value\"\n            label=\"value\"\n            options={valueOptions}\n            onChange={this.handleChange}\n            value={this.state.value}\n          />\n        </Form.Group>\n        <Form.Group />\n        {conclusionForm}\n        <Form.Input\n          name=\"order\"\n          placeholder=\"Order of priority\"\n          label=\"Order of priority\"\n          onChange={this.handleChange}\n          value={this.state.order}\n        />\n        {this.state.showErrorMessage && (\n          <Segment>\n            {\" \"}\n            <Label> All field values must be completed </Label>\n          </Segment>\n        )}\n      </Form>\n    );\n  }\n\n  content = () => {\n    return (\n      <Grid centered style={{height: '100%', margin: 0}}>\n        <Grid.Row columns={1} stretched style={{ height: \"50%\", padding: \"12px\" }}>\n          <Grid.Column className=\"contentColumn\">{this.form()} </Grid.Column>\n        </Grid.Row>\n        <Grid.Row columns={2} stretched style={{ height: \"50px\", padding: \"0\" }}>\n          <Button.Group style={{ width: \"100%\"}}>\n            <BackButton onClick={this.props.onClose} />\n            <Button.Or />\n            <ConfirmButton\n              onClick={() => {\n                var showErrorMessage = false;\n                Object.keys(this.state).map(k => {\n                  if (this.state[k] === \"\" || this.state[k] === null) {\n                    showErrorMessage = true;\n                  }\n                  return k;\n                });\n                if (showErrorMessage) {\n                  this.setState({ showErrorMessage: true });\n                } else {\n                  this.props.onSubmit(this.state);\n                }\n              }}\n            />\n          </Button.Group>\n        </Grid.Row>\n      </Grid>\n    );\n  };\n\n  render() {\n    // TODO: required not working ?\n    return (\n      <Modal open={this.props.showModal} style={{'border-radius': '12px'}}>\n        <this.content />\n      </Modal>\n    );\n  }\n}\n\nexport default NewRuleForm;\n","import React from \"react\";\nimport { Modal, Button } from \"semantic-ui-react\";\nimport JSONInput from \"react-json-editor-ajrm\";\nimport locale from \"react-json-editor-ajrm/locale/en\";\nimport BackButton from \"../landingPage/BackButton\";\nimport ConfirmButton from \"../landingPage/ConfirmButton\";\n\nexport default function ConfigFileModal(props) {\n  var width = \"60vw\";\n  return (\n    <Modal open={props.open} style={{ width: width }}>\n      <JSONInput\n        id=\"configFile_editor\"\n        placeholder={props.configFile}\n        locale={locale}\n        height=\"70vh\"\n        width={width}\n        viewOnly={true}\n      />\n      <Button.Group style={{ width: width }}>\n        <BackButton onClick={props.onClose} />\n      </Button.Group>\n    </Modal>\n  );\n}\n","import React from \"react\";\nimport {\n  Card,\n  Button,\n  Icon,\n  Input,\n  Checkbox,\n  Segment,\n  Modal\n} from \"semantic-ui-react\";\nimport ConfigFileModal from \"../ConfigFileModal\";\n\nclass RuleCard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModal: false\n    };\n  }\n\n  handleChange = (e, { value, checked }) => {\n    if (value === undefined) {\n      this.props.onChange(this.props.type, this.props.index, checked);\n    } else {\n      this.props.onChange(this.props.type, this.props.index, value);\n    }\n  };\n\n  content() {\n    var key = 0;\n    var option;\n    // for now only take the first key\n    var conclusion = Object.keys(this.props.rule.concludes)[0];\n    switch (typeof this.props.rule.concludes[conclusion]) {\n      case \"string\":\n      case \"number\":\n        option = (\n          <Input\n            type=\"number\"\n            value={this.props.rule.concludes[conclusion]}\n            onChange={this.handleChange}\n          />\n        );\n        break;\n      case \"boolean\":\n        option = (\n          <Checkbox\n            toggle\n            checked={this.props.rule.concludes[conclusion]}\n            onChange={this.handleChange}\n          />\n        );\n        break;\n      default:\n        option = null;\n        break;\n    }\n    key++;\n    return (\n      <Segment>\n        {\" \"}\n        {conclusion} {option}{\" \"}\n      </Segment>\n    );\n  }\n\n  handleCloseModal = () => {\n    this.setState({ showModal: false });\n  };\n\n  handleOpenModal = () => {\n    this.setState({ showModal: true });\n  };\n\n  render() {\n    var header;\n    if (this.props.rule.match) {\n      header =\n        this.props.rule.match.hasPredicate +\n        \" - \" +\n        this.props.rule.match.hasObject;\n    } else {\n      header = \"Default rule\";\n    }\n    return (\n      <Card fluid>\n        <Card.Content>\n          {\" \"}\n          <Card.Header> {header} </Card.Header>\n        </Card.Content>\n        <Card.Content>{this.content()}</Card.Content>\n        <Card.Content>\n          {\" \"}\n          <Button.Group style={{ width: \"100%\" }}>\n            <Button\n              onClick={() => {\n                this.props.onDelete(this.props.type, this.props.index);\n              }}\n              icon\n              disabled={header === \"Default rule\"}\n            >\n              <Icon name=\"trash alternate outline\" />\n            </Button>\n            <Button.Or />\n            <Button\n              onClick={() => {\n                this.handleOpenModal();\n              }}\n              icon\n            >\n              <Icon name=\"code\" />\n            </Button>\n          </Button.Group>{\" \"}\n          {this.state.showModal && (\n            <ConfigFileModal\n              open={this.state.showModal}\n              onClose={() => {\n                this.setState({ showModal: false });\n              }}\n              configFile={this.props.rule}\n            />\n          )}\n        </Card.Content>\n      </Card>\n    );\n  }\n}\n\nexport default RuleCard;\n","import React from \"react\";\nimport NewRuleForm from \"./rules/NewRuleForm\";\nimport { Button, Accordion, Icon, Menu, Segment } from \"semantic-ui-react\";\nimport RuleCard from \"./rules/ruleCard\";\nimport ConfigFileModal from \"./ConfigFileModal\";\nimport OntologyReader from \"../lib/OntologyReader\";\n\nexport default class LeftPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModal: false,\n      showConfigFile: false,\n      activeIndex: 0\n    };\n  }\n\n  handleCloseModal = () => {\n    this.setState({ showModal: false });\n  };\n\n  handleClick = (e, titleProps) => {\n    const { index } = titleProps;\n    const { activeIndex } = this.state;\n    const newIndex = activeIndex === index ? -1 : index;\n\n    this.setState({ activeIndex: newIndex });\n  };\n\n  displayContent() {\n    if (this.props.loaded) {\n      var i = -1;\n      return Object.keys(this.props.ruleTypes).map(ruleType => {\n        i++;\n        var j = 0;\n        return (\n          <React.Fragment key={i}>\n            <Accordion.Title\n              active={this.state.activeIndex === i}\n              index={i}\n              onClick={this.handleClick}\n            >\n              <Icon name=\"dropdown\" />\n              {ruleType}\n            </Accordion.Title>\n            <Accordion.Content active={this.state.activeIndex === i}>\n              {this.props.configFile[ruleType].map(rule => {\n                return (\n                  <RuleCard\n                    type={ruleType}\n                    index={j++}\n                    key={JSON.stringify(rule)}\n                    rule={rule}\n                    onChange={this.props.onRuleConclusionChange}\n                    onDelete={this.props.onRuleDelete}\n                  />\n                );\n              })}\n            </Accordion.Content>\n          </React.Fragment>\n        );\n      });\n    } else {\n      return null;\n    }\n  }\n\n  handleSubmit = formValues => {\n    var newActiveIndex = Object.keys(this.props.ruleTypes).indexOf(\n      formValues.ruleType\n    );\n    if (newActiveIndex != this.state.activeIndex)\n      this.setState({ activeIndex: newActiveIndex });\n    this.handleCloseModal();\n    this.props.onNewRuleSubmit(formValues);\n  };\n\n  displayBasicProperties = () => {\n    return (\n      <React.Fragment key={10}>\n        <Accordion.Title\n          active={this.state.activeIndex === 10}\n          index={10}\n          onClick={this.handleClick}\n        >\n          <Icon name=\"dropdown\" />\n          {\"Basic properties\"}\n        </Accordion.Title>\n        <Accordion.Content active={this.state.activeIndex === 10}>\n          {Object.keys(this.props.configFile).map(key => {\n            var value = this.props.configFile[key];\n            if (!Array.isArray(value) && !(typeof value === \"object\")) {\n              var text = key + \" : \" + value;\n              return <Segment key={text}> {text} </Segment>;\n            }\n          })}\n        </Accordion.Content>\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"Left-panel\">\n        <Menu style={{margin: '12px', width: '100%'}}>\n          {/*<Menu.Item>\n            <img src=\"./assets/logo.jpg\" />\n          </Menu.Item>*/}\n          <Menu.Item>\n            <Button\n              primary\n              onClick={() => {\n                this.setState({ showModal: true });\n              }}\n            >\n              Add a rule\n            </Button>\n          </Menu.Item>\n          <Menu.Item>\n            <Button\n              onClick={() => {\n                this.setState({ showConfigFile: true });\n              }}\n              secondary\n            >\n              Display config file\n            </Button>\n          </Menu.Item>\n        </Menu>\n\n        <Accordion fluid styled style={{margin: '12px',}}>\n          {this.displayBasicProperties()}\n          {this.displayContent()}\n        </Accordion>\n        {this.state.showModal && (\n          <NewRuleForm\n            showModal={this.state.showModal}\n            ruleTypes={this.props.ruleTypes}\n            selectOptions={this.props.rulesSelectOptions}\n            onSubmit={this.handleSubmit}\n            onClose={this.handleCloseModal}\n          />\n        )}\n        {this.state.showConfigFile && (\n          <ConfigFileModal\n            open={this.state.showConfigFile}\n            configFile={this.props.configFile}\n            onClose={() => {\n              this.setState({ showConfigFile: false });\n            }}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","const SPARQL = require('@comunica/actor-init-sparql');\n\n\nexport default class OntologyReader {\n    constructor(source) {\n        this._source = [{ type: 'file', value: source }];\n        this._engine = SPARQL.newEngine();\n    }\n\n    getEntityDescription(subject) {\n        return new Promise((resolve, reject) => {\n            const sources = this._source;\n\n            const query = `\n                  SELECT ?p ?o WHERE {\n                    <${subject}> ?p ?o.\n                  }`;\n\n            let results = {};\n            this._engine.query(query, { sources }).then(result => {\n                result.bindingsStream.on('data', data => {\n                    results[data.get('?p').value] = data.get('?o').value;\n                }).on('end', () => {\n                    resolve(results);\n                });\n            });\n        });\n    }\n\n    getNamedIndividualsForProperty(property) {\n        return new Promise((resolve, reject) => {\n            const sources = this._source;\n\n            const query = `\n                  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n                  \n                  SELECT ?ni WHERE {\n                    <${property}> rdfs:range ?range.\n                    ?ni a ?range.\n                  }`;\n\n            let results = [];\n            this._engine.query(query, { sources }).then(result => {\n                result.bindingsStream.on('data', data => {\n                    results.push(data.get('?ni').value);\n                }).on('end', () => {\n                    resolve(results);\n                });\n            });\n        });\n    }\n}","import React from \"react\";\nimport { Button, Icon, Label } from 'semantic-ui-react';\n\nexport default function MarkerButton(props){\n    return(\n        <Button disabled={props.disabled} as='div'  labelPosition='right'\n                onClick={props.onClick}>\n            <Button icon>\n                <Icon name='pin icon' />\n                {props.children}\n            </Button>\n            <Label as='a' basic pointing='left'>{props.marker.placed\n                && Math.round(props.marker.lngLat.lat * 10000) / 10000 + \", \"\n                + Math.round(props.marker.lngLat.lng * 10000) / 10000}</Label>\n        </Button>\n    );\n}","import React from \"react\";\nimport { Button, Container, Dropdown, Icon, Input, Label } from 'semantic-ui-react';\nimport MarkerButton from './markerButton';\n\nclass MapToolbar extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            active_route_label_input: undefined,\n        }\n    }\n\n    updateActiveRouteText(evt) {\n        this.setState({\n          active_route_label_input: evt.target.value,\n        });\n      }\n\n    render(){\n        const { calculating, from_marker, to_marker, selectable_routes, selected_routes, \n                handleSelectedRouteAddition, handleSelectedRoutesChange, calculateRoute,\n                saveCurrentRoute, createToMarker, createFromMarker } = this.props;\n        return(\n            <Container className=\"mapToolbar\">\n                \n                <MarkerButton disabled={calculating}\n                              onClick={() => {createFromMarker()}}\n                              marker={from_marker}>\n                    From\n                </MarkerButton>\n                <MarkerButton disabled={calculating}\n                              onClick={() => {createToMarker()}}\n                              marker={to_marker}>\n                    To\n                </MarkerButton>\n                \n\n                <Button disabled={!(from_marker.lngLat && to_marker.lngLat) || calculating}\n                    loading={calculating}\n                    onClick={() => { calculateRoute() }}>\n                    Calculate route\n                </Button>\n\n                <Input type='text' placeholder='name' \n                        onChange={this.updateActiveRouteText} \n                        value={this.state.active_route_label_input} action\n                        disabled={!(from_marker.lngLat && to_marker.lngLat) || calculating} >\n                    <input />\n                    <Button type='submit' \n                        onClick={() => {saveCurrentRoute(this.state.active_route_label_input)}} \n                        disabled={!(from_marker.lngLat && to_marker.lngLat) || calculating} >\n                            Save route\n                    </Button>\n                </Input>\n\n                <Dropdown\n                    options={selectable_routes}\n                    placeholder='Choose routes to display'\n                    search\n                    selection\n                    fluid\n                    multiple\n                    allowAdditions\n                    value={selected_routes}\n                    onAddItem={handleSelectedRouteAddition}\n                    onChange={handleSelectedRoutesChange}\n                    className=\"routeSelectDropdown\"\n                />\n            </Container>\n        );\n    }\n}\n\nexport default MapToolbar;","import { Planner } from \"plannerjs\";\nimport React from \"react\";\nimport ReactMapboxGl, { Feature, Layer } from \"react-mapbox-gl\";\nimport MapToolbar from './maptoolbar';\n\nconst Map = ReactMapboxGl({\n  accessToken:\n    \"pk.eyJ1Ijoid291dGVydmRkIiwiYSI6ImNqczRvbzRlMzA2a2UzeWx4MHlqem1lajYifQ.-kYtzbZnQhJTVeh8zDfgYg\"\n});\n\n\nconst markerFromGeojson = {\n  \"type\": \"FeatureCollection\",\n  \"features\": [\n    {\n      \"type\": \"Feature\",\n      \"geometry\": {\n        \"type\": \"Point\",\n        \"coordinates\": [0, 0]\n      }\n    }\n  ]\n};\nconst markerToGeojson = {\n  \"type\": \"FeatureCollection\",\n  \"features\": [\n    {\n      \"type\": \"Feature\",\n      \"geometry\": {\n        \"type\": \"Point\",\n        \"coordinates\": [0, 0]\n      }\n    }\n  ]\n};\n\nconst lineLayout = {\n  \"line-cap\": \"round\",\n  \"line-join\": \"round\"\n};\n\nconst linePaint = {\n  \"line-color\": \"#B52700\",\n  \"line-width\": 8\n};\n\nconst savedRouteLinePaint = {\n  'line-color': '#BABABA',\n  'line-width': 5\n};\n\nconst containerStyle = {\n  height: \"80vh\",\n  width: \"100%\",\n  cursor: ''\n};\n\n\nclass MapPannel extends React.Component{\n    \n    constructor(props) {\n      super(props);\n      this.state = {\n        center: [4.5118, 50.6282],  //should be props?\n        zoom: [6.83],\n        calculating: false,\n        from_marker: {\n          placed: false,\n          enabled: false,\n          dragging: false,\n          lngLat: undefined\n        },\n        to_marker: {\n          placed: false,\n          enabled: false,\n          dragging: false,\n          lngLat: undefined\n        },\n        active_route: {\n          key: undefined,\n          text: undefined,\n          coordinates: []\n        },\n        saved_routes: [],\n        selectable_routes: [],\n        selected_routes: [],\n        container_style: containerStyle\n      };\n\n    this.createFromMarker = this.createFromMarker.bind(this);\n    this.createToMarker = this.createToMarker.bind(this);\n    this.onStyleLoad = this.onStyleLoad.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseClick = this.onMouseClick.bind(this);\n    this.calculateRoute = this.calculateRoute.bind(this);\n    this.handleSelectedRoutesChange = this.handleSelectedRoutesChange.bind(this);\n    this.handleSelectedRouteAddition = this.handleSelectedRouteAddition.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n\n    this.planner = new Planner();\n    this.planner.setProfileID(\"PEDESTRIAN\");\n  }\n\n  componentDidUpdate(pervProps){\n    if(pervProps.configFile !== this.props.configFile){\n      this.planner.setDevelopmentProfile(this.props.configFile);\n      console.log(\"config file loaded:\");\n      console.log(this.props.configFile);\n    }\n  }\n\n\n  calculateRoute() {\n    if (this.state.from_marker.placed && this.state.to_marker.placed && !this.state.calculating) {\n      this.setState({ calculating: true });\n      let query = {\n        roadNetworkOnly: true,  // don't mix with publicTransportOnly, for obvious reasons\n        from: { latitude: this.state.from_marker.lngLat.lat, longitude: this.state.from_marker.lngLat.lng },\n        to: { latitude: this.state.to_marker.lngLat.lat, longitude: this.state.to_marker.lngLat.lng }\n      };\n      console.log(query);\n      console.log(\"waiting...\");\n      console.log(\"querying planner.js...\");\n      this.planner.query(query)\n        .take(1)\n        .on(\"error\", (error) => {\n          console.log(error);\n        })\n        .on(\"data\", (path) => {\n          //console.log(\"got result:\");\n          //console.log(JSON.stringify(path, null, \" \"));\n          let route_coordinates = [];\n          path.steps.forEach((step) => {\n            route_coordinates.push([step.startLocation.longitude, step.startLocation.latitude]);\n            route_coordinates.push([step.stopLocation.longitude, step.stopLocation.latitude]);\n          });\n          //console.log(coordinates);\n          let date = new Date();\n          this.setState(prevState => ({\n            active_route: {\n              key: prevState.saved_routes.length,\n              text: date.toISOString(),\n              coordinates: route_coordinates\n            }\n          }));\n        })\n        .on(\"end\", () => {\n          console.log(\"end\\n\");\n          this.setState({ calculating: false });\n        });\n    }\n  }\n\n  saveCurrentRoute(label) {\n    //set the label\n    this.setState(prevState => ({\n      active_route: {\n        key: prevState.active_route.key,\n        text: label,\n        coordinates: prevState.active_route.coordinates\n      }\n    }));\n    let key = this.state.active_route.key;\n    let routeExists = false;\n    this.state.saved_routes.forEach((route) => {\n      if (route.key === key) {\n        routeExists = true;\n        return;\n      }\n    });\n    if (!routeExists) {\n      this.setState(prevState => ({\n        saved_routes: [prevState.active_route, ...prevState.saved_routes],\n        selectable_routes: [{ key: prevState.active_route.key, text: prevState.active_route.text, value: prevState.active_route.key }, \n                            ...prevState.selectable_routes]\n      }));\n    }\n\n    console.log(this.state.saved_routes);\n  }\n\n  onMouseUp(map, e) {\n    var coords = e.lngLat;\n    if (this.state.from_marker.dragging) {\n      this.setState(prevState => ({\n        from_marker: {\n          placed: prevState.from_marker.placed,\n          enabled: prevState.from_marker.enabled,\n          dragging: false,\n          lngLat: coords\n        }\n      }));\n      this.calculateRoute();\n    }\n    else if (this.state.to_marker.dragging) {\n      this.setState(prevState => ({\n        to_marker: {\n          placed: prevState.to_marker.placed,\n          enabled: prevState.to_marker.enabled,\n          dragging: false,\n          lngLat: coords\n        }\n      }));\n      this.calculateRoute();\n    }\n  }\n  onStyleLoad(map, e) {\n    map.addSource('from_marker', {\n      \"type\": \"geojson\",\n      \"data\": markerFromGeojson\n    });\n    map.addSource('to_marker', {\n      \"type\": \"geojson\",\n      \"data\": markerToGeojson\n    });\n    map.addLayer({\n      \"id\": \"from_marker\",\n      \"type\": \"circle\",\n      \"source\": \"from_marker\",\n      \"paint\": {\n        \"circle-radius\": 10,\n        \"circle-color\": \"#3887be\"\n      }\n    });\n    map.addLayer({\n      \"id\": \"to_marker\",\n      \"type\": \"circle\",\n      \"source\": \"to_marker\",\n      \"paint\": {\n        \"circle-radius\": 10,\n        \"circle-color\": \"#6b7cff\"\n      }\n    });    \n\n      let parent = this;\n      // When the cursor enters a feature in the point layer, prepare for dragging.\n      map.on('mouseenter', 'from_marker', function() {\n        map.setPaintProperty('from_marker', 'circle-color', '#3bb2d0');\n        containerStyle.cursor = \"move\";\n        parent.setState({container_style: containerStyle});\n      });\n          \n      map.on('mouseleave', 'from_marker', function() {\n        map.setPaintProperty('from_marker', 'circle-color', '#3887be');\n        containerStyle.cursor = \"\";\n        parent.setState({container_style: containerStyle});\n      });\n      \n      map.on('mousedown', 'from_marker', function(e) {\n        // Prevent the default map drag behavior.\n        e.preventDefault();\n        \n        parent.setState(prevState => ({\n          from_marker: {\n            placed: prevState.from_marker.placed,\n            enabled: prevState.from_marker.enabled,\n            dragging: true,\n            lngLat: prevState.from_marker.lngLat\n          }\n        }));\n        containerStyle.cursor = \"grab\";\n        parent.setState({container_style: containerStyle});\n      });\n\n      map.on('mouseenter', 'to_marker', function() {\n        map.setPaintProperty('to_marker', 'circle-color', '#3bb2d0');\n        containerStyle.cursor = \"move\";\n        parent.setState({container_style: containerStyle});\n      });\n          \n      map.on('mouseleave', 'to_marker', function() {\n        map.setPaintProperty('to_marker', 'circle-color', '#9f7feb');\n        containerStyle.cursor = \"\";\n        parent.setState({container_style: containerStyle});\n      });\n      \n      map.on('mousedown', 'to_marker', function(e) {\n        // Prevent the default map drag behavior.\n        e.preventDefault();\n        parent.setState(prevState => ({\n          to_marker: {\n            placed: prevState.to_marker.placed,\n            enabled: prevState.to_marker.enabled,\n            dragging: true,\n            lngLat: prevState.to_marker.lngLat\n          }\n        }));\n        containerStyle.cursor = \"grab\";\n        parent.setState({container_style: containerStyle});\n      });\n    }\n\n  onMouseClick(map, evt) {\n    var coords = evt.lngLat;\n    if (this.state.from_marker.enabled && !this.state.from_marker.placed && !this.state.from_marker.dragging) {\n      console.log(\"placed from-marker at \" + this.state.from_marker.lngLat);\n      this.setState(prevState => ({\n        from_marker: {\n          placed: true,\n          enabled: true,\n          dragging: false,\n          lngLat: coords\n        }\n      }));\n      console.log(this.state.from_marker);\n    }\n    if (this.state.to_marker.enabled && !this.state.to_marker.placed && !this.state.to_marker.dragging) {\n      console.log(\"placed to-marker at \" + this.state.to_marker.lngLat);\n      this.setState(prevState => ({\n        to_marker: {\n          placed: true,\n          enabled: true,\n          dragging: false,\n          lngLat: coords\n        }\n      }));\n      console.log(this.state.to_marker);\n    }\n    \n    if(this.state.from_marker.enabled && this.state.to_marker.enabled\n      && (JSON.stringify([this.state.from_marker.lngLat.lng, this.state.from_marker.lngLat.lat])\n          !== JSON.stringify(this.state.active_route.coordinates[0])\n      ||  JSON.stringify([this.state.to_marker.lngLat.lng, this.state.to_marker.lngLat.lat])\n          !== JSON.stringify(this.state.active_route.coordinates[this.state.active_route.coordinates.length -1]))){\n      this.calculateRoute();\n    }\n  }\n\n  onMouseMove(map, evt) {\n    if (this.state.from_marker.enabled && !this.state.from_marker.placed && !this.state.from_marker.dragging) {\n      markerFromGeojson.features[0].geometry.coordinates = [evt.lngLat.lng, evt.lngLat.lat];\n      map.getSource('from_marker').setData(markerFromGeojson);\n    }\n    else if (this.state.to_marker.enabled && !this.state.to_marker.placed && !this.state.to_marker.dragging) {\n      markerToGeojson.features[0].geometry.coordinates = [evt.lngLat.lng, evt.lngLat.lat];\n      map.getSource('to_marker').setData(markerToGeojson);\n    }\n    if (this.state.from_marker.dragging) {\n      markerFromGeojson.features[0].geometry.coordinates = [evt.lngLat.lng, evt.lngLat.lat];\n      map.getSource('from_marker').setData(markerFromGeojson);\n    } else if (this.state.to_marker.dragging) {\n      markerToGeojson.features[0].geometry.coordinates = [evt.lngLat.lng, evt.lngLat.lat];\n      map.getSource('to_marker').setData(markerToGeojson);\n    }\n  }\n\n  createFromMarker() {\n    console.log(this.state.from_marker)\n    this.setState(prevState => ({\n      from_marker: {\n        placed: false,\n        enabled: true,\n        dragging: prevState.from_marker.dragging,\n        lngLat: prevState.from_marker.lngLat\n      }\n    }));\n  }\n\n  createToMarker() {\n    console.log(this.state.to_marker.lngLat)\n    this.setState(prevState => ({\n      to_marker: {\n        placed: false,\n        enabled: true,\n        dragging: prevState.to_marker.dragging,\n        lngLat: prevState.to_marker.lngLat\n      }\n    }));\n  }\n\n  handleSelectedRouteAddition = (e, { value }) => {\n    console.log(\"hadleAddition value\");\n    console.log(value);\n    this.setState(prevState => ({\n      selectable_routes: [...prevState.selectable_routes, { key: value, text: value, value }],\n    }))\n  }\n\n  handleSelectedRoutesChange = (e, { value }) => {\n    console.log(\"hadleChange value\");\n    console.log(value);\n    console.log(this.state.saved_routes);\n    this.setState({ selected_routes: value })\n  }\n\n  render() {\n    const { center, zoom, from_marker, to_marker } = this.state;\n    const routesToDraw = this.state.selected_routes.map((k) => {\n      let size = this.state.saved_routes.length;\n      let i = 0;\n      while (this.state.saved_routes[i].key != k && i < size) {\n        i++;\n      }\n      return (\n        <Layer type=\"line\" layout={lineLayout} paint={savedRouteLinePaint}>\n          <Feature coordinates={this.state.saved_routes[i].coordinates} />\n        </Layer>\n      );\n    }\n\n    );\n    return (\n      <div style={{height: '100%', width: '100%'}}>\n        <MapToolbar style={{height: '20vh', width: '100vh'}}\n              calculating={this.state.calculating}\n              from_marker={this.state.from_marker}\n              to_marker={this.state.to_marker}\n              createFromMarker={this.createFromMarker}\n              createToMarker={this.createToMarker}\n              selectable_routes={this.state.selectable_routes}\n              selected_routes={this.state.selected_routes}\n              handleSelectedRouteAddition={this.handleSelectedRouteAddition}\n              handleSelectedRoutesChange={this.handleSelectedRoutesChange}\n              calculateRoute={this.calculateRoute}\n              saveCurrentRoute={this.saveCurrentRoute}/>\n        <Map\n          style=\"mapbox://styles/mapbox/streets-v11\"\n          containerStyle={ this.state.container_style } \n          center={ center }\n          zoom={ zoom }\n          onStyleLoad={this.onStyleLoad}\n          onMouseMove={this.onMouseMove}\n          onMouseUp={this.onMouseUp}\n          onClick={this.onMouseClick}>\n            <Layer type=\"line\" layout={lineLayout} paint={linePaint}>\n                <Feature coordinates={ this.state.active_route.coordinates } />\n            </Layer>\n            {routesToDraw}\n        </Map>\n      </div>\n        );\n      }\n}\n\nexport default MapPannel;\n","import React from \"react\";\nimport MapPannel from \"./map/map\";\n\nfunction RightPanel(props) {\n  return (\n  <div className=\"Right-panel\">\n    <MapPannel configFile={props.configFile} style={{height: '100%', width: '100%' }}/>\n  </div>\n  );\n}\n\nexport default RightPanel;\n","import React from \"react\";\nimport LandingPage from \"./landingPage/LandingPage.jsx\";\nimport LeftPanel from \"./mainPage/LeftPanel.jsx\";\nimport RightPanel from \"./mainPage/RightPanel.jsx\";\nimport \"./App.css\";\nimport logo from \"./assets/logo.jpg\";\nconst rulesSelectOptions = {\n  \"osm:access\": [\n    \"osm:Agricultural\",\n    \"osm:Customers\",\n    \"osm:Delivery\",\n    \"osm:Designated\",\n    \"osm:Destination\",\n    \"osm:Discouraged\",\n    \"osm:Dismount\",\n    \"osm:Emergency\",\n    \"osm:Forestry\",\n    \"osm:NoAccess\",\n    \"osm:Permissive\",\n    \"osm:Private\",\n    \"osm:UseSidepath\",\n    \"osm:FreeAccess\"\n  ],\n  \"osm:barrier\": [\n    \"osm:Block\",\n    \"osm:Bollard\",\n    \"osm:BorderControl\",\n    \"osm:BumpGate\",\n    \"osm:BusTrap\",\n    \"osm:CattleGrid\",\n    \"osm:Chain\",\n    \"osm:CycleBarrier\",\n    \"osm:Debris\",\n    \"osm:Entrance\",\n    \"osm:Gate\",\n    \"osm:LiftGate\",\n    \"osm:SallyPort\",\n    \"osm:SwingGate\",\n    \"osm:TollBooth\",\n    \"osm:Turnstile\"\n  ],\n  \"osm:bicycle\": [\n    \"osm:Designated\",\n    \"osm:Destination\",\n    \"osm:Dismount\",\n    \"osm:NoAccess\",\n    \"osm:OfficialAccess\",\n    \"osm:Permissive\",\n    \"osm:Private\",\n    \"osm:UseSidepath\",\n    \"osm:FreeAccess\"\n  ],\n  \"osm:construction\": [\"osm:UnderConstruction\"],\n  \"osm:crossing\": [\"osm:Uncontrolled\", \"osm:Unmarked\"],\n  \"osm:cycleway\": [\n    \"osm:Lane\",\n    \"osm:Opposite\",\n    \"osm:OpposciteLane\",\n    \"osm:OppositeTrack\",\n    \"osm:ShareBusway\",\n    \"osm:Shared\",\n    \"osm:SharedLane\",\n    \"osm:Track\"\n  ],\n  \"osm:footway\": [\"osm:Sidewalk\"],\n  \"osm:highway\": [\n    \"osm:Bridleway\",\n    \"osm:UnderConstruction\",\n    \"osm:HighwayCrossing\",\n    \"osm:CycleHighway\",\n    \"osm:FootHighway\",\n    \"osm:GiveWay\",\n    \"osm:LivingStreet\",\n    \"osm:Motorway\",\n    \"osm:MotorwayLink\",\n    \"osm:Path\",\n    \"osm:Primary\",\n    \"osm:PrimaryLink\",\n    \"osm:Proposed\",\n    \"osm:Residential\",\n    \"osm:Road\",\n    \"osm:Secondary\",\n    \"osm:SecondaryLink\",\n    \"osm:Service\",\n    \"osm:Steps\",\n    \"osm:Stop\",\n    \"osm:Tertiary\",\n    \"osm:TertiaryLink\",\n    \"osm:Track\",\n    \"osm:TrafficSignals\",\n    \"osm:Trunk\",\n    \"osm:TrunkLink\",\n    \"osm:Unclassified\"\n  ],\n  \"osm:motor_vehicle\": [\n    \"osm:Agricultural\",\n    \"osm:Customers\",\n    \"osm:Delivery\",\n    \"osm:Designated\",\n    \"osm:Destination\",\n    \"osm:NoAccess\",\n    \"osm:Official\",\n    \"osm:Permissive\",\n    \"osm:Private\",\n    \"osm:FreeAccess\"\n  ],\n  \"osm:motorcar\": [\n    \"osm:Agricultural\",\n    \"osm:Customers\",\n    \"osm:Delivery\",\n    \"osm:Designated\",\n    \"osm:Destination\",\n    \"osm:Forestry\",\n    \"osm:NoAccess\",\n    \"osm:Official\",\n    \"osm:Permissive\",\n    \"osm:Private\",\n    \"osm:FreeAccess\"\n  ],\n  \"osm:oneway_bicycle\": [\n    \"osm:InReverseOrder\",\n    \"osm:InOrder\",\n    \"osm:Bidirectional\",\n    \"osm:InOrder\"\n  ],\n  \"osm:oneway\": [\n    \"osm:InReverseOrder\",\n    \"osm:InOrder\",\n    \"osm:InOrder\",\n    \"osm:Bidirectional\"\n  ],\n  \"osm:smoothness\": [\n    \"osm:BadSmoothness\",\n    \"osm:ExcellentSmoothness\",\n    \"osm:GoodSmoothness\",\n    \"osm:HorribleSmoothness\",\n    \"osm:ImpassableSmoothness\",\n    \"osm:IntermediateSmoothness\",\n    \"osm:VeryBadSmoothness\",\n    \"osm:VeryHorribleSmoothness\"\n  ],\n  \"osm:surface\": [\n    \"osm:Asphalt\",\n    \"osm:Cobblestone\",\n    \"osm:Compacted\",\n    \"osm:Concrete\",\n    \"osm:Dirt\",\n    \"osm:Dirt\",\n    \"osm:FineGravel\",\n    \"osm:Grass\",\n    \"osm:Gravel\",\n    \"osm:Ground\",\n    \"osm:Mud\",\n    \"osm:Paved\",\n    \"osm:PavingStones\",\n    \"osm:Pebblestone\",\n    \"osm:Sand\",\n    \"osm:Sett\",\n    \"osm:UnhewnCobblestone\",\n    \"osm:Unpaved\",\n    \"osm:Wood\"\n  ],\n  \"osm:tracktype\": [\n    \"osm:Grade1\",\n    \"osm:Grade2\",\n    \"osm:Grade3\",\n    \"osm:Grade4\",\n    \"osm:Grade5\"\n  ],\n  \"osm:vehicle\": [\n    \"osm:Customers\",\n    \"osm:Delivery\",\n    \"osm:Designated\",\n    \"osm:Destination\",\n    \"osm:Forestry\",\n    \"osm:NoAccess\",\n    \"osm:Permissive\",\n    \"osm:Private\",\n    \"osm:FreeAccess\"\n  ]\n};\n\nconst ruleTypes = {\n  hasAccessRules: {\n    conclusion: \"hasAccess\",\n    type: \"boolean\",\n    defaultValue: false\n  },\n  hasObstacleRules: {\n    conclusion: \"isObstacle\",\n    type: \"boolean\",\n    defaultValue: true\n  },\n  hasOnewayRules: {\n    conclusion: \"isOneway\",\n    type: \"boolean\",\n    defaultValue: true\n  },\n  hasPriorityRules: {\n    conclusion: \"hasPriority\",\n    type: \"number\",\n    defaultValue: 0\n  },\n  hasSpeedRules: {\n    conclusion: \"hasSpeed\",\n    type: \"number\",\n    defaultValue: 35\n  }\n};\n\nfunction Header() {\n  return (\n    <header className=\"App-header\">\n      <img src={logo} className=\"App-logo\" alt=\"logo\" />\n      <span className=\"App-header\"> Configuroute </span>\n    </header>\n  );\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      configFile: {},\n      leftLoaded: false\n    };\n  }\n\n  handleFileConfirm = configFile => {\n    this.setState({ configFile: configFile, leftLoaded: true });\n  };\n\n  handleNewRuleSubmit = formValues => {\n    var isANewRule = true;\n    this.state.configFile[formValues.ruleType].map(rule => {\n      if (\n        rule[\"match\"] &&\n        rule[\"match\"][\"hasPredicate\"] === formValues.key &&\n        rule[\"match\"][\"hasObject\"] === formValues.value\n      ) {\n        isANewRule = false;\n        return false;\n      }\n      return true;\n    });\n\n    if (isANewRule) {\n      var configFile = { ...this.state.configFile };\n      var conclusionLabel = ruleTypes[formValues.ruleType].conclusion;\n\n      let newRule = {\n        match: {\n          hasPredicate: formValues.key,\n          hasObject: formValues.value\n        },\n        concludes: {\n          [conclusionLabel]: formValues.conclusion\n        },\n        hasOrder: formValues.order\n      };\n\n      configFile[formValues.ruleType].unshift(newRule);\n      this.setState({ configFile: configFile, showModal: false });\n    } else {\n      this.setState({ triggerMessage: true });\n    }\n  };\n\n  handleRuleConclusionChange = (type, index, value) => {\n    var configFile = { ...this.state.configFile };\n    configFile[type][index][\"concludes\"][\n      [ruleTypes[type][\"conclusion\"]]\n    ] = value;\n    this.setState({ configFile: configFile });\n  };\n\n  handleRuleDelete = (type, index) => {\n    var configFile = { ...this.state.configFile };\n    if (index !== configFile[type].length - 1) {\n      configFile[type].splice(index, 1);\n      this.setState({ configFile: configFile });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <LandingPage ruleTypes={ruleTypes} onConfirm={this.handleFileConfirm} />\n        <Header />\n        <div className=\"App-content\">\n          <LeftPanel\n            ruleTypes={ruleTypes}\n            rulesSelectOptions={rulesSelectOptions}\n            loaded={this.state.leftLoaded}\n            configFile={this.state.configFile}\n            onNewRuleSubmit={this.handleNewRuleSubmit}\n            onRuleConclusionChange={this.handleRuleConclusionChange}\n            onRuleDelete={this.handleRuleDelete}\n            className=\"Left-panel\"\n          />\n          <RightPanel\n            configFile={this.state.configFile} \n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.47bb72e5.jpg\";"],"sourceRoot":""}