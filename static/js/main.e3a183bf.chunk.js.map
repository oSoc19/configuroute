{"version":3,"sources":["landingPage/ImportButton.jsx","landingPage/Index.jsx","landingPage/BackButton.jsx","landingPage/ConfirmButton.jsx","landingPage/Upload.jsx","landingPage/NewFileForm.jsx","landingPage/LandingPage.jsx","mainPage/rules/DescriptionItem.jsx","mainPage/rules/NewRuleForm.jsx","mainPage/rules/RuleItem.jsx","mainPage/ConfigFileModal.jsx","basicPropertiesModal.jsx","mainPage/LeftPanel.jsx","mainPage/map/markerButton.jsx","mainPage/map/maptoolbar.jsx","mainPage/map/tooltipContent.jsx","mainPage/map/map.jsx","mainPage/RightPanel.jsx","lib/OntologyReader.js","App.jsx","serviceWorker.js","index.js","assets/logo.jpg"],"names":["ImportButton","Index","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","parseConfigurationFile","state","screen","errorMessage","configFile","file","explanation_visible","triggerImportFile","bind","assertThisInitialized","toggleTextVisibility","reactComponent","fileInput","document","getElementsByClassName","ruleTypes","click","addEventListener","e","files","type","match","reader","FileReader","onload","validFile","JSON","parse","result","keys","map","k","Array","isArray","error","onChangeContent","valid","readAsText","setState","prevState","_this2","react_default","a","createElement","style","textAlign","Image","centered","src","className","Transition","Group","animation","duration","href","target","rel","onClick","Icon","name","size","width","multiple","display","accept","paddingTop","React","Component","BackButton","Button","icon","labelPosition","padding","margin","height","borderRadius","ConfirmButton","disabled","label","Upload","validFileScreen","errorScreen","dimmerActive","nbOfRules","undefined","data","length","Segment","Label","computeNumberOfRules","_this3","Dimmer","active","Loader","content","onBack","onConfirm","configFileContext","@context","osm","opp","prov","hasMaxSpeed","@id","usePublicTransport","hasAccessRules","hasOnewayRules","hasSpeedRules","hasPriorityRules","hasObstacleRules","hasAccess","isOneway","isReversed","hasSpeed","isObstacle","hasPriority","concludes","hasOrder","fromProperty","@type","hasPredicate","hasObject","NewConfigFileForm","onNewConfigFileCreation","formValues","description","Number","maxSpeed","defaultRule","push","handleChange","_ref","value","defineProperty","showErrorMessage","_this$state","Form","inverted","Input","placeholder","onChange","required","Checkbox","checked","Message","negative","Header","profile_url","request","XMLHttpRequest","open","send","onreadystatechange","readyState","status","getResponseHeader","indexOf","responseText","alert","startFromProfile","Divider","horizontal","form","customModalStyle","outline","border","top","left","position","marginRight","transform","backgroundColor","overlay","Modal","setAppElement","LandingPage","landingPage_Index","handleChangeContent","landingPage_Upload","handleConfirm","fileData","NewFileForm","lib_default","isOpen","showModal","contentLabel","DescriptionItem","Item","Content","as","header","Meta","Description","NewRuleForm","handleChangeChecked","conclusion","Grid","Row","columns","stretched","Column","landingPage_BackButton","onClose","Or","landingPage_ConfirmButton","onSubmit","ruleType","key","order","prefix","rulesLink","string","index","char","slice","stringToChange","upperCasesIndexes","i","l","toUpperCase","insertCharacterInString","conclusionForm","ruleTypeOptions","text","beautifyString","tags","selectOptions","keyOptions","valueOptions","values","valueName","defaultChecked","slider","Fragment","Select","options","divided","getTagLink","getTagComment","getValueLink","toLowerCase","getValueComment","border-radius","RuleItem","handleCloseModal","handleOpenModal","popupContent","rule","tag","option","toggle","replace","onDelete","Popup","hideOnScroll","trigger","on","onOpen","ConfigFileModal","es","id","locale","viewOnly","BasicPropertiesModal","_this$setState","transport","modified","speed","console","log","LeftPanel","handleClick","parseInt","newIndex","activeIndex","handleSubmit","newActiveIndex","onNewRuleSubmit","displayBasicProperties","String","generateDropdownOptions","loaded","rulesSelectOptions","concat","toConsumableArray","handleSelectedKeywordsChange","selectedKeywords","download","element","setAttribute","encodeURIComponent","stringify","body","appendChild","removeChild","getLink","link","getComment","comment","keyName","showConfigFile","showBasicPropertiesModal","includes","_this4","j","count","rulesMatchesKeyword","rules_RuleItem","onRuleConclusionChange","onRuleDelete","_this5","alt","Dropdown","pointing","Menu","rules_NewRuleForm","basicPropertiesModal_BasicPropertiesModal","newProperties","onChangeBasicProperties","search","selection","displayContent","MarkerButton","children","basic","marker","placed","Math","round","lngLat","lat","lng","MapToolbar","_this$props","calculating","from_marker","to_marker","selectable_routes","selected_routes","handleSelectedRouteAddition","handleSelectedRoutesChange","calculateRoute","saveCurrentRoute","createToMarker","createFromMarker","updateActiveRouteText","active_route_label_error","Container","attached","loading","evt","active_route_label_input","action","color","fluid","allowAdditions","onAddItem","unselectable","WebkitTouchCallout","WebkitUserSelect","KhtmlUserSelect","MozUserSelect","MsUserSelect","UserSelect","TooltipContent","features","feature","layer","startsWith","Map","ReactMapboxGl","accessToken","markerFromGeojson","geometry","coordinates","markerToGeojson","lineLayout","line-cap","line-join","linePaint","line-color","line-width","savedRouteLinePaint","containerStyle","cursor","MapPannel","_ref2","saved_routes","center","zoom","map_features","show_tooltip","cursor_location","enabled","visible","dragging","active_route","container_style","onStyleLoad","onMouseMove","onMouseClick","onMouseUp","onMouseLeave","planner","Planner","setProfileID","pervProps","setDevelopmentProfile","query","roadNetworkOnly","from","latitude","longitude","to","take","path","route_coordinates","steps","forEach","step","startLocation","stopLocation","date","Date","toISOString","routeExists","route","localeCompare","coords","updateTooltip","addSource","addLayer","source","paint","circle-radius","circle-color","parent","setPaintProperty","preventDefault","getCanvas","queryRenderedFeatures","point","filtered_features","setLayoutProperty","getSource","setData","routesToDraw","lib_esm","layout","maptoolbar","bottom","overflowY","onMouseOut","offset","bottom-left","bottom-right","tooltipContent","RightPanel","SPARQL","require","OntologyReader","_source","_engine","newEngine","subject","Promise","resolve","reject","sources","results","then","bindingsStream","get","property","properties","defaultValue","App","handleFileConfirm","queryOntologyForInformation","handleNewRuleSubmit","objectSpread","isANewRule","conclusionLabel","newRule","unshift","handleRuleConclusionChange","handleRuleDelete","splice","handleChangeBasicProperties","showLandingPage","leftLoaded","ontology","engine","sourceURL","getNamedIndividualsForProperty","getEntityDescription","landingPage_LandingPage","LeftPanel_LeftPanel","mainPage_RightPanel","Boolean","window","location","hostname","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"kUAmBeA,ICuJAC,cApKb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAYRQ,uBAAyB,aAXvBP,EAAKQ,MAAQ,CACXC,OAAQ,YACRC,aAAc,GACdC,WAAY,GACZC,KAAM,GACNC,qBAAqB,GAEvBb,EAAKc,kBAAoBd,EAAKc,kBAAkBC,KAAvBd,OAAAe,EAAA,EAAAf,CAAAD,IACzBA,EAAKiB,qBAAuBjB,EAAKiB,qBAAqBF,KAA1Bd,OAAAe,EAAA,EAAAf,CAAAD,IAVXA,iFAeDkB,GAChB,IAEIC,EAFQC,SAASC,uBAAuB,sBAEtB,GAClBC,EAAYnB,KAAKJ,MAAMuB,UAE3BH,EAAUI,QACVJ,EAAUK,iBAAiB,SAAU,SAASC,GAC5C,IAAIb,EAAOO,EAAUO,MAAM,GAG3B,GAAId,EAAKe,KAAKC,MAFC,UAEgB,CAC7B,IAAIC,EAAS,IAAIC,WAEjBD,EAAOE,OAAS,SAASN,GACvB,IAAId,EACAqB,GAAY,EAEhB,IAEgC,OAD9BrB,EAAasB,KAAKC,MAAML,EAAOM,SAChB,cACbH,GAAY,GAEd/B,OAAOmC,KAAKd,GAAWe,IAAI,SAAAC,GAGzB,OAFqB,MAAjB3B,EAAW2B,IAAeC,MAAMC,QAAQ7B,EAAW2B,MACrDN,GAAY,IACP,IAET,MAAOS,GACPT,GAAY,EAGVA,EACFd,EAAenB,MAAM2C,gBAAgB,SAAU,CAC7CC,OAAO,EACP/B,KAAMA,EACND,WAAYsB,KAAKC,MAAML,EAAOM,UAGhCjB,EAAenB,MAAM2C,gBAAgB,SAAU,CAC7CC,OAAO,EACP/B,KAAM,KACND,WAAY,QAKlBkB,EAAOe,WAAWhC,QAElBM,EAAenB,MAAM2C,gBAAgB,SAAU,CAC7CC,OAAO,EACP/B,KAAM,KACND,WAAY,wDAOlBR,KAAK0C,SAAS,SAAAC,GAAS,MAAK,CAC1BjC,qBAAsBiC,EAAUjC,wDAI3B,IAAAkC,EAAA5C,KACCU,EAAwBV,KAAKK,MAA7BK,oBACR,OACEmC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,UAAW,WACvBJ,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAOC,UAAQ,EAACC,IAAI,kBAAkBC,UAAU,eAChDR,EAAAC,EAAAC,cAAA,KAAGM,UAAU,cAAb,uDAGAR,EAAAC,EAAAC,cAACO,EAAA,EAAWC,MAAZ,CAAkBC,UAAU,YAAYC,SAAU,KAC/C/C,GACCmC,EAAAC,EAAAC,cAAA,OAAKM,UAAU,4BACbR,EAAAC,EAAAC,cAAA,2ZASAF,EAAAC,EAAAC,cAAA,wIAIEF,EAAAC,EAAAC,cAAA,KACEM,UAAU,eACVK,KAAK,2CACLC,OAAO,SACPC,IAAI,wBAJN,mCAJF,OAkBNf,EAAAC,EAAAC,cAAA,KACEM,UAAU,eACVQ,QAAS,WACPjB,EAAK9B,yBAGNJ,EAAsB,YAAc,YACrCmC,EAAAC,EAAAC,cAACe,EAAA,EAAD,CACEC,KAAMrD,EAAsB,WAAa,aACzCsD,KAAK,YAIXnB,EAAAC,EAAAC,cAAA,OAAKM,UAAU,uBACbR,EAAAC,EAAAC,cAAA,UACEM,UAAU,sCACVQ,QAAS,WACPjB,EAAKhD,MAAM2C,gBAAgB,SAG7BM,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAM,OAAQf,MAAO,CAAEiB,MAAO,SACpCpB,EAAAC,EAAAC,cAAA,QAAMM,UAAU,gBAAhB,eAEFR,EAAAC,EAAAC,cAAA,QAAMM,UAAU,2CAAhB,MACAR,EAAAC,EAAAC,cAAA,UACEM,UAAU,sCACVQ,QAAS,WACPjB,EAAKjC,kBAAkBiC,KAGzBC,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAM,WAAYf,MAAO,CAAEiB,MAAO,SACxCpB,EAAAC,EAAAC,cAAA,SACEvB,KAAK,OACL6B,UAAU,qBACVa,SAAS,GACTlB,MAAO,CAAEmB,QAAS,QAClBC,OAAO,UAETvB,EAAAC,EAAAC,cAAA,QAAMM,UAAU,eAAeL,MAAO,CAACqB,WAAY,QAAnD,yBA7JQC,IAAMC,kDCaXC,MAff,SAAoB5E,GAClB,OACEiD,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CACEC,MAAI,EACJC,cAAc,OACdtB,UAAW,sBACXQ,QAASjE,EAAMiE,QACfb,MAAO,CAAC4B,QAAW,EAAGC,OAAU,EAAGC,OAAQ,OAAQC,aAAgB,eAEnElC,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAM,aAAcf,MAAO,CAAEiB,MAAO,OAASD,KAAK,UAP1D,YCcWgB,MAhBf,SAAuBpF,GACrB,OACEiD,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CACEC,MAAI,EACJC,cAAc,QACdtB,UAAW,sBACXQ,QAASjE,EAAMiE,QACfoB,SAAUrF,EAAMqF,SAChBjC,MAAO,CAAC4B,QAAS,EAAGC,OAAQ,EAAGC,OAAQ,OAAQC,aAAc,qBAE7DlC,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAM,QAASf,MAAO,CAAEiB,MAAO,OAASD,KAAK,UAClDpE,EAAMsF,MAAQtF,EAAMsF,MAAQ,sBC+EpBC,cA/Eb,SAAAA,EAAYvF,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmF,IACjBtF,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqF,GAAAhF,KAAAH,KAAMJ,KAEDwF,gBAAkBvF,EAAKuF,gBAAgBxE,KAArBd,OAAAe,EAAA,EAAAf,CAAAD,IACvBA,EAAKwF,YAAcxF,EAAKwF,YAAYzE,KAAjBd,OAAAe,EAAA,EAAAf,CAAAD,IACnBA,EAAKQ,MAAQ,CACXiF,cAAc,GANCzF,sFAUI,IAAA+C,EAAA5C,KACjBuF,EAAY,EAEhB,YAAmCC,IAA/BxF,KAAKJ,MAAM6F,KAAKjF,WAAiC+E,GAErDzF,OAAOmC,KAAKjC,KAAKJ,MAAMuB,WAAWe,IAAI,SAAAC,GAEpC,OADAoD,GAAa3C,EAAKhD,MAAM6F,KAAKjF,WAAW2B,GAAGuD,SAItCH,6CAIP,OACE1C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIM,UAAU,cAAcL,MAAO,CAAC6B,OAAQ,SAA5C,IAAuD7E,KAAKJ,MAAM6F,KAAKhF,KAAKsD,KAA5E,KACAlB,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAS3C,MAAO,CAAC6B,OAAQ,SACvBhC,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,gBADF,IAC0B5F,KAAKJ,MAAM6F,KAAKhF,KAAKuD,KAAO,UAEtDnB,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAS3C,MAAO,CAAC6B,OAAQ,SACvBhC,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,iBADF,IAC2B5F,KAAKJ,MAAM6F,KAAKjF,WAAW,cAAe,KAErEqC,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAS3C,MAAO,CAAC6B,OAAQ,SACvBhC,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,2BADF,IACqC5F,KAAK6F,+DAO9C,OACIhD,EAAAC,EAAAC,cAAA,MAAIM,UAAU,eAAd,0DAKJ,OAAIrD,KAAKJ,MAAM6F,KAAKjD,MACXK,EAAAC,EAAAC,cAAA/C,KAAMoF,gBAAN,MAEAvC,EAAAC,EAAAC,cAAA/C,KAAMqF,YAAN,uCAGF,IAAAS,EAAA9F,KACP,OACE6C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgD,EAAA,EAAD,CAAQC,OAAQhG,KAAKK,MAAMiF,cACzBzC,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAQjC,KAAK,QAAb,YAEChE,KAAKkG,UACNrD,EAAAC,EAAAC,cAAA,OAAKM,UAAU,uBACfR,EAAAC,EAAAC,cAAA,UAAQM,UAAU,oDAAoDQ,QAAS7D,KAAKJ,MAAMuG,QACtFtD,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAM,eACZlB,EAAAC,EAAAC,cAAA,wBAEJF,EAAAC,EAAAC,cAAA,UAAQM,UAAU,sCAChBQ,QAAS,WACPiC,EAAKpD,SAAS,CAAE4C,cAAc,IAC9BQ,EAAKlG,MAAMwG,UAAUN,EAAKlG,MAAM6F,KAAKjF,cAEvCqC,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAM,YAAaf,MAAO,CAAEiB,MAAO,OAASD,KAAK,UACvDnB,EAAAC,EAAAC,cAAA,QAAMC,MAAO,CAACqB,WAAY,QAA1B,+BAxESC,IAAMC,yCCGrB8B,EAAoB,CACxBC,WAAY,CACVC,IAAK,wCACLC,IAAK,4CACLC,KAAM,6BACNC,YAAa,CACXC,MAAO,mBAETC,mBAAoB,CAClBD,MAAO,0BAETE,eAAgB,CACdF,MAAO,sBAETG,eAAgB,CACdH,MAAO,sBAETI,cAAe,CACbJ,MAAO,qBAETK,iBAAkB,CAChBL,MAAO,wBAETM,iBAAkB,CAChBN,MAAO,wBAETO,UAAW,CACTP,MAAO,iBAETQ,SAAU,CACRR,MAAO,gBAETS,WAAY,CACVT,MAAO,kBAETU,SAAU,CACRV,MAAO,gBAETW,WAAY,CACVX,MAAO,kBAETY,YAAa,CACXZ,MAAO,mBAETa,UAAW,CACTb,MAAO,iBAETc,SAAU,CACRd,MAAO,gBAETlF,MAAO,CACLkF,MAAO,aAETe,aAAc,CACZf,MAAO,mBACPgB,QAAS,OAEXC,aAAc,CACZjB,MAAO,mBACPgB,QAAS,OAEXE,UAAW,CACTlB,MAAO,gBACPgB,QAAS,SAqLAG,cAhLb,SAAAA,EAAYlI,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8H,IACjBjI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgI,GAAA3H,KAAAH,KAAMJ,KAWRmI,wBAA0B,SAAAC,GACxB,IAAI7G,EAAYtB,EAAKD,MAAMuB,UACvBX,EAAa6F,EAoBjB,OAlBA7F,EAAW,cAAgBwH,EAAWC,YACtCzH,EAAU,YAAkB0H,OAAOF,EAAWG,UAC9C3H,EAAU,mBAAyBwH,EAAWpB,mBAE9C9G,OAAOmC,KAAKpC,EAAKD,MAAMuB,WAAWe,IAAI,SAAAC,GACpC3B,EAAW2B,GAAK,GAEhB,IAAIiG,EAAc,CAClBA,UAA2B,IAO3B,OANAA,EAAW,UAAcjH,EAAUgB,GAAV,YACvBhB,EAAUgB,GAAV,aACFiG,EAAW,SAAe,IAE1B5H,EAAW2B,GAAGkG,KAAKD,GAEZjG,IAGF3B,GAlCUX,EAoCnByI,aAAe,SAAChH,EAADiH,GAAA,IAAMxE,EAANwE,EAAMxE,KAAMyE,EAAZD,EAAYC,MAAZ,OAAwB3I,EAAK6C,SAAL5C,OAAA2I,EAAA,EAAA3I,CAAA,GAAiBiE,EAAOyE,KAjC7D3I,EAAKQ,MAAQ,CACX4H,YAAa,GACbE,SAAU,GACVvB,oBAAoB,EACpB8B,kBAAkB,EAClBpD,cAAc,GARCzF,sEAsCZ,IAAA+C,EAAA5C,KAAA2I,EACiD3I,KAAKK,MAAnD4H,EADHU,EACGV,YAAaE,EADhBQ,EACgBR,SAAUvB,EAD1B+B,EAC0B/B,mBAC/B,OACE/D,EAAAC,EAAAC,cAAC6F,EAAA,EAAD,CAAMC,UAAQ,GACZhG,EAAAC,EAAAC,cAAC6F,EAAA,EAAKE,MAAN,CACE5D,MAAM,cACN6D,YAAY,yBACZhF,KAAK,cACLyE,MAAOP,EACPe,SAAUhJ,KAAKsI,aACfW,UAAQ,IAGVpG,EAAAC,EAAAC,cAAC6F,EAAA,EAAKE,MAAN,CACEtH,KAAK,SACL0D,MAAM,gBACN6D,YAAY,gBACZhF,KAAK,WACLyE,MAAOL,EACPa,SAAUhJ,KAAKsI,aACfW,UAAQ,IAEVpG,EAAAC,EAAAC,cAAC6F,EAAA,EAAKM,SAAN,CACEhE,MAAM,uBACN8D,SAAU,WACRpG,EAAKF,SAAS,CAAEkE,oBAAqBA,KAEvCuC,QAASvC,IAEV5G,KAAKK,MAAMqI,kBACV7F,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAASC,UAAQ,GACfxG,EAAAC,EAAAC,cAACqG,EAAA,EAAQE,OAAT,2CACAzG,EAAAC,EAAAC,cAAA,iHAOOhC,EAAgBwI,GAE/B,IAAIC,EAAU,IAAIC,eAClBD,EAAQE,KAAK,MAAOH,GAAa,GACjCC,EAAQG,KAAK,MACbH,EAAQI,mBAAqB,WACA,IAAvBJ,EAAQK,YAAuC,MAAnBL,EAAQM,SAET,IADlBN,EAAQO,kBAAkB,gBAC5BC,QAAQ,QACfjJ,EAAenB,MAAMwG,UAAUtE,KAAKC,MAAMyH,EAAQS,eAElDC,MAAM,uDAIZlK,KAAK0C,SAAS,CAAE4C,cAAc,qCAGvB,IAAAQ,EAAA9F,KACP,OACE6C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgD,EAAA,EAAD,CAAQC,OAAQhG,KAAKK,MAAMiF,cACzBzC,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAQjC,KAAK,QAAb,YAEFnB,EAAAC,EAAAC,cAAA,OAAKM,UAAU,iBACbR,EAAAC,EAAAC,cAAA,MAAIM,UAAU,eAAd,gCACAR,EAAAC,EAAAC,cAAA,OAAKM,UAAU,sBACbR,EAAAC,EAAAC,cAAA,UAAQM,UAAU,kCACdU,KAAK,MACLF,QAAS,WAEPiC,EAAKqE,iBACHrE,EACA,4FAIJjD,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAK,MAAMC,KAAK,UAExBnB,EAAAC,EAAAC,cAAA,UAAQM,UAAU,kCAChBU,KAAK,OACLF,QAAS,WAEPiC,EAAKqE,iBACHrE,EACA,6FAIJjD,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAK,UAAUC,KAAK,UAE5BnB,EAAAC,EAAAC,cAAA,UAAQM,UAAU,kCAChBU,KAAK,mBACLF,QAAS,WAEPiC,EAAKqE,iBACHrE,EACA,mGAIJjD,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAK,QAAQC,KAAK,WAG5BnB,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAASvB,UAAQ,EAACwB,YAAU,GAA5B,MACAxH,EAAAC,EAAAC,cAAA,MAAIM,UAAU,eAAd,wBACCrD,KAAKsK,QAEVzH,EAAAC,EAAAC,cAAA,OAAKM,UAAU,uBACbR,EAAAC,EAAAC,cAAA,UAAQM,UAAU,oDAAoDQ,QAAS7D,KAAKJ,MAAMuG,QACtFtD,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAK,eACXlB,EAAAC,EAAAC,cAAA,wBAEJF,EAAAC,EAAAC,cAAA,UAAQM,UAAU,sCAChBQ,QAAS,WACT,IAAI6E,GAAmB,EACvB5I,OAAOmC,KAAK6D,EAAKzF,OAAO6B,IAAI,SAAAC,GAI1B,MAHsB,KAAlB2D,EAAKzF,MAAM8B,IAA+B,OAAlB2D,EAAKzF,MAAM8B,KACrCuG,GAAmB,GAEdvG,IAELuG,EACF5C,EAAKpD,SAAS,CAAEgG,kBAAkB,KAElC5C,EAAKpD,SAAS,CAAE4C,cAAc,IAC9BQ,EAAKlG,MAAMwG,UACTN,EAAKiC,wBAAwBjC,EAAKzF,WAItCwC,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAK,YAAYf,MAAO,CAAEiB,MAAO,OAASD,KAAK,UACrDnB,EAAAC,EAAAC,cAAA,QAAMC,MAAO,CAACqB,WAAY,QAA1B,+BA1KoBC,IAAMC,WC5EhCgG,EAAmB,CACvBrE,QAAS,CACPjC,MAAO,MACPa,OAAQ,MACRF,QAAS,EACTG,aAAc,MACdyF,QAAS,OACTC,OAAQ,OACRC,IAAK,MACLC,KAAM,MACNC,SAAU,WACVC,YAAa,OACbC,UAAW,wBACXC,gBAAiB,WAEnBC,QAAS,CACPD,gBAAiB,6BAIrBE,IAAMC,cAAc,aAwELC,cArEb,SAAAA,EAAYvL,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmL,IACjBtL,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqL,GAAAhL,KAAAH,KAAMJ,KAkBRsG,QAAU,WACR,OAAQrG,EAAKQ,MAAM6F,SACjB,IAAK,QACH,OACErD,EAAAC,EAAAC,cAACqI,EAAD,CACEjK,UAAWtB,EAAKD,MAAMuB,UACtBoB,gBAAiB1C,EAAKwL,sBAG5B,IAAK,SACH,OACExI,EAAAC,EAAAC,cAACuI,EAAD,CACEnK,UAAWtB,EAAKD,MAAMuB,UACtBiF,UAAWvG,EAAK0L,cAChBpF,OAAQ,WACNtG,EAAKwL,oBAAoB,UAE3B5F,KAAM5F,EAAKQ,MAAMmL,SACjBjJ,gBAAiB1C,EAAKwL,sBAG5B,IAAK,MACH,OACExI,EAAAC,EAAAC,cAAC0I,EAAD,CACEtK,UAAWtB,EAAKD,MAAMuB,UACtBiF,UAAWvG,EAAK0L,cAChBpF,OAAQ,WACNtG,EAAKwL,oBAAoB,UAE3B9I,gBAAiB1C,EAAKwL,sBAG5B,QACE,OAAO,OAlDXxL,EAAKQ,MAAQ,CACX6F,QAAS,QACTsF,SAAU,IAGZ3L,EAAKwL,oBAAsBxL,EAAKwL,oBAAoBzK,KAAzBd,OAAAe,EAAA,EAAAf,CAAAD,IAC3BA,EAAK0L,cAAgB1L,EAAK0L,cAAc3K,KAAnBd,OAAAe,EAAA,EAAAf,CAAAD,IARJA,mFAWCqG,EAAST,GAC3BzF,KAAK0C,SAAS,CAAEwD,QAASA,EAASsF,SAAU/F,0CAGhCjF,GACZR,KAAKJ,MAAMwG,UAAU5F,oCAyCrB,OACEqC,EAAAC,EAAAC,cAAC2I,EAAA5I,EAAD,CACE6I,OAAQ3L,KAAKJ,MAAMgM,UACnBC,aAAa,eACb7I,MAAOuH,GAEP1H,EAAAC,EAAAC,cAAA/C,KAAMkG,QAAN,cAhEkB5B,IAAMC,kDC1BjB,SAASuH,EAAgBlM,GACtC,OACEiD,EAAAC,EAAAC,cAACgJ,EAAA,EAAD,KACElJ,EAAAC,EAAAC,cAACgJ,EAAA,EAAKC,QAAN,KACEnJ,EAAAC,EAAAC,cAACgJ,EAAA,EAAKzC,OAAN,CAAa2C,GAAG,IAAIvI,KAAM9D,EAAM8D,KAAMC,OAAO,UAC1C/D,EAAMsM,QAETrJ,EAAAC,EAAAC,cAACgJ,EAAA,EAAKI,KAAN,oBACAtJ,EAAAC,EAAAC,cAACgJ,EAAA,EAAKK,YAAN,KAAmBxM,EAAMqI,mBC6OlBoE,cAxOb,SAAAA,EAAYzM,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqM,IACjBxM,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuM,GAAAlM,KAAAH,KAAMJ,KAaR0I,aAAe,SAAChH,EAADiH,GAAwB,IAAlBxE,EAAkBwE,EAAlBxE,KAAMyE,EAAYD,EAAZC,MACzB3I,EAAK6C,SAAL5C,OAAA2I,EAAA,EAAA3I,CAAA,GAAiBiE,EAAOyE,KAfP3I,EAkBnByM,oBAAsB,SAAAhL,GAAC,OACrBzB,EAAK6C,SAAS,CAAE6J,YAAa1M,EAAKQ,MAAMkM,cAnBvB1M,EAuLnBqG,QAAU,WACR,OACErD,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAMrJ,UAAQ,EAACH,MAAO,CAAE8B,OAAQ,OAAQD,OAAQ,IAC9ChC,EAAAC,EAAAC,cAACyJ,EAAA,EAAKC,IAAN,CACEC,QAAS,EACTC,WAAS,EACT3J,MAAO,CAAE8B,OAAQ,MAAOF,QAAS,SAEjC/B,EAAAC,EAAAC,cAACyJ,EAAA,EAAKI,OAAN,CAAavJ,UAAU,iBAAiBxD,EAAKyK,OAA7C,MAEFzH,EAAAC,EAAAC,cAACyJ,EAAA,EAAKC,IAAN,CACEC,QAAS,EACTC,WAAS,EACT3J,MAAO,CAAE8B,OAAQ,OAAQF,QAAS,MAElC/B,EAAAC,EAAAC,cAAC0B,EAAA,EAAOlB,MAAR,CAAcP,MAAO,CAAEiB,MAAO,OAAQW,QAAS,IAC7C/B,EAAAC,EAAAC,cAAC8J,EAAD,CAAYhJ,QAAShE,EAAKD,MAAMkN,UAChCjK,EAAAC,EAAAC,cAAC0B,EAAA,EAAOsI,GAAR,MACAlK,EAAAC,EAAAC,cAACiK,EAAD,CACEnJ,QAAS,WACP,IAAI6E,GAAmB,EACvB5I,OAAOmC,KAAKpC,EAAKQ,OAAO6B,IAAI,SAAAC,GAI1B,MAHsB,KAAlBtC,EAAKQ,MAAM8B,IAA+B,OAAlBtC,EAAKQ,MAAM8B,KACrCuG,GAAmB,GAEdvG,IAELuG,EACF7I,EAAK6C,SAAS,CAAEgG,kBAAkB,IAElC7I,EAAKD,MAAMqN,SAASpN,EAAKQ,cAnNvCR,EAAKQ,MAAQ,CACXuL,WAAW,EACXsB,SAAU,GACVC,IAAK,GACL3E,MAAO,GACP+D,WAAY,GACZa,MAAO,EACPC,OAAQ,wCACRC,UAAW,6CAVIzN,uFAqBK0N,EAAQC,EAAOC,GACrC,GAAIF,EAAO7H,OAAS8H,EAClB,OAAOD,EAAOG,MAAM,EAAGF,GAASC,EAAOF,EAAOG,MAAMF,0CAIzCG,GAIb,IAJ6B,IAAA/K,EAAA5C,KACzB4N,EAAoB,GACpBL,EAASI,EAAeD,MAAM,GAEzBG,EAAI,EAAGA,EAAIN,EAAO7H,OAAQmI,IAAK,CACtC,IAAIC,EAAIF,EAAkBlI,OAASmI,EAC/BA,GAAKN,EAAOM,KAAON,EAAOM,GAAGE,eAC/BH,EAAkBvF,KAAKyF,GAQ3B,OAJAF,EAAkB1L,IAAI,SAAAsL,GAEpB,OADAD,EAAS3K,EAAKoL,wBAAwBT,EAAQC,EAAO,OAGhDD,iCAGF,IA6BDU,EA7BCnI,EAAA9F,KACCkO,EAAkBpO,OAAOmC,KAAKjC,KAAKJ,MAAMuB,WAAWe,IAAI,SAAAC,GAC5D,MAAO,CACLgL,IAAKhL,EACLqG,MAAOrG,EACPgM,KAAMrI,EAAKsI,eAAejM,EAAEuL,MAAM,OAIlCW,EAAOrO,KAAKJ,MAAM0O,cAAcD,KAC9BE,EAAazO,OAAOmC,KAAKoM,GAAMnM,IAAI,SAAAC,GACvC,MAAO,CACLgL,IAAKhL,EACLqG,MAAOrG,EACPgM,KAAMhM,KAIJqM,EAAexO,KAAKK,MAAM8M,IAC5BkB,EAAKrO,KAAKK,MAAM8M,KAAKsB,OAAOvM,IAAI,SAAAwM,GAE9B,MAAO,CACLvB,IAFMuB,EAGNlG,MAHMkG,EAINP,KAJMO,KAOV,GAGJ,GACE1O,KAAKK,MAAM6M,UACwC,WAAnDlN,KAAKJ,MAAMuB,UAAUnB,KAAKK,MAAM6M,UAAU1L,KAE1CyM,EACEpL,EAAAC,EAAAC,cAAC6F,EAAA,EAAKE,MAAN,CACEtH,KAAK,SACLuC,KAAK,aACLgF,YAAa/I,KAAKJ,MAAMuB,UAAUnB,KAAKK,MAAM6M,UAAUX,WACvDrH,MAAM,aACN8D,SAAUhJ,KAAKsI,aACfE,MAAOxI,KAAKK,MAAMkM,WAClBtD,UAAQ,SAGP,GAAIjJ,KAAKK,MAAM6M,SAAU,CAC9B,IAAIhI,EAAQlF,KAAKJ,MAAMuB,UAAUnB,KAAKK,MAAM6M,UAAhC,WACZe,EACEpL,EAAAC,EAAAC,cAAC6F,EAAA,EAAKM,SAAN,CACEnF,KAAK,aACLgF,YAAa7D,EACbA,MAAOA,EACP8D,SAAUhJ,KAAKsM,oBACfnD,QAASnJ,KAAKK,MAAMkM,WACpBoC,gBAAgB,EAChBC,QAAM,SAIVX,EAAiB,KAGnB,OACEpL,EAAAC,EAAAC,cAACF,EAAAC,EAAM+L,SAAP,KACEhM,EAAAC,EAAAC,cAAC6F,EAAA,EAAD,KACE/F,EAAAC,EAAAC,cAAC6F,EAAA,EAAKkG,OAAN,CACE/K,KAAK,WACLgF,YAAY,eACZ7D,MAAM,OACN6J,QAASb,EACTlF,SAAUhJ,KAAKsI,aACfE,MAAOxI,KAAKK,MAAM6M,WAGpBrK,EAAAC,EAAAC,cAAC6F,EAAA,EAAKrF,MAAN,KACEV,EAAAC,EAAAC,cAAC6F,EAAA,EAAKkG,OAAN,CACE/K,KAAK,MACLgF,YAAY,gBACZ7D,MAAM,MACN6J,QAASR,EACTvF,SAAUhJ,KAAKsI,aACfE,MAAOxI,KAAKK,MAAM8M,MAEpBtK,EAAAC,EAAAC,cAAC6F,EAAA,EAAKkG,OAAN,CACE/K,KAAK,QACLgF,YAAa,kBACb7D,MAAM,QACN6J,QAASP,EACTxF,SAAUhJ,KAAKsI,aACfE,MAAOxI,KAAKK,MAAMmI,SAGtB3F,EAAAC,EAAAC,cAAC6F,EAAA,EAAKrF,MAAN,MACC0K,EACDpL,EAAAC,EAAAC,cAAC6F,EAAA,EAAKE,MAAN,CACE/E,KAAK,QACLgF,YAAY,oBACZ7D,MAAM,oBACN8D,SAAUhJ,KAAKsI,aACfE,MAAOxI,KAAKK,MAAM+M,QAEnBpN,KAAKK,MAAMqI,kBACV7F,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,KACG,IACD9C,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,+CAIN/C,EAAAC,EAAAC,cAACgJ,EAAA,EAAKxI,MAAN,CAAYyL,SAAO,GAChBhP,KAAKK,MAAM6M,UACVrK,EAAAC,EAAAC,cAAC+I,EAAD,CACEpI,KAAM1D,KAAKK,MAAMiN,UAAYtN,KAAKK,MAAM6M,SACxChB,OAAQlM,KAAKK,MAAM6M,SAASQ,MAAM,GAClCzF,YACEjI,KAAKJ,MAAMuB,UAAUnB,KAAKK,MAAM6M,UAAUjF,cAI/CjI,KAAKK,MAAM8M,KACVtK,EAAAC,EAAAC,cAAC+I,EAAD,CACEpI,KAAM1D,KAAKJ,MAAMqP,WAAWjP,KAAKK,MAAM8M,KACvCjB,OAAQlM,KAAKK,MAAM8M,IACnBlF,YAAajI,KAAKJ,MAAMsP,cAAclP,KAAKK,MAAM8M,OAIpDnN,KAAKK,MAAMmI,OACV3F,EAAAC,EAAAC,cAAC+I,EAAD,CACEpI,KAAM1D,KAAKJ,MAAMuP,aAAanP,KAAKK,MAAMmI,OACzC0D,OAAQlM,KAAKK,MAAMmI,MAAM4G,cACzBnH,YAAajI,KAAKJ,MAAMyP,gBAAgBrP,KAAKK,MAAMmI,4CAiD7D,OACE3F,EAAAC,EAAAC,cAACkI,EAAA,EAAD,CAAOvB,KAAM1J,KAAKJ,MAAMgM,UAAW5I,MAAO,CAAEsM,gBAAiB,SAC3DzM,EAAAC,EAAAC,cAAA/C,KAAMkG,QAAN,cAnOkB5B,IAAMC,mDCsJjBgL,cAxJb,SAAAA,EAAY3P,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuP,IACjB1P,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyP,GAAApP,KAAAH,KAAMJ,KAOR0I,aAAe,SAAChH,EAADiH,GAA2B,IAArBC,EAAqBD,EAArBC,MAAOW,EAAcZ,EAAdY,aACZ3D,IAAVgD,EACF3I,EAAKD,MAAMoJ,SAASnJ,EAAKD,MAAM4B,KAAM3B,EAAKD,MAAM4N,MAAOrE,GAEvDtJ,EAAKD,MAAMoJ,SAASnJ,EAAKD,MAAM4B,KAAM3B,EAAKD,MAAM4N,MAAOhF,IAZxC3I,EA0DnB2P,iBAAmB,WACjB3P,EAAK6C,SAAS,CAAEkJ,WAAW,KA3DV/L,EA8DnB4P,gBAAkB,WAChB5P,EAAK6C,SAAS,CAAEkJ,WAAW,KA/DV/L,EAkEnB6P,aAAe,WACb,GAAI7P,EAAKD,MAAM+P,KAAKlO,MAAO,CACzB,IAAImO,EAAM/P,EAAKD,MAAM+P,KAAKlO,MAAMmG,aAChCgI,EAAMA,EAAMA,EAAIlC,MAAM,GAAKkC,EAC3B,IAAIpH,EAAQ3I,EAAKD,MAAM+P,KAAKlO,MAAMoG,UAElC,OADAW,EAAQA,EAAQA,EAAMkF,MAAM,GAAKlF,EAE/B3F,EAAAC,EAAAC,cAACgJ,EAAA,EAAKxI,MAAN,KACGqM,GACC/M,EAAAC,EAAAC,cAAC+I,EAAD,CACEpI,KAAM7D,EAAKD,MAAMqP,WAAWW,GAC5B1D,OAAQ0D,EACR3H,YAAapI,EAAKD,MAAMsP,cAAcU,KAGzCpH,GACC3F,EAAAC,EAAAC,cAAC+I,EAAD,CACEpI,KAAM7D,EAAKD,MAAMuP,aAAa3G,GAC9B0D,OAAQ1D,EACRP,YAAapI,EAAKD,MAAMyP,gBAAgB7G,MAMlD,OAAO,MAxFP3I,EAAKQ,MAAQ,CACXuL,WAAW,GAJI/L,yEAiBjB,IAAIgQ,EAEAtD,EAAazM,OAAOmC,KAAKjC,KAAKJ,MAAM+P,KAAKnI,WAAW,GACxD,cAAexH,KAAKJ,MAAM+P,KAAKnI,UAAU+E,IACvC,IAAK,SACHsD,EACEhN,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACEN,MAAOxI,KAAKJ,MAAM+P,KAAKnI,UAAU+E,GACjCvD,SAAUhJ,KAAKsI,eAGnB,MACF,IAAK,SACHuH,EACEhN,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACEtH,KAAK,SACLgH,MAAOxI,KAAKJ,MAAM+P,KAAKnI,UAAU+E,GACjCvD,SAAUhJ,KAAKsI,eAGnB,MACF,IAAK,UACHuH,EACEhN,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CACE4G,QAAM,EACN3G,QAASnJ,KAAKJ,MAAM+P,KAAKnI,UAAU+E,GACnCvD,SAAUhJ,KAAKsI,eAGnB,MACF,QACEuH,EAAS,KAGb,OACEhN,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAS3C,MAAO,CAAC6H,YAAa,IAC3B0B,EADH,IACgBsD,oCAyCX,IACH3D,EADGtJ,EAAA5C,KAYP,OALEkM,EALElM,KAAKJ,MAAM+P,KAAKlO,OAClByK,EACElM,KAAKJ,MAAM+P,KAAKlO,MAAMmG,aACtB,MACA5H,KAAKJ,MAAM+P,KAAKlO,MAAMoG,WACRkI,QAAQ,QAAS,IAExB,eAGN/P,KAAKJ,MAAMuE,QAEdtB,EAAAC,EAAAC,cAACgJ,EAAA,EAAD,KACElJ,EAAAC,EAAAC,cAACgJ,EAAA,EAAKC,QAAN,KACEnJ,EAAAC,EAAAC,cAAA,MAAIM,UAAU,eAAd,IAA8B6I,EAA9B,KACArJ,EAAAC,EAAAC,cAACgJ,EAAA,EAAKK,YAAN,MACAvJ,EAAAC,EAAAC,cAACgJ,EAAA,EAAKI,KAAN,KACGnM,KAAKkG,UACNrD,EAAAC,EAAAC,cAAC0B,EAAA,EAAOlB,MAAR,CAAcP,MAAO,CAAEiB,MAAO,SAC5BpB,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CACEZ,QAAS,WACPjB,EAAKhD,MAAMoQ,SAASpN,EAAKhD,MAAM4B,KAAMoB,EAAKhD,MAAM4N,QAElD9I,MAAI,EACJO,SAAqB,iBAAXiH,GAEVrJ,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAK,6BAEblB,EAAAC,EAAAC,cAAC0B,EAAA,EAAOsI,GAAR,MACAlK,EAAAC,EAAAC,cAACkN,EAAA,EAAD,CACEC,cAAY,EACZC,QACEtN,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CACEZ,QAAS,WACPjB,EAAK6M,mBAEP/K,MAAI,GAEJ7B,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAK,UAGfmC,QAASlG,KAAK0P,eACdU,GAAG,QACH1G,KAAM1J,KAAKK,MAAMuL,UACjBkB,QAAS9M,KAAKwP,iBACda,OAAQrQ,KAAKyP,gBACb7E,SAAS,eAEG,OAtCQ,YA3GbtG,IAAMC,sCCNd,SAAS+L,EAAgB1Q,GAEtC,OACEiD,EAAAC,EAAAC,cAACkI,EAAA,EAAD,CAAOvB,KAAM9J,EAAM8J,KAAM1G,MAAO,CAAEiB,MAFxB,OAEsCa,OAAQ,SACtDjC,EAAAC,EAAAC,cAACwN,EAAA,EAAD,CACEC,GAAG,oBACHzH,YAAanJ,EAAMY,WACnBiQ,OAAQA,IACR3L,OAAO,OACPb,MARM,OASNyM,UAAU,IAEZ7N,EAAAC,EAAAC,cAAC0B,EAAA,EAAOlB,MAAR,CAAcP,MAAO,CAAEiB,MAXf,OAW6Ba,OAAQ,OAC3CjC,EAAAC,EAAAC,cAAC8J,EAAD,CAAYhJ,QAASjE,EAAMkN,gBCdd6D,eACnB,SAAAA,EAAY/Q,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2Q,IACjB9Q,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6Q,GAAAxQ,KAAAH,KAAMJ,KAUR0I,aAAe,SAAChH,EAADiH,GAAiC,IAGvCqI,EAHY7M,EAA2BwE,EAA3BxE,KAAMyE,EAAqBD,EAArBC,MAAOW,EAAcZ,EAAdY,QACnB,cAATpF,EACFlE,EAAK6C,SAAS,CAAEmO,UAAW1H,EAAS2H,UAAU,IAE9CjR,EAAK6C,UAALkO,EAAA,GAAA9Q,OAAA2I,EAAA,EAAA3I,CAAA8Q,EAAiB7M,EAAOyE,GAAxB1I,OAAA2I,EAAA,EAAA3I,CAAA8Q,EAAA,YAAyC,GAAzCA,KAfe/Q,EAmBnByK,KAAO,WACL,OACEzH,EAAAC,EAAAC,cAAC6F,EAAA,EAAD,KACE/F,EAAAC,EAAAC,cAAC6F,EAAA,EAAKE,MAAN,CACE/E,KAAK,QACLmB,MAAM,eACN8D,SAAUnJ,EAAKyI,aACfE,MAAO3I,EAAKQ,MAAM6E,MAClB+D,UAAQ,IAEVpG,EAAAC,EAAAC,cAAC6F,EAAA,EAAKE,MAAN,CACEtH,KAAK,SACLuC,KAAK,QACLmB,MAAM,iBACN8D,SAAUnJ,EAAKyI,aACfE,MAAO3I,EAAKQ,MAAM0Q,MAClB9H,UAAQ,IAEVpG,EAAAC,EAAAC,cAAC6F,EAAA,EAAKM,SAAN,CACEnF,KAAK,YACLmB,MAAM,oCACN8D,SAAUnJ,EAAKyI,aACfa,QAAStJ,EAAKQ,MAAMwQ,UACpBjC,QAAM,MAxCZoC,QAAQC,IAAIrR,EAAMiR,WAClBhR,EAAKQ,MAAQ,CACX6E,MAAOtF,EAAMsF,MACb6L,MAAOnR,EAAMmR,MACbF,UAAWjR,EAAMiR,UACjBC,UAAU,GAPKjR,wEA+CV,IAAA+C,EAAA5C,KACP,OACE6C,EAAAC,EAAAC,cAACkI,EAAA,EAAD,CAAOvB,KAAM1J,KAAKJ,MAAM+L,QACtB9I,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAMrJ,UAAQ,EAACH,MAAO,CAAE8B,OAAQ,OAAQD,OAAQ,IAC9ChC,EAAAC,EAAAC,cAACyJ,EAAA,EAAKC,IAAN,CACEC,QAAS,EACTC,WAAS,EACT3J,MAAO,CAAE8B,OAAQ,MAAOF,QAAS,SAEjC/B,EAAAC,EAAAC,cAACyJ,EAAA,EAAKI,OAAN,CAAavJ,UAAU,iBAAiBrD,KAAKsK,OAA7C,MAEFzH,EAAAC,EAAAC,cAACyJ,EAAA,EAAKC,IAAN,CACEC,QAAS,EACTC,WAAS,EACT3J,MAAO,CAAE8B,OAAQ,OAAQF,QAAS,MAElC/B,EAAAC,EAAAC,cAAC0B,EAAA,EAAOlB,MAAR,CAAcP,MAAO,CAAEiB,MAAO,SAC5BpB,EAAAC,EAAAC,cAAC8J,EAAD,CAAYhJ,QAAS7D,KAAKJ,MAAMkN,UAChCjK,EAAAC,EAAAC,cAAC0B,EAAA,EAAOsI,GAAR,MACAlK,EAAAC,EAAAC,cAACiK,EAAD,CACE/H,UAAWjF,KAAKK,MAAMyQ,SACtB5L,MAAM,oBACNrB,QAAS,WACPjB,EAAKhD,MAAMwG,UAAUxD,EAAKvC,qBAvEMiE,IAAMC,WCUnC2M,eACnB,SAAAA,EAAYtR,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkR,IACjBrR,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoR,GAAA/Q,KAAAH,KAAMJ,KAWR4P,iBAAmB,WACjB3P,EAAK6C,SAAS,CAAEkJ,WAAW,KAbV/L,EAsEnBsR,YAAc,SAAA7P,GACZ,IAAMkM,EAAQ4D,SAAS9P,EAAEqC,OAAO6M,IAE1Ba,EADkBxR,EAAKQ,MAArBiR,cACyB9D,GAAS,EAAIA,EAC9C3N,EAAK6C,SAAS,CAAE4O,YAAaD,KA1EZxR,EA0JnB0R,aAAe,SAAAvJ,GACb,IAAIwJ,EACF1R,OAAOmC,KAAKpC,EAAKD,MAAMuB,WAAW6I,QAAQhC,EAAWkF,UAAY,EAC/DsE,IAAmB3R,EAAKQ,MAAMiR,aAChCzR,EAAK6C,SAAS,CAAE4O,YAAaE,IAC/B3R,EAAK2P,mBACL3P,EAAKD,MAAM6R,gBAAgBzJ,IAhKVnI,EAmKnB6R,uBAAyB,WACvB,OACE7O,EAAAC,EAAAC,cAACF,EAAAC,EAAM+L,SAAP,CAAgB1B,IAAK,GAClBrN,OAAOmC,KAAKpC,EAAKD,MAAMY,YAAY0B,IAAI,SAAAiL,GACtC,IAAI3E,EAAQ3I,EAAKD,MAAMY,WAAW2M,GAClC,IAAK/K,MAAMC,QAAQmG,IAA6B,kBAAVA,EAAqB,CACzD,IAAIrG,EAAItC,EAAKuO,eAAejB,GAAO,KACnC,OACEtK,EAAAC,EAAAC,cAAA,OAAKM,UAAU,+BAA+B8J,IAAKhL,GACjDU,EAAAC,EAAAC,cAAA,YAAOZ,GACPU,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,SAAI4O,OAAOnJ,WA9KR3I,EAwLnB+R,wBAA0B,WACxB,IAAK/R,EAAKD,MAAMiS,OAAQ,MAAO,GAE/B,IAAIxD,EAAOxO,EAAKD,MAAMkS,mBAAmBzD,KACnCE,EAAazO,OAAOmC,KAAKoM,GAAMnM,IAAI,SAAAC,GACvC,MAAO,CACLgL,IAAKhL,EACLqG,MAAOrG,EACPgM,KAAMhM,KAKJsM,EAAS5O,EAAKD,MAAMkS,mBAAmBrD,OACvCD,EAAe1O,OAAOmC,KAAKwM,GAAQvM,IAAI,SAAAC,GAC3C,MAAO,CACLgL,IAAKhL,EACLqG,MAAOrG,EACPgM,KAAMhM,KAKV,SAAA4P,OAAAjS,OAAAkS,EAAA,EAAAlS,CAAWyO,GAAXzO,OAAAkS,EAAA,EAAAlS,CAA0B0O,KA/MT3O,EAkNnBoS,6BAA+B,SAAC3Q,EAADiH,GAAkB,IAAZC,EAAYD,EAAZC,MACnC3I,EAAK6C,SAAS,CAAEwP,iBAAkB1J,KAnNjB3I,EAsNnBsS,SAAW,WACT,IAAIC,EAAUnR,SAAS8B,cAAc,KACrCqP,EAAQC,aACN,OACA,iCACEC,mBAAmBxQ,KAAKyQ,UAAU1S,EAAKD,MAAMY,WAAY,KAAM,KAEnE4R,EAAQC,aAAa,WAAY,eAEjCD,EAAQpP,MAAMmB,QAAU,OACxBlD,SAASuR,KAAKC,YAAYL,GAE1BA,EAAQhR,QAERH,SAASuR,KAAKE,YAAYN,IApOTvS,EAuOnB8S,QAAU,SAAA1K,GACR,IAAI2K,EAAO,GAOX,OANA9S,OAAOmC,KAAKgG,GAAa/F,IAAI,SAAAiL,GAI3B,MAHwC,oBAApCA,EAAIO,MAAMP,EAAInD,QAAQ,KAAO,KAC/B4I,EAAO3K,EAAYkF,IAEdA,IAEFyF,GA/OU/S,EAkPnBgT,WAAa,SAAA5K,GACX,IAAI6K,EAAU,GAOd,OANAhT,OAAOmC,KAAKgG,GAAa/F,IAAI,SAAAiL,GAI3B,MAHwC,YAApCA,EAAIO,MAAMP,EAAInD,QAAQ,KAAO,KAC/B8I,EAAU7K,EAAYkF,IAEjBA,IAEF2F,GA1PUjT,EA6PnBqP,cAAgB,SAAA6D,GACd,IAAKlT,EAAKD,MAAMkS,mBAAmBzD,KAAK0E,GAAU,MAAO,GACzD,IAAI9K,EAAcpI,EAAKD,MAAMkS,mBAAmBzD,KAAK0E,GAAS9K,YAC9D,OAAIA,EAAoBpI,EAAKgT,WAAW5K,QAAxC,GAhQiBpI,EAmQnBwP,gBAAkB,SAAAX,GAChB,IAAK7O,EAAKD,MAAMkS,mBAAmBrD,OAAOC,GAAY,MAAO,GAC7D,IAAIzG,EAAcpI,EAAKD,MAAMkS,mBAAmBrD,OAAOC,GACvD,OAAIzG,EAAoBpI,EAAKgT,WAAW5K,QAAxC,GAtQiBpI,EAyQnBoP,WAAa,SAAA8D,GACX,IAAKlT,EAAKD,MAAMkS,mBAAmBzD,KAAK0E,GAAU,MAAO,GAEzD,IAAI9K,EAAcpI,EAAKD,MAAMkS,mBAAmBzD,KAAK0E,GAAS9K,YAC9D,OAAIA,EAAoBpI,EAAK8S,QAAQ1K,QAArC,GA7QiBpI,EAgRnBsP,aAAe,SAAAT,GACb,IAAK7O,EAAKD,MAAMkS,mBAAmBrD,OAAOC,GAAY,MAAO,GAC7D,IAAIzG,EAAcpI,EAAKD,MAAMkS,mBAAmBrD,OAAOC,GACvD,OAAIzG,EAAoBpI,EAAK8S,QAAQ1K,QAArC,GAhRApI,EAAKQ,MAAQ,CACXuL,WAAW,EACXoH,gBAAgB,EAChB1B,YAAa,EACbY,iBAAkB,GAClBe,0BAA0B,GARXpT,mFAgBC8P,GAAM,IAAA/M,EAAA5C,KACxB,GAAIA,KAAKK,MAAM6R,iBAAiBxM,OAAS,EAAG,CAC1C,GAAIiK,EAAKlO,MAAO,CACd,IAAI4M,EAAO,CAACsB,EAAKlO,MAAMmG,aAAa8F,MAAM,IAK1C,OAJIiC,EAAKlO,MAAMoG,WACbwG,EAAKhG,KAAKsH,EAAKlO,MAAMoG,UAAU6F,MAAM,IAGhCW,EACJnM,IAAI,SAAA0N,GACH,QAAIhN,EAAKvC,MAAM6R,iBAAiBgB,SAAStD,KAK1CsD,UAAS,GAEd,OAAO,EAET,OAAO,kDAGe3F,EAAQC,EAAOC,GACrC,GAAIF,EAAO7H,OAAS8H,EAClB,OAAOD,EAAOG,MAAM,EAAGF,GAASC,EAAOF,EAAOG,MAAMF,0CAIzCG,GAIb,IAJ6B,IAAA7H,EAAA9F,KACzB4N,EAAoB,GACpBL,EAASI,EAAeD,MAAM,GAEzBG,EAAI,EAAGA,EAAIN,EAAO7H,OAAQmI,IAAK,CACtC,IAAIC,EAAIF,EAAkBlI,OAASmI,EAC/BA,GAAKN,EAAOM,KAAON,EAAOM,GAAGE,eAC/BH,EAAkBvF,KAAKyF,GAQ3B,OAJAF,EAAkB1L,IAAI,SAAAsL,GAEpB,OADAD,EAASzH,EAAKkI,wBAAwBT,EAAQC,EAAO,OAG/CD,GACN,IAAK,cACH,MAAO,UACT,IAAK,gBACH,MAAO,YACT,IAAK,uBACH,MAAO,wBAEX,OAAOA,2CAUQ,IAAA4F,EAAAnT,KACf,GAAIA,KAAKJ,MAAMiS,OAAQ,CACrB,IAAIhE,EAAI,EACR,OAAO/N,OAAOmC,KAAKjC,KAAKJ,MAAMuB,WAAWe,IAAI,SAAAgL,GAC3CW,IACA,IAAIuF,EAAI,EACJC,EAAQ,EACZ,OACExQ,EAAAC,EAAAC,cAAA,OAAKoK,IAAKU,GACRhL,EAAAC,EAAAC,cAAA,UACEM,UACE8P,EAAK9S,MAAMiR,cAAgBzD,EAAI,mBAAqB,YAEtD2C,GAAI3C,EACJhK,QAAS,SAAAvC,GACP6R,EAAKhC,YAAY7P,KAGnBuB,EAAAC,EAAAC,cAAA,QACEyN,GAAI3C,EACJhK,QAAS,SAAAvC,GACP6R,EAAKhC,YAAY7P,KAGlB6R,EAAK/E,eAAelB,EAASQ,MAAM,KAEtC7K,EAAAC,EAAAC,cAACe,EAAA,EAAD,CACEC,KAAK,eACLC,KAAK,QACLwM,GAAI3C,EACJ7K,MAAO,CAAEqB,WAAY,UAGzBxB,EAAAC,EAAAC,cAAA,OACEM,UAAU,kBACVL,MACEmQ,EAAK9S,MAAMiR,cAAgBzD,EACvB,CAAE1J,QAAS,SACX,CAAEA,QAAS,SAGjBtB,EAAAC,EAAAC,cAACgJ,EAAA,EAAKxI,MAAN,CAAYyL,SAAO,GAChBmE,EAAKvT,MAAMY,WAAW0M,GAAUhL,IAAI,SAAAyN,GAInC,OAHIwD,EAAKG,oBAAoB3D,IAC3B0D,IAGAxQ,EAAAC,EAAAC,cAACwQ,EAAD,CACEpP,QAASgP,EAAKG,oBAAoB3D,GAClCnO,KAAM0L,EACNM,MAAO4F,IACPjG,IAAKrL,KAAKyQ,UAAU5C,GACpBA,KAAMA,EACN3G,SAAUmK,EAAKvT,MAAM4T,uBACrBxD,SAAUmD,EAAKvT,MAAM6T,aACrBtE,aAAcgE,EAAKhE,aACnBE,gBAAiB8D,EAAK9D,gBACtBJ,WAAYkE,EAAKlE,WACjBC,cAAeiE,EAAKjE,mBAKjB,IAAVmE,GACCxQ,EAAAC,EAAAC,cAAA,OAAKM,UAAU,eACbR,EAAAC,EAAAC,cAAA,6DAQZ,OAAO,sCAgIF,IAAA2Q,EAAA1T,KACP,OACE6C,EAAAC,EAAAC,cAAA,OAAKM,UAAU,kCACbR,EAAAC,EAAAC,cAAA,OACEK,IAAI,kBACJuQ,IAAI,oBACJ1P,MAAM,QACNa,OAAO,UAGTjC,EAAAC,EAAAC,cAAA,OAAKM,UAAU,yBACbR,EAAAC,EAAAC,cAAA,WACG/C,KAAK0R,yBACN7O,EAAAC,EAAAC,cAAA,OAAKM,UAAU,4BACbR,EAAAC,EAAAC,cAAC6Q,EAAA,EAAD,CACElP,KAAK,oBACLmP,UAAQ,EACRxQ,UAAU,yBAEVR,EAAAC,EAAAC,cAAC6Q,EAAA,EAASE,KAAV,KACEjR,EAAAC,EAAAC,cAAC6Q,EAAA,EAAS7H,KAAV,CACElI,QAAS,WACP6P,EAAKhR,SAAS,CAAEsQ,gBAAgB,MAFpC,aAOAnQ,EAAAC,EAAAC,cAAC6Q,EAAA,EAAS7H,KAAV,CAAelI,QAAS7D,KAAKmS,UAA7B,mBAKJtP,EAAAC,EAAAC,cAAA,UACEM,UAAU,yBACVQ,QAAS,WACP6P,EAAKhR,SAAS,CAAEuQ,0BAA0B,MAG5CpQ,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAM+E,UAAQ,EAAC9E,KAAK,cAIzB/D,KAAKK,MAAMuL,WACV/I,EAAAC,EAAAC,cAACgR,EAAD,CACEnI,UAAW5L,KAAKK,MAAMuL,UACtBzK,UAAWnB,KAAKJ,MAAMuB,UACtBmN,cAAetO,KAAKJ,MAAMkS,mBAC1B7E,SAAUjN,KAAKuR,aACfzE,QAAS9M,KAAKwP,iBACdpB,eAAgBpO,KAAKoO,eACrBe,aAAcnP,KAAKmP,aACnBE,gBAAiBrP,KAAKqP,gBACtBJ,WAAYjP,KAAKiP,WACjBC,cAAelP,KAAKkP,gBAIvBlP,KAAKK,MAAM2S,gBACVnQ,EAAAC,EAAAC,cAACuN,EAAD,CACEnP,UAAWnB,KAAKJ,MAAMuB,UACtBuI,KAAM1J,KAAKK,MAAM2S,eACjBxS,WAAYR,KAAKJ,MAAMY,WACvBsM,QAAS,WACP4G,EAAKhR,SAAS,CAAEsQ,gBAAgB,OAKrChT,KAAKK,MAAM4S,0BACVpQ,EAAAC,EAAAC,cAACiR,GAAD,CACErI,OAAQ3L,KAAKK,MAAM4S,yBACnBnG,QAAS,WACP4G,EAAKhR,SAAS,CAAEuQ,0BAA0B,KAE5C/N,MAAOlF,KAAKJ,MAAMY,WAAW,cAC7BuQ,MAAO/Q,KAAKJ,MAAMY,WAAX,YACPqQ,UAAW7Q,KAAKJ,MAAMY,WAAX,mBACX4F,UAAW,SAAA6N,GACTP,EAAK9T,MAAMsU,wBAAwBD,GACnCP,EAAKhR,SAAS,CAAEuQ,0BAA0B,OAKhDpQ,EAAAC,EAAAC,cAAA,OAAKM,UAAU,wBACbR,EAAAC,EAAAC,cAAA,OAAKM,UAAU,oBACbR,EAAAC,EAAAC,cAAC6Q,EAAA,EAAD,CACE5Q,MAAO,CAAEiB,MAAO,SAChB8E,YAAY,SACZoL,QAAM,EACNC,WAAS,EACT1P,KAAK,SACLqK,QAAS/O,KAAK4R,0BACdpJ,MAAOxI,KAAKK,MAAM6R,iBAClBlJ,SAAUhJ,KAAKiS,+BAEjBpP,EAAAC,EAAAC,cAAA,UACEM,UAAU,eACVQ,QAAS,WACP6P,EAAKhR,SAAS,CAAEwP,iBAAkB,OAGpCrP,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAK,YAGflB,EAAAC,EAAAC,cAAA,UACEM,UAAU,sCACVQ,QAAS,WACP6P,EAAKhR,SAAS,CAAEkJ,WAAW,MAG7B/I,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAM,OAAQf,MAAO,CAAEiB,MAAO,SACpCpB,EAAAC,EAAAC,cAAA,QAAMM,UAAU,gBAAhB,gBAGJR,EAAAC,EAAAC,cAAA,OAAKM,UAAU,sBACZrD,KAAKqU,2BA3YqB/P,IAAMC,qDCZ9B,SAAS+P,GAAa1U,GACjC,OACIiD,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CAAQQ,SAAUrF,EAAMqF,SAAUgH,GAAG,MAAOtH,cAAc,QAClDd,QAASjE,EAAMiE,QACfb,MAAOpD,EAAMoD,OACjBH,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CAAQpB,UAAU,gBAAgBqB,MAAI,GAClC7B,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAK,YACVnE,EAAM2U,UAEX1R,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,CAAOqG,GAAG,IAAIuI,OAAK,EAACX,SAAS,QAAQjU,EAAM6U,OAAOC,QAC3CC,KAAKC,MAAgC,IAA1BhV,EAAM6U,OAAOI,OAAOC,KAAe,IAAQ,KACvDH,KAAKC,MAAgC,IAA1BhV,EAAM6U,OAAOI,OAAOE,KAAe,UCgHjDC,eAhHb,SAAAA,EAAYpV,GAAQ,OAAAE,OAAAC,EAAA,EAAAD,CAAAE,KAAAgV,GAAAlV,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkV,GAAA7U,KAAAH,KACZJ,0EAGC,IAAAqV,EAeHjV,KAAKJ,MAbPsV,EAFKD,EAELC,YACAC,EAHKF,EAGLE,YACAC,EAJKH,EAILG,UACAC,EALKJ,EAKLI,kBACAC,EANKL,EAMLK,gBACAC,EAPKN,EAOLM,4BACAC,EARKP,EAQLO,2BACAC,EATKR,EASLQ,eACAC,EAVKT,EAULS,iBACAC,EAXKV,EAWLU,eACAC,EAZKX,EAYLW,iBACAC,EAbKZ,EAaLY,sBACAC,EAdKb,EAcLa,yBAEF,OACEjT,EAAAC,EAAAC,cAACgT,GAAA,EAAD,CAAW1S,UAAU,aAAaL,MAAOhD,KAAKJ,MAAMoD,OAClDH,EAAAC,EAAAC,cAAC+Q,GAAA,EAAD,CAAMkC,SAAS,MAAMhT,MAAO,CAAE6B,OAAQ,EAAG4F,OAAQ,OAAQ1F,aAAc,EAAGD,OAAQ,QAChFjC,EAAAC,EAAAC,cAAC+Q,GAAA,EAAK/H,KAAN,KACElJ,EAAAC,EAAAC,cAACuR,GAAD,CACErP,SAAUiQ,EACVrR,QAAS,WACP+R,KAEFnB,OAAQU,EACRnS,MAAO,CAAE6H,YAAa,SANxB,QAUAhI,EAAAC,EAAAC,cAACuR,GAAD,CACErP,SAAUiQ,EACVrR,QAAS,WACP8R,KAEFlB,OAAQW,GALV,OAUFvS,EAAAC,EAAAC,cAAC+Q,GAAA,EAAK/H,KAAN,KACElJ,EAAAC,EAAAC,cAAA,UAAQM,UAAU,sCAChB4B,WACIkQ,EAAYN,QAAUO,EAAUP,SAAWK,EAE/Ce,QAASf,EACTrR,QAAS,WACP4R,MAGF5S,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAMC,KAAK,iBAAiB8E,UAAQ,EAAC7F,MAAO,CAAEiB,MAAO,SACrDpB,EAAAC,EAAAC,cAAA,QAAMM,UAAU,gBAAhB,eAGJR,EAAAC,EAAAC,cAAC+Q,GAAA,EAAK/H,KAAN,CAAWnB,SAAS,SAClB/H,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACEtH,KAAK,OACLuH,YAAY,OACZC,SAAU,SAAAkN,GACRL,EAAsBK,IAExB1N,MAAOxI,KAAKJ,MAAMuW,yBAClBC,QAAM,EACNnR,WACIkQ,EAAYN,QAAUO,EAAUP,SAAWK,GAG/CrS,EAAAC,EAAAC,cAAA,SAAOM,UAAU,WACjBR,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CACEpB,UAAU,0BACV7B,KAAK,SACLqC,QAAS,WACP6R,KAEFzQ,WACIkQ,EAAYN,QAAUO,EAAUP,SAAWK,GAPjD,eAaDY,GACCjT,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,CAAO4O,OAAK,EAAC6B,MAAM,MAAMxC,SAAS,QAC/BiC,KAKTjT,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAASqQ,SAAS,SAAShT,MAAO,CAAE6B,OAAQ,EAAG4F,OAAQ,OAAQ1F,aAAc,EAAGD,OAAQ,QACtFjC,EAAAC,EAAAC,cAAC6Q,EAAA,EAAD,CACE7E,QAASsG,EACTtM,YAAY,2BACZoL,QAAM,EACNC,WAAS,EACTkC,OAAK,EACLpS,UAAQ,EACRqS,gBAAc,EACd/N,MAAO8M,EACPkB,UAAWjB,EACXvM,SAAUwM,EACVnS,UAAU,iCAzGGiB,IAAMC,WCZzBkS,GAAe,CACjBC,mBAAoB,OACpBC,iBAAkB,OAClBC,gBAAiB,OACjBC,cAAe,OACfC,aAAc,OACdC,WAAY,QAyCDC,oLAtCJ,IACCC,EAAajX,KAAKJ,MAAlBqX,SA2BR,OACEpU,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACGkU,EAAS/U,IA7BM,SAACgV,EAASrJ,GAC9B,IAAI2C,EAAK0G,EAAQC,MAAM3G,GACvB,OAAGA,EAAG4G,WAAW,eAEfvU,EAAAC,EAAAC,cAAA,OAAKoK,IAAKU,GACRhL,EAAAC,EAAAC,cAAA,UAAQC,MAAOyT,IAAf,eACA5T,EAAAC,EAAAC,cAAA,YAGKyN,EAAG4G,WAAW,aAErBvU,EAAAC,EAAAC,cAAA,OAAKoK,IAAKU,GACRhL,EAAAC,EAAAC,cAAA,UAAQC,MAAOyT,IAAf,aACA5T,EAAAC,EAAAC,cAAA,YAMAF,EAAAC,EAAAC,cAAA,OAAKoK,IAAKU,GACRhL,EAAAC,EAAAC,cAAA,UAAQC,MAAOyT,IAAeS,EAAQC,MAAM,gBAA5C,KACFtU,EAAAC,EAAAC,cAAA,QAAMC,MAAOyT,IAAeS,EAAQC,MAAM3G,gBAxBvBlM,IAAMC,WCD7B8S,WAAMC,aAAc,CACxBC,YACE,4FAGEC,GAAoB,CACxBhW,KAAM,oBACNyV,SAAU,CACR,CACEzV,KAAM,UACNiW,SAAU,CACRjW,KAAM,QACNkW,YAAa,CAAC,EAAG,OAKnBC,GAAkB,CACtBnW,KAAM,oBACNyV,SAAU,CACR,CACEzV,KAAM,UACNiW,SAAU,CACRjW,KAAM,QACNkW,YAAa,CAAC,EAAG,OAMnBE,GAAa,CACjBC,WAAY,QACZC,YAAa,SAGTC,GAAY,CAChBC,aAAc,UACdC,aAAc,GAGVC,GAAsB,CAC1BF,aAAc,UACdC,aAAc,GAGVE,GAAiB,CACrBrT,OAAQ,OACRb,MAAO,OACPmU,OAAQ,IA8kBKC,eA1kBb,SAAAA,EAAYzY,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqY,IACjBxY,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuY,GAAAlY,KAAAH,KAAMJ,KA4dR2V,4BAA8B,SAACjU,EAADiH,GAAkB,IAAZC,EAAYD,EAAZC,MAClCwI,QAAQC,IAAI,uBACZD,QAAQC,IAAIzI,GACZ3I,EAAK6C,SAAS,SAAAC,GAAS,MAAK,CAC1B0S,kBAAiB,GAAAtD,OAAAjS,OAAAkS,EAAA,EAAAlS,CACZ6C,EAAU0S,mBADE,CAEf,CAAElI,IAAK3E,EAAO2F,KAAM3F,EAAOA,eAned3I,EAwenB2V,2BAA6B,SAAClU,EAADgX,GAAkB,IAAZ9P,EAAY8P,EAAZ9P,MACjCwI,QAAQC,IAAI,qBACZD,QAAQC,IAAIzI,GACZwI,QAAQC,IAAIpR,EAAKQ,MAAMkY,cACvB1Y,EAAK6C,SAAS,CAAE4S,gBAAiB9M,KA1ejC3I,EAAKQ,MAAQ,CACXmY,OAAQ,CAAC,OAAQ,SACjBC,KAAM,CAAC,MACPvD,aAAa,EACbwD,kBAAclT,EACdmT,cAAc,EACdC,gBAAiB,CAAC,OAAQ,SAC1BzD,YAAa,CACXT,QAAQ,EACRmE,SAAS,EACTC,SAAS,EACTC,UAAU,EACVlE,YAAQrP,GAEV4P,UAAW,CACTV,QAAQ,EACRmE,SAAS,EACTE,UAAU,EACVD,SAAS,EACTjE,YAAQrP,GAEVwT,aAAc,CACZ7L,SAAK3H,EACL2I,UAAM3I,EACNkS,YAAa,IAEfa,aAAc,GACdlD,kBAAmB,GACnBC,gBAAiB,GACjB2D,gBAAiBd,GACjBhC,yBAA0B,GAC1BL,8BAA0BtQ,GAG5B3F,EAAK+V,iBAAmB/V,EAAK+V,iBAAiBhV,KAAtBd,OAAAe,EAAA,EAAAf,CAAAD,IACxBA,EAAK8V,eAAiB9V,EAAK8V,eAAe/U,KAApBd,OAAAe,EAAA,EAAAf,CAAAD,IACtBA,EAAKqZ,YAAcrZ,EAAKqZ,YAAYtY,KAAjBd,OAAAe,EAAA,EAAAf,CAAAD,IACnBA,EAAKsZ,YAActZ,EAAKsZ,YAAYvY,KAAjBd,OAAAe,EAAA,EAAAf,CAAAD,IACnBA,EAAKuZ,aAAevZ,EAAKuZ,aAAaxY,KAAlBd,OAAAe,EAAA,EAAAf,CAAAD,IACpBA,EAAK4V,eAAiB5V,EAAK4V,eAAe7U,KAApBd,OAAAe,EAAA,EAAAf,CAAAD,IACtBA,EAAK2V,2BAA6B3V,EAAK2V,2BAA2B5U,KAAhCd,OAAAe,EAAA,EAAAf,CAAAD,IAGlCA,EAAK0V,4BAA8B1V,EAAK0V,4BAA4B3U,KAAjCd,OAAAe,EAAA,EAAAf,CAAAD,IAGnCA,EAAKwZ,UAAYxZ,EAAKwZ,UAAUzY,KAAfd,OAAAe,EAAA,EAAAf,CAAAD,IACjBA,EAAK6V,iBAAmB7V,EAAK6V,iBAAiB9U,KAAtBd,OAAAe,EAAA,EAAAf,CAAAD,IACxBA,EAAKgW,sBAAwBhW,EAAKgW,sBAAsBjV,KAA3Bd,OAAAe,EAAA,EAAAf,CAAAD,IAC7BA,EAAKyZ,aAAezZ,EAAKyZ,aAAa1Y,KAAlBd,OAAAe,EAAA,EAAAf,CAAAD,IAEpBA,EAAK0Z,QAAU,IAAIC,WACnB3Z,EAAK0Z,QAAQE,aAAa,cAtDT5Z,kFAyDA6Z,GACbA,EAAUlZ,aAAeR,KAAKJ,MAAMY,YACtCR,KAAKuZ,QAAQI,sBAAsB3Z,KAAKJ,MAAMY,qDAIjC,IAAAoC,EAAA5C,KACf,GACEA,KAAKK,MAAM8U,YAAYT,QACvB1U,KAAKK,MAAM+U,UAAUV,SACpB1U,KAAKK,MAAM6U,YACZ,CACAlV,KAAK0C,SAAS,CAAEwS,aAAa,IAC7B,IAAI0E,EAAQ,CACVC,iBAAiB,EACjBC,KAAM,CACJC,SAAU/Z,KAAKK,MAAM8U,YAAYN,OAAOC,IACxCkF,UAAWha,KAAKK,MAAM8U,YAAYN,OAAOE,KAE3CkF,GAAI,CACFF,SAAU/Z,KAAKK,MAAM+U,UAAUP,OAAOC,IACtCkF,UAAWha,KAAKK,MAAM+U,UAAUP,OAAOE,MAG3C/U,KAAKuZ,QACFK,MAAMA,GACNM,KAAK,GACL9J,GAAG,QAAS,SAAA9N,GACX0O,QAAQC,IAAI,6BACZD,QAAQC,IAAI3O,GACZM,EAAKF,SAAS,CAAEwS,aAAa,MAE9B9E,GAAG,OAAQ,SAAA+J,GAGV,IAAIC,EAAoB,GACxBD,EAAKE,MAAMC,QAAQ,SAAAC,GACjBH,EAAkB/R,KAAK,CACrBkS,EAAKC,cAAcR,UACnBO,EAAKC,cAAcT,WAErBK,EAAkB/R,KAAK,CACrBkS,EAAKE,aAAaT,UAClBO,EAAKE,aAAaV,aAItB,IAAIW,EAAO,IAAIC,KACf/X,EAAKF,SAAS,SAAAC,GAAS,MAAK,CAC1BqW,aAAc,CACZ7L,IAAKxK,EAAU4V,aAAa7S,OAC5ByI,KAAMuM,EAAKE,cACXlD,YAAa0C,QAIlBhK,GAAG,MAAO,WACTY,QAAQC,IAAI,SACZrO,EAAKF,SAAS,CAAEwS,aAAa,kDAKlB,IAAApP,EAAA9F,KAEjBA,KAAK0C,SAAS,SAAAC,GAAS,MAAK,CAC1BqW,aAAc,CACZ7L,IAAKxK,EAAUqW,aAAa7L,IAC5BgB,KAAMxL,EAAUwT,yBAChBuB,YAAa/U,EAAUqW,aAAatB,gBAGxC,IAAIvK,EAAMnN,KAAKK,MAAM2Y,aAAa7L,IAC9BgB,EAAOnO,KAAKK,MAAM8V,yBAClB0E,GAAc,EAClB7a,KAAKK,MAAMkY,aAAa+B,QAAQ,SAAAQ,GAC9B,OAAIA,EAAM3N,MAAQA,GAChBrH,EAAKpD,SAAS,CACZoT,yBAA0B,8BAE5B+E,GAAc,KAGhB7J,QAAQC,IAAI6J,EAAM3M,KAAO,MAAQA,GACM,IAAnC2M,EAAM3M,KAAK4M,cAAc5M,IAC3BrI,EAAKpD,SAAS,CACZoT,yBAA0B,iCAE5B+E,GAAc,SAJhB,KAQGA,GACH7a,KAAK0C,SAAS,SAAAC,GAAS,MAAK,CAC1B4V,aAAY,CAAG5V,EAAUqW,cAAbjH,OAAAjS,OAAAkS,EAAA,EAAAlS,CAA8B6C,EAAU4V,eACpDlD,kBAAiB,CACf,CACElI,IAAKxK,EAAUqW,aAAa7L,IAC5BgB,KAAMxL,EAAUqW,aAAa7K,KAC7B3F,MAAO7F,EAAUqW,aAAa7L,MAJjB4E,OAAAjS,OAAAkS,EAAA,EAAAlS,CAMZ6C,EAAU0S,oBAEfc,yBAA0B,MAI9BnF,QAAQC,IAAIjR,KAAKK,MAAMkY,4DAGHrC,GACpBlW,KAAK0C,SAAS,CACZyT,yBAA0BD,EAAIvS,OAAO6E,MACrCsN,8BAA0BtQ,sCAIpBtD,EAAKgU,GACb,IAAI8E,EAAS9E,EAAIrB,OACb7U,KAAKK,MAAM8U,YAAY4D,UACzB/Y,KAAK0C,SAAS,SAAAC,GAAS,MAAK,CAC1BwS,YAAa,CACXT,OAAQ/R,EAAUwS,YAAYT,OAC9BmE,QAASlW,EAAUwS,YAAY0D,QAC/BC,QAASnW,EAAUwS,YAAY2D,QAC/BC,UAAU,EACVlE,OAAQmG,MAGZhb,KAAKyV,kBACIzV,KAAKK,MAAM+U,UAAU2D,WAC9B/Y,KAAK0C,SAAS,SAAAC,GAAS,MAAK,CAC1ByS,UAAW,CACTV,OAAQ/R,EAAUyS,UAAUV,OAC5BmE,QAASlW,EAAUyS,UAAUyD,QAC7BC,QAASnW,EAAUyS,UAAU0D,QAC7BC,UAAU,EACVlE,OAAQmG,MAGZhb,KAAKib,cAAc/Y,EAAKgU,GACxBlW,KAAKyV,sDAGGvT,EAAKZ,GACfY,EAAIgZ,UAAU,cAAe,CAC3B1Z,KAAM,UACNiE,KAAM+R,KAERtV,EAAIgZ,UAAU,YAAa,CACzB1Z,KAAM,UACNiE,KAAMkS,KAERzV,EAAIiZ,SAAS,CACX3K,GAAI,cACJhP,KAAM,SACN4Z,OAAQ,cACRC,MAAO,CACLC,gBAAiB,GACjBC,eAAgB,aAGpBrZ,EAAIiZ,SAAS,CACX3K,GAAI,YACJhP,KAAM,SACN4Z,OAAQ,YACRC,MAAO,CACLC,gBAAiB,GACjBC,eAAgB,aAIpB,IAAIC,EAASxb,KAEbkC,EAAIkO,GAAG,aAAc,cAAe,WAClClO,EAAIuZ,iBAAiB,cAAe,eAAgB,WACpDtD,GAAeC,OAAS,OACxBoD,EAAO9Y,SAAS,CAAEuW,gBAAiBd,OAGrCjW,EAAIkO,GAAG,aAAc,cAAe,WAClClO,EAAIuZ,iBAAiB,cAAe,eAAgB,WACpDtD,GAAeC,OAAS,GACxBoD,EAAO9Y,SAAS,CAAEuW,gBAAiBd,OAGrCjW,EAAIkO,GAAG,YAAa,cAAe,SAAS9O,GACtCka,EAAOnb,MAAM8U,YAAYT,QAE3BpT,EAAEoa,iBAGJF,EAAO9Y,SAAS,SAAAC,GAAS,MAAK,CAC5BwS,YAAa,CACXT,OAAQ/R,EAAUwS,YAAYT,OAC9BmE,QAASlW,EAAUwS,YAAY0D,QAC/BC,QAASnW,EAAUwS,YAAY2D,QAC/BC,UAAU,EACVlE,OAAQlS,EAAUwS,YAAYN,WAGlCsD,GAAeC,OAAS,OACxBoD,EAAO9Y,SAAS,CAAEuW,gBAAiBd,OAGrCjW,EAAIkO,GAAG,aAAc,YAAa,WAChClO,EAAIuZ,iBAAiB,YAAa,eAAgB,WAClDtD,GAAeC,OAAS,OACxBoD,EAAO9Y,SAAS,CAAEuW,gBAAiBd,OAGrCjW,EAAIkO,GAAG,aAAc,YAAa,WAChClO,EAAIuZ,iBAAiB,YAAa,eAAgB,WAClDtD,GAAeC,OAAS,GACxBoD,EAAO9Y,SAAS,CAAEuW,gBAAiBd,OAErCjW,EAAIkO,GAAG,YAAa,YAAa,SAAS9O,GACpCka,EAAOnb,MAAM+U,UAAUV,QAEzBpT,EAAEoa,iBAEJF,EAAO9Y,SAAS,SAAAC,GAAS,MAAK,CAC5ByS,UAAW,CACTV,OAAQ/R,EAAUyS,UAAUV,OAC5BmE,QAASlW,EAAUyS,UAAUyD,QAC7BC,QAASnW,EAAUyS,UAAU0D,QAC7BC,UAAU,EACVlE,OAAQlS,EAAUyS,UAAUP,WAGhCsD,GAAeC,OAAS,OACxBoD,EAAO9Y,SAAS,CAAEuW,gBAAiBd,4CAI1BjW,EAAKgU,GAChB,IAAI8E,EAAS9E,EAAIrB,QAEf7U,KAAKK,MAAM8U,YAAY0D,SACtB7Y,KAAKK,MAAM8U,YAAYT,QACvB1U,KAAKK,MAAM8U,YAAY4D,UAwBxB/Y,KAAKK,MAAM+U,UAAUyD,SACpB7Y,KAAKK,MAAM+U,UAAUV,QACrB1U,KAAKK,MAAM+U,UAAU2D,WAEtB/H,QAAQC,IAAI,uBAAyBjR,KAAKK,MAAM+U,UAAUP,QAC1D7U,KAAK0C,SAAS,SAAAC,GAAS,MAAK,CAC1ByS,UAAW,CACTV,QAAQ,EACRmE,SAAS,EACTC,SAAS,EACTC,UAAU,EACVlE,OAAQmG,MAGZhb,KAAKib,cAAc/Y,EAAKgU,KApCxBlF,QAAQC,IAAI,yBAA2BjR,KAAKK,MAAM8U,YAAYN,QAC9D7U,KAAK0C,SAAS,SAAAC,GAAS,MAAK,CAC1BwS,YAAa,CACXT,QAAQ,EACRmE,SAAS,EACTC,SAAS,EACTC,UAAU,EACVlE,OAAQmG,MAGPhb,KAAKK,MAAM+U,UAAUyD,SACxB7Y,KAAK0C,SAAS,CACZ0S,UAAW,CACTV,QAAQ,EACRmE,SAAS,EACTC,SAAS,EACTC,UAAU,EACVlE,OAAQmG,MAuBdhb,KAAKK,MAAM8U,YAAY0D,SACvB7Y,KAAKK,MAAM+U,UAAUyD,UACpB/W,KAAKyQ,UAAU,CACdvS,KAAKK,MAAM8U,YAAYN,OAAOE,IAC9B/U,KAAKK,MAAM8U,YAAYN,OAAOC,QACzBhT,KAAKyQ,UAAUvS,KAAKK,MAAM2Y,aAAatB,YAAY,KACxD5V,KAAKyQ,UAAU,CACbvS,KAAKK,MAAM+U,UAAUP,OAAOE,IAC5B/U,KAAKK,MAAM+U,UAAUP,OAAOC,QAE5BhT,KAAKyQ,UACHvS,KAAKK,MAAM2Y,aAAatB,YACtB1X,KAAKK,MAAM2Y,aAAatB,YAAYhS,OAAS,MAIrD1F,KAAKyV,uDAIKvT,EAAKgU,GACjB,GACIlW,KAAKK,MAAM8U,YAAY4D,UAAY/Y,KAAKK,MAAM+U,UAAU2D,WACzD/Y,KAAKK,MAAM8U,YAAYT,QAAW1U,KAAKK,MAAM8U,YAAY0D,UACzD7Y,KAAKK,MAAM+U,UAAUV,QAAW1U,KAAKK,MAAM+U,UAAUyD,QAmBtD3W,EAAIyZ,YAAY3Y,MAAMoV,OAAU,GAChCpY,KAAK0C,SAAS,CAAEkW,gBAAiB1C,EAAIrB,OAAQ6D,kBAAclT,QAnB3D,CACA,IAAIyR,EAAW/U,EAAI0Z,sBAAsB1F,EAAI2F,OAEzChO,EAAI,EACJiO,EAAoB,GACxB,IAAIjO,EAAI,EAAGA,EAAEoJ,EAASvR,OAAQmI,IAAI,CAChC,IAAI2C,EAAKyG,EAASpJ,GAAGsJ,MAAM3G,IACvBA,EAAG4G,WAAW,gBACb5G,EAAG4G,WAAW,cACd5G,EAAG4G,WAAW,UACf0E,EAAkBzT,KAAK4O,EAASpJ,IAGnCoJ,EAASvR,OAAS,IACnB1F,KAAK0C,SAAS,CAAEkW,gBAAiB1C,EAAIrB,OAAQ6D,aAAcoD,IAC3D5Z,EAAIyZ,YAAY3Y,MAAMoV,OAAS,iDAQxBlW,EAAKgU,GAChBlW,KAAK0C,SAAS,CAAEiW,cAAc,IACzB3Y,KAAKK,MAAM8U,YAAYT,QAC1BxS,EAAI6Z,kBAAkB,cAAe,aAAc,QAEhD/b,KAAKK,MAAM+U,UAAUV,QACxBxS,EAAI6Z,kBAAkB,YAAa,aAAc,4CAKzC7Z,EAAKgU,GACVlW,KAAKK,MAAMsY,eAEd3Y,KAAK0C,SAAS,CACZiW,cAAc,IAEhBzW,EAAI6Z,kBAAkB,YAAa,aAAc,WACjD7Z,EAAI6Z,kBAAkB,cAAe,aAAc,YAErD/b,KAAKib,cAAc/Y,EAAKgU,IAEtBlW,KAAKK,MAAM8U,YAAY0D,SACtB7Y,KAAKK,MAAM8U,YAAYT,QACvB1U,KAAKK,MAAM8U,YAAY4D,UAQxB/Y,KAAKK,MAAM+U,UAAUyD,SACpB7Y,KAAKK,MAAM+U,UAAUV,QACrB1U,KAAKK,MAAM+U,UAAU2D,WAEtBpB,GAAgBV,SAAS,GAAGQ,SAASC,YAAc,CACjDxB,EAAIrB,OAAOE,IACXmB,EAAIrB,OAAOC,KAEb5S,EAAI8Z,UAAU,aAAaC,QAAQtE,MAdnCH,GAAkBP,SAAS,GAAGQ,SAASC,YAAc,CACnDxB,EAAIrB,OAAOE,IACXmB,EAAIrB,OAAOC,KAEb5S,EAAI8Z,UAAU,eAAeC,QAAQzE,KAYnCxX,KAAKK,MAAM8U,YAAY4D,UACzBvB,GAAkBP,SAAS,GAAGQ,SAASC,YAAc,CACnDxB,EAAIrB,OAAOE,IACXmB,EAAIrB,OAAOC,KAEb5S,EAAI8Z,UAAU,eAAeC,QAAQzE,KAC5BxX,KAAKK,MAAM+U,UAAU2D,WAC9BpB,GAAgBV,SAAS,GAAGQ,SAASC,YAAc,CACjDxB,EAAIrB,OAAOE,IACXmB,EAAIrB,OAAOC,KAEb5S,EAAI8Z,UAAU,aAAaC,QAAQtE,gDAKrC3G,QAAQC,IAAIjR,KAAKK,MAAM8U,aACvBnV,KAAK0C,SAAS,SAAAC,GAAS,MAAK,CAC1BwS,YAAa,CACXT,QAAQ,EACRmE,SAAS,EACTC,QAASnW,EAAUwS,YAAY2D,QAC/BC,SAAUpW,EAAUwS,YAAY4D,SAChClE,OAAQlS,EAAUwS,YAAYN,QAEhCO,UAAW,CACTV,QAAQ,EACRmE,SAAS,EACTC,SAAS,EACTC,UAAU,EACVlE,OAAQ,CAAC,EAAG,gDAMhB7D,QAAQC,IAAIjR,KAAKK,MAAM+U,UAAUP,QACjC7U,KAAK0C,SAAS,SAAAC,GAAS,MAAK,CAC1ByS,UAAW,CACTV,QAAQ,EACRmE,SAAS,EACTC,QAASnW,EAAUyS,UAAU0D,QAC7BC,SAAUpW,EAAUyS,UAAU2D,SAC9BlE,OAAQlS,EAAUyS,UAAUP,4CAuBzB,IAAA1B,EAAAnT,KAAA2I,EAC0C3I,KAAKK,MAA9CmY,EADD7P,EACC6P,OAAQC,EADT9P,EACS8P,KACVyD,GAFCvT,EACewM,YADfxM,EAC4ByM,UACdpV,KAAKK,MAAMiV,gBAAgBpT,IAAI,SAAAC,GAGlD,IAFA,IAAI6B,EAAOmP,EAAK9S,MAAMkY,aAAa7S,OAC/BmI,EAAI,EACDsF,EAAK9S,MAAMkY,aAAa1K,GAAGV,KAAOhL,GAAK0L,EAAI7J,GAChD6J,IAEF,OACEhL,EAAAC,EAAAC,cAACoZ,GAAA,EAAD,CACEhP,IAAKgG,EAAK9S,MAAMkY,aAAa1K,GAAGV,IAChCnK,MAAO,CAAEe,KAAM,eACfvC,KAAK,OACL4a,OAAQxE,GACRyD,MAAOnD,IAEPrV,EAAAC,EAAAC,cAACoZ,GAAA,EAAD,CAASzE,YAAavE,EAAK9S,MAAMkY,aAAa1K,GAAG6J,kBAIvD,OACE7U,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAE8B,OAAQ,OAAQb,MAAO,SACnCpB,EAAAC,EAAAC,cAACsZ,GAAD,CACErZ,MAAO,CAAE8B,OAAQ,QAASb,MAAO,QACjCiR,YAAalV,KAAKK,MAAM6U,YACxBC,YAAanV,KAAKK,MAAM8U,YACxBC,UAAWpV,KAAKK,MAAM+U,UACtBQ,iBAAkB5V,KAAK4V,iBACvBD,eAAgB3V,KAAK2V,eACrBN,kBAAmBrV,KAAKK,MAAMgV,kBAC9BC,gBAAiBtV,KAAKK,MAAMiV,gBAC5BC,4BAA6BvV,KAAKuV,4BAClCC,2BAA4BxV,KAAKwV,2BACjCC,eAAgBzV,KAAKyV,eACrBC,iBAAkB1V,KAAK0V,iBACvBS,yBAA0BnW,KAAKK,MAAM8V,yBACrCN,sBAAuB7V,KAAK6V,sBAC5BC,yBAA0B9V,KAAKK,MAAMyV,2BAEvCjT,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CACE3C,MAAO,CACL4H,SAAU,WACVF,IAAK,QACL4R,OAAQ,EACRrY,MAAO,OACPc,aAAc,EACdH,QAAS,EACTC,OAAQ,EACR4F,OAAQ,OACR8R,UAAW,WAGb1Z,EAAAC,EAAAC,cAACgD,EAAA,EAAD,CAAQC,OAAQhG,KAAKK,MAAM6U,YAAarM,UAAQ,GAC9ChG,EAAAC,EAAAC,cAACkD,EAAA,EAAD,2BAEFpD,EAAAC,EAAAC,cAACsU,GAAD,CACErU,MAAM,wDACNmV,eAAgBnY,KAAKK,MAAM4Y,gBAC3BT,OAAQA,EACRC,KAAMA,EACNS,YAAalZ,KAAKkZ,YAClBC,YAAanZ,KAAKmZ,YAClBE,UAAWrZ,KAAKqZ,UAChBxV,QAAS7D,KAAKoZ,aACdoD,WAAYxc,KAAKsZ,cAEjBzW,EAAAC,EAAAC,cAACoZ,GAAA,EAAD,CAAO3a,KAAK,OAAO4a,OAAQxE,GAAYyD,MAAOtD,IAC5ClV,EAAAC,EAAAC,cAACoZ,GAAA,EAAD,CAASzE,YAAa1X,KAAKK,MAAM2Y,aAAatB,eAE/CwE,EACAlc,KAAKK,MAAMsY,cACV3Y,KAAKK,MAAMqY,cACX1Y,KAAKK,MAAMqY,aAAahT,QACtB7C,EAAAC,EAAAC,cAACoZ,GAAA,EAAD,CACEzE,YAAa1X,KAAKK,MAAMuY,gBACxB6D,OAAQ,CACNC,cAAe,CAAC,IAAK,IACrBJ,OAAQ,CAAC,GAAI,IACbK,eAAgB,EAAE,IAAK,MAGzB9Z,EAAAC,EAAAC,cAAC6Z,GAAD,CAAgB3F,SAAUjX,KAAKK,MAAMqY,0BAjkB/BpU,IAAMC,WChDfsY,OARf,SAAoBjd,GAClB,OACAiD,EAAAC,EAAAC,cAAA,OAAKM,UAAU,eACbR,EAAAC,EAAAC,cAACb,GAAD,CAAW1B,WAAYZ,EAAMY,WAAYwC,MAAO,CAAC8B,OAAQ,OAAQb,MAAO,YCNtE6Y,GAASC,EAAQ,KAGFC,cACjB,SAAAA,EAAY5B,GAAStb,OAAAC,EAAA,EAAAD,CAAAE,KAAAgd,GACjBhd,KAAKid,QAAU,CAAC,CAAEzb,KAAM,OAAQgH,MAAO4S,IACvCpb,KAAKkd,QAAUJ,GAAOK,6EAGLC,GAAS,IAAAvd,EAAAG,KAC1B,OAAO,IAAIqd,QAAQ,SAACC,EAASC,GACzB,IAAMC,EAAU3d,EAAKod,QAEfrD,EAAK,kEAAA7H,OAEAqL,EAFA,iCAKPK,EAAU,GACd5d,EAAKqd,QAAQtD,MAAMA,EAAO,CAAE4D,YAAWE,KAAK,SAAA1b,GACxCA,EAAO2b,eAAevN,GAAG,OAAQ,SAAA3K,GAC7BgY,EAAQhY,EAAKmY,IAAI,MAAMpV,OAAS/C,EAAKmY,IAAI,MAAMpV,QAChD4H,GAAG,MAAO,WACTkN,EAAQG,gEAMOI,GAAU,IAAAjb,EAAA5C,KACrC,OAAO,IAAIqd,QAAQ,SAACC,EAASC,GACzB,IAAMC,EAAU5a,EAAKqa,QAEfrD,EAAK,4JAAA7H,OAIA8L,EAJA,gFAQPJ,EAAU,GACd7a,EAAKsa,QAAQtD,MAAMA,EAAO,CAAE4D,YAAWE,KAAK,SAAA1b,GACxCA,EAAO2b,eAAevN,GAAG,OAAQ,SAAA3K,GAC7BgY,EAAQpV,KAAK5C,EAAKmY,IAAI,OAAOpV,SAC9B4H,GAAG,MAAO,WACTkN,EAAQG,kBCtCtBK,mBAAa,CACjB,SACA,UACA,UACA,eACA,WACA,WACA,UACA,UACA,gBACA,WACA,iBACA,SACA,aACA,UACA,YACA,YAGI3c,GAAY,CAChB0F,eAAgB,CACd0F,WAAY,YACZ/K,KAAM,UACNuc,cAAc,EACd9V,YAAa,kDAEfhB,iBAAkB,CAChBsF,WAAY,aACZ/K,KAAM,UACNuc,cAAc,EACd9V,YAAa,sDAEfnB,eAAgB,CACdyF,WAAY,WACZ/K,KAAM,UACNuc,cAAc,EACd9V,YAAa,2DAEfjB,iBAAkB,CAChBuF,WAAY,cACZ/K,KAAM,SACNuc,aAAc,EACd9V,YACE,yFAEJlB,cAAe,CACbwF,WAAY,WACZ/K,KAAM,SACNuc,aAAc,GACd9V,YAAa,kDA6KF+V,eA/Jb,SAAAA,EAAYpe,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAge,IACjBne,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAke,GAAA7d,KAAAH,KAAMJ,KAmDRqe,kBAAoB,SAAAzd,GAClBX,EAAKqe,4BAA4B1d,IArDhBX,EAwDnBse,oBAAsB,SAAAnW,GACpBA,EAAWQ,MAAQ,OAASR,EAAWQ,MACvCR,EAAWmF,IAAM,OAASnF,EAAWmF,IACrC,IAAI3M,EAAUV,OAAAse,EAAA,EAAAte,CAAA,GAAQD,EAAKQ,MAAMG,YAC7B6d,GAAa,EACbC,EAAkBnd,GAAU6G,EAAWkF,UAAUX,WAiBrD,GAfA1M,EAAKQ,MAAMG,WAAWwH,EAAWkF,UAAUhL,IAAI,SAAAyN,GAC7C,GACEA,EAAI,OACJA,EAAI,MAAJ,eAAkC3H,EAAWmF,KAC7CwC,EAAI,MAAJ,YAA+B3H,EAAWQ,MAC1C,CACA,IAAIgF,EAAQhN,EAAWwH,EAAWkF,UAAUlD,QAAQ2F,GAIpD,OAHAnP,EAAWwH,EAAWkF,UAAUM,GAAOhG,UAAU8W,GAC/CtW,EAAWuE,WACb8R,GAAa,GACN,EAET,OAAO,IAGLA,EAAY,CAC8B,WAAxCld,GAAU6G,EAAWkF,UAAU1L,OACjCwG,EAAWuE,WAAa6E,SAASpJ,EAAWuE,aAG9C,IAAIgS,EAAU,CACZ9c,MAAO,CACLmG,aAAcI,EAAWmF,IACzBtF,UAAWG,EAAWQ,OAExBhB,UAAU1H,OAAA2I,EAAA,EAAA3I,CAAA,GACPwe,EAAkBtW,EAAWuE,YAEhC9E,SAAUO,EAAWoF,OAGvB5M,EAAWwH,EAAWkF,UAAUsR,QAAQD,GAE1C1e,EAAK6C,SAAS,CAAElC,WAAYA,EAAYoL,WAAW,KAhGlC/L,EAmGnB4e,2BAA6B,SAACjd,EAAMgM,EAAOhF,GACZ,WAAzBrH,GAAUK,GAAMA,OAAmBgH,EAAQ4I,SAAS5I,IACxD,IAAIhI,EAAUV,OAAAse,EAAA,EAAAte,CAAA,GAAQD,EAAKQ,MAAMG,YACjCA,EAAWgB,GAAMgM,GAAjB,UACE,CAACrM,GAAUK,GAAV,aACCgH,EACJ3I,EAAK6C,SAAS,CAAElC,WAAYA,KAzGXX,EA4GnB6e,iBAAmB,SAACld,EAAMgM,GACxB,IAAIhN,EAAUV,OAAAse,EAAA,EAAAte,CAAA,GAAQD,EAAKQ,MAAMG,YAC7BgN,IAAUhN,EAAWgB,GAAMkE,OAAS,IACtClF,EAAWgB,GAAMmd,OAAOnR,EAAO,GAC/B3N,EAAK6C,SAAS,CAAElC,WAAYA,MAhHbX,EAoHnB+e,4BAA8B,SAAA3K,GAC5B,IAAI/O,EAAQrF,EAAKQ,MAAMG,WAAW,cAC9BuQ,EAAQlR,EAAKQ,MAAMG,WAAX,YACRqQ,EAAYhR,EAAKQ,MAAMG,WAAX,mBAEhB0E,EAAQ+O,EAAc/O,MAAQ+O,EAAc/O,MAAQA,EACpD6L,EAAQkD,EAAclD,MAAQkD,EAAclD,MAAQA,EACpDF,EAAYoD,EAAcpD,UAAYoD,EAAcpD,UAAYA,EAEhE,IAAIrQ,EAAUV,OAAAse,EAAA,EAAAte,CAAA,GAAQD,EAAKQ,MAAMG,YACjCA,EAAW,cAAgB0E,EAC3B1E,EAAU,YAAkB4Q,SAASL,GACrCvQ,EAAU,mBAAyBqQ,EACnChR,EAAK6C,SAAS,CAAElC,WAAYA,KA9H5BX,EAAKQ,MAAQ,CACXG,WAAY,GACZqe,iBAAiB,EACjBC,YAAY,EACZC,SAAU,IAPKlf,mIAWeW,+FAC5Bwe,EAAS,IAAIhC,GAAe,sCAC1BiC,EAAY,wCACdF,EAAW,CACb1Q,KAAM,GACNI,OAAQ,IAGVqP,GAAW5b,IAAI,SAAA2b,GAKb,OAJAkB,EAAS1Q,KAAKwP,GAAY,CACxBpP,OAAQ,GACRxG,YAAa,IAER8W,UAGOjf,OAAOmC,KAAK8c,EAAS1Q,sDAA5BuB,gBAC4BoP,EAAOE,+BACxCD,EAAYrP,sBACP,SAAApH,GACL,OAAOA,EAAMkF,MAAMuR,EAAUvZ,SAH/BqZ,EAAS1Q,KAAKuB,GAAKnB,cAEhBvM,oBAGoC8c,EAAOG,qBAC5CF,EAAYrP,WADdmP,EAAS1Q,KAAKuB,GAAK3H,kDAID8W,EAAS1Q,KAAKuB,GAAKnB,iFAA5BjG,oBACwBwW,EAAOG,qBACpCF,EAAYzW,WADduW,EAAStQ,OAAOjG,oTAMpBxI,KAAK0C,SAAS,CACZmc,iBAAiB,EACjBE,SAAUA,EACVve,WAAYA,EACZse,YAAY,qKAqFd,OACEjc,EAAAC,EAAAC,cAAA,OAAKM,UAAU,OACbR,EAAAC,EAAAC,cAACqc,EAAD,CACEje,UAAWA,GACXiF,UAAWpG,KAAKie,kBAChBrS,UAAW5L,KAAKK,MAAMwe,kBAExBhc,EAAAC,EAAAC,cAAA,OAAKM,UAAU,eACbR,EAAAC,EAAAC,cAACsc,GAAD,CACEle,UAAWA,GACX2Q,mBAAoB9R,KAAKK,MAAM0e,SAC/BlN,OAAQ7R,KAAKK,MAAMye,WACnBte,WAAYR,KAAKK,MAAMG,WACvBiR,gBAAiBzR,KAAKme,oBACtB3K,uBAAwBxT,KAAKye,2BAC7BhL,aAAczT,KAAK0e,iBACnBxK,wBAAyBlU,KAAK4e,4BAC9Bvb,UAAU,eAEZR,EAAAC,EAAAC,cAACuc,GAAD,CAAY9e,WAAYR,KAAKK,MAAMG,sBAzJ3B8D,IAAMC,WC1DJgb,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASje,MACvB,2DCZNke,IAASC,OAAO/c,EAAAC,EAAAC,cAAC8c,GAAD,MAAS5e,SAAS6e,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMvC,KAAK,SAAAwC,GACjCA,EAAaC,0DEnInBC,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.e3a183bf.chunk.js","sourcesContent":["import React from \"react\";\nimport { Button, Icon } from \"semantic-ui-react\";\n\nfunction ImportButton(props) {\n  return (\n    <Button icon labelPosition=\"right\" onClick={props.onClick}>\n      <Icon name={\"download\"} style={{ width: \"20%\" }} size=\"large\" />\n      <input\n        type=\"file\"\n        className=\"import_file_button\"\n        multiple=\"\"\n        style={{ display: \"none\" }}\n        accept=\".json\"\n      />\n      Import file\n    </Button>\n  );\n}\n\nexport default ImportButton;\n","import React from \"react\";\nimport { Button, Grid, Icon, Image, Transition } from \"semantic-ui-react\";\nimport CreateButton from \"./CreateButton\";\nimport ImportButton from \"./ImportButton\";\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      screen: \"welcoming\",\n      errorMessage: \"\",\n      configFile: \"\",\n      file: \"\",\n      explanation_visible: false\n    };\n    this.triggerImportFile = this.triggerImportFile.bind(this);\n    this.toggleTextVisibility = this.toggleTextVisibility.bind(this);\n  }\n\n  parseConfigurationFile = () => {};\n\n  triggerImportFile(reactComponent) {\n    var array = document.getElementsByClassName(\"import_file_button\");\n\n    var fileInput = array[0];\n    var ruleTypes = this.props.ruleTypes;\n\n    fileInput.click();\n    fileInput.addEventListener(\"change\", function(e) {\n      var file = fileInput.files[0];\n      var textType = /json.*/;\n\n      if (file.type.match(textType)) {\n        var reader = new FileReader();\n\n        reader.onload = function(e) {\n          var configFile;\n          var validFile = true;\n\n          try {\n            configFile = JSON.parse(reader.result);\n            if (configFile[\"@context\"] == null) {\n              validFile = false;\n            }\n            Object.keys(ruleTypes).map(k => {\n              if (configFile[k] == null || !Array.isArray(configFile[k]))\n                validFile = false;\n              return true;\n            });\n          } catch (error) {\n            validFile = false;\n          }\n\n          if (validFile) {\n            reactComponent.props.onChangeContent(\"UPLOAD\", {\n              valid: true,\n              file: file,\n              configFile: JSON.parse(reader.result)\n            });\n          } else {\n            reactComponent.props.onChangeContent(\"UPLOAD\", {\n              valid: false,\n              file: null,\n              configFile: null\n            });\n          }\n        };\n\n        reader.readAsText(file);\n      } else {\n        reactComponent.props.onChangeContent(\"UPLOAD\", {\n          valid: false,\n          file: null,\n          configFile: null\n        });\n      }\n    });\n  }\n\n  toggleTextVisibility() {\n    this.setState(prevState => ({\n      explanation_visible: !prevState.explanation_visible\n    }));\n  }\n\n  render() {\n    const { explanation_visible } = this.state;\n    return (\n      <div>\n        <div style={{ textAlign: \"center\" }}>\n          <Image centered src=\"assets/logo.jpg\" className=\"centerLogo\" />\n          <p className=\"modalTitle\">\n            Your go-to for creating robust route configurations\n          </p>\n          <Transition.Group animation=\"fade down\" duration={500}>\n            {explanation_visible && (\n              <div className=\"explanation modalContent\">\n                <p>\n                  Ever traveled with unconventional means of transport such as a\n                  scooter? You want to reach specific locations but your route\n                  planner takes you through uncomfortable routes? We believe\n                  your journey should always be adapted to your very specific\n                  mobility needs. For this reason, we created ConfiguRoute: a\n                  tool to quickly and easily create finely tuned configuration\n                  files for your transport profiles.\n                </p>\n                <p>\n                  Transport profiles are defined using linked open data and\n                  OpenStreetMap terminologies. More information can be found at\n                  &nbsp;\n                  <a\n                    className=\"modalContent\"\n                    href=\"http://hdelva.be/profile/ns/profile.html\"\n                    target=\"_blank\"\n                    rel=\" noopener noreferrer\"\n                  >\n                    the profile defenition ontology\n                  </a>\n                  .\n                </p>\n              </div>\n            )}\n          </Transition.Group>\n\n          <a\n            className=\"color_white \"\n            onClick={() => {\n              this.toggleTextVisibility();\n            }}\n          >\n            {explanation_visible ? \"Read less\" : \"Read more\"}\n            <Icon\n              name={explanation_visible ? \"angle up\" : \"angle down\"}\n              size=\"large\"\n            />\n          </a>\n        </div>\n        <div className=\"horizontalContainer\">\n          <button\n            className=\"button color_white background_green\"\n            onClick={() => {\n              this.props.onChangeContent(\"NEW\");\n            }}\n          >\n            <Icon name={\"plus\"} style={{ width: \"20%\" }} />\n            <span className=\"border_right\">Create new</span>\n          </button>\n          <span className=\"textUppercase color_white buttonDevider\">or</span>\n          <button\n            className=\"button color_white background_green\"\n            onClick={() => {\n              this.triggerImportFile(this);\n            }}\n          >\n            <Icon name={\"download\"} style={{ width: \"20%\" }}/>\n            <input\n              type=\"file\"\n              className=\"import_file_button\"\n              multiple=\"\"\n              style={{ display: \"none\" }}\n              accept=\".json\"\n            />\n            <span className=\"border_right\" style={{paddingTop: '3px'}}>Import file</span>\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Index;\n","import React from \"react\";\nimport { Button, Icon } from \"semantic-ui-react\";\n\nfunction BackButton(props) {\n  return (\n    <Button\n      icon\n      labelPosition=\"left\"\n      className={\"landing_page_button\"}\n      onClick={props.onClick}\n      style={{'padding': 0, 'margin': 0, height: '100%', 'borderRadius': '0 0 0 12px'}}\n    >\n      <Icon name={\"left arrow\"} style={{ width: \"20%\" }} size=\"large\" />\n      Go back\n    </Button>\n  );\n}\n\nexport default BackButton;\n","import React from \"react\";\nimport { Button, Icon } from \"semantic-ui-react\";\n\nfunction ConfirmButton(props) {\n  return (\n    <Button\n      icon\n      labelPosition=\"right\"\n      className={\"landing_page_button\"}\n      onClick={props.onClick}\n      disabled={props.disabled}\n      style={{padding: 0, margin: 0, height: '100%', borderRadius: '0px 0px 12px 0px'}}\n    >\n      <Icon name={\"check\"} style={{ width: \"20%\" }} size=\"large\" />\n      {props.label ? props.label : \"Confirm selection\"}\n    </Button>\n  );\n}\n\nexport default ConfirmButton;\n","import React from \"react\";\nimport {\n  Button,\n  Grid,\n  Icon,\n  Segment,\n  Label,\n  Dimmer,\n  Loader\n} from \"semantic-ui-react\";\nimport BackButton from \"./BackButton\";\nimport ConfirmButton from \"./ConfirmButton\";\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.validFileScreen = this.validFileScreen.bind(this);\n    this.errorScreen = this.errorScreen.bind(this);\n    this.state = {\n      dimmerActive: false\n    };\n  }\n\n  computeNumberOfRules() {\n    var nbOfRules = 0;\n\n    if (this.props.data.configFile === undefined) return nbOfRules;\n\n    Object.keys(this.props.ruleTypes).map(k => {\n      nbOfRules += this.props.data.configFile[k].length;\n      return nbOfRules;\n    });\n\n    return nbOfRules;\n  }\n\n  validFileScreen() {\n    return (\n      <div>\n        <h2 className=\"color_white\" style={{margin: '12px'}}> {this.props.data.file.name} </h2>\n        <Segment style={{margin: '12px'}}>\n          <Label> Size: </Label> {this.props.data.file.size + \" bytes\"}\n        </Segment>\n        <Segment style={{margin: '12px'}}>\n          <Label> Label: </Label> {this.props.data.configFile[\"rdfs:label\"]}{\" \"}\n        </Segment >\n        <Segment style={{margin: '12px'}}>\n          <Label> Number of rules: </Label> {this.computeNumberOfRules()}\n        </Segment>\n      </div>\n    );\n  }\n\n  errorScreen() {\n    return (\n        <h2 className=\"color_white\"> Format unsupported </h2>\n    );\n  }\n\n  content() {\n    if (this.props.data.valid) {\n      return <this.validFileScreen />;\n    } else {\n      return <this.errorScreen />;\n    }\n  }\n  render() {\n    return (\n      <div>\n        <Dimmer active={this.state.dimmerActive}>\n          <Loader size=\"huge\">Loading</Loader>\n        </Dimmer>\n          {this.content()}\n          <div className=\"horizontalContainer\">\n          <button className=\"button_secondary color_dark_blue background_white\" onClick={this.props.onBack}>\n              <Icon name={\"arrow left\"} />\n              <span>Go back</span>                  \n          </button>\n          <button className=\"button color_white background_green\" \n            onClick={() => {\n              this.setState({ dimmerActive: true });\n              this.props.onConfirm(this.props.data.configFile);\n            }}>\n            <Icon name={\"checkmark\"} style={{ width: \"20%\" }} size=\"large\" />\n            <span style={{paddingTop: '3px'}}>Confirm selection</span>\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Upload;\n","import React from \"react\";\nimport {\n  Form,\n  Grid,\n  Button,\n  Message,\n  Dimmer,\n  Loader,\n  Icon,\n  Label,\n  Menu,\n  Divider\n} from \"semantic-ui-react\";\nimport BackButton from \"./BackButton.jsx\";\nimport ConfirmButton from \"./ConfirmButton.jsx\";\n\nconst configFileContext = {\n  \"@context\": {\n    osm: \"https://w3id.org/openstreetmap/terms#\",\n    opp: \"https://w3id.org/openplannerteam/profile#\",\n    prov: \"http://www.w3.org/ns/prov#\",\n    hasMaxSpeed: {\n      \"@id\": \"opp:hasMaxSpeed\"\n    },\n    usePublicTransport: {\n      \"@id\": \"opp:usePublicTransport\"\n    },\n    hasAccessRules: {\n      \"@id\": \"opp:hasAccessRules\"\n    },\n    hasOnewayRules: {\n      \"@id\": \"opp:hasOnewayRules\"\n    },\n    hasSpeedRules: {\n      \"@id\": \"opp:hasSpeedRules\"\n    },\n    hasPriorityRules: {\n      \"@id\": \"opp:hasPriorityRules\"\n    },\n    hasObstacleRules: {\n      \"@id\": \"opp:hasObstacleRules\"\n    },\n    hasAccess: {\n      \"@id\": \"opp:hasAccess\"\n    },\n    isOneway: {\n      \"@id\": \"opp:isOneway\"\n    },\n    isReversed: {\n      \"@id\": \"opp:isReversed\"\n    },\n    hasSpeed: {\n      \"@id\": \"opp:hasSpeed\"\n    },\n    isObstacle: {\n      \"@id\": \"opp:isObstacle\"\n    },\n    hasPriority: {\n      \"@id\": \"opp:hasPriority\"\n    },\n    concludes: {\n      \"@id\": \"opp:concludes\"\n    },\n    hasOrder: {\n      \"@id\": \"opp:hasOrder\"\n    },\n    match: {\n      \"@id\": \"opp:match\"\n    },\n    fromProperty: {\n      \"@id\": \"opp:fromProperty\",\n      \"@type\": \"@id\"\n    },\n    hasPredicate: {\n      \"@id\": \"opp:hasPredicate\",\n      \"@type\": \"@id\"\n    },\n    hasObject: {\n      \"@id\": \"opp:hasObject\",\n      \"@type\": \"@id\"\n    }\n  }\n};\nclass NewConfigFileForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      description: \"\",\n      maxSpeed: \"\",\n      usePublicTransport: false,\n      showErrorMessage: false,\n      dimmerActive: false\n    };\n  }\n\n  onNewConfigFileCreation = formValues => {\n    var ruleTypes = this.props.ruleTypes;\n    var configFile = configFileContext;\n    // Given by the form\n    configFile[\"rdfs:label\"] = formValues.description;\n    configFile[\"hasMaxSpeed\"] = Number(formValues.maxSpeed);\n    configFile[\"usePublicTransport\"] = formValues.usePublicTransport;\n    // creation of default rules for each type of rule\n    Object.keys(this.props.ruleTypes).map(k => {\n      configFile[k] = [];\n\n      var defaultRule = {};\n      defaultRule[\"concludes\"] = {};\n      defaultRule[\"concludes\"][ruleTypes[k][\"conclusion\"]] =\n        ruleTypes[k][\"defaultValue\"];\n      defaultRule[\"hasOrder\"] = 100;\n\n      configFile[k].push(defaultRule);\n\n      return k;\n    });\n\n    return configFile;\n  };\n  handleChange = (e, { name, value }) => this.setState({ [name]: value });\n\n  form() {\n    const { description, maxSpeed, usePublicTransport } = this.state;\n    return (\n      <Form inverted>\n        <Form.Input\n          label=\"Description\"\n          placeholder=\"Vehicle profile for...\"\n          name=\"description\"\n          value={description}\n          onChange={this.handleChange}\n          required\n        />\n\n        <Form.Input\n          type=\"number\"\n          label=\"Maximum speed\"\n          placeholder=\"Speed in km/h\"\n          name=\"maxSpeed\"\n          value={maxSpeed}\n          onChange={this.handleChange}\n          required\n        />\n        <Form.Checkbox\n          label=\"Use public transport\"\n          onChange={() => {\n            this.setState({ usePublicTransport: !usePublicTransport });\n          }}\n          checked={usePublicTransport}\n        />\n        {this.state.showErrorMessage && (\n          <Message negative>\n            <Message.Header>All field values must be filled in</Message.Header>\n            <p>Enter a description and the maximum speed of the vehicle.</p>\n          </Message>\n        )}\n      </Form>\n    );\n  }\n\n  startFromProfile(reactComponent, profile_url) {\n    // read text from URL location\n    var request = new XMLHttpRequest();\n    request.open(\"GET\", profile_url, true);\n    request.send(null);\n    request.onreadystatechange = function() {\n      if (request.readyState === 4 && request.status === 200) {\n        var type = request.getResponseHeader(\"Content-Type\");\n        if (type.indexOf(\"text\") !== 1) {\n          reactComponent.props.onConfirm(JSON.parse(request.responseText));\n        } else {\n          alert(\"Error happened: link to file modified or removed!\");\n        }\n      }\n    };\n    this.setState({ dimmerActive: true });\n  }\n\n  render() {\n    return (\n      <div>\n        <Dimmer active={this.state.dimmerActive}>\n          <Loader size=\"huge\">Loading</Loader>\n        </Dimmer>\n        <div className=\"new_file_from\">\n          <h2 className=\"color_white\">Start from a default profile</h2>\n          <div className=\"profiles_container\">\n            <button className=\"background_white button_profile\"\n                name=\"car\"\n                onClick={() => {\n                  //this.onNewConfigFileCreation(JSON.parse(this.getText()));\n                  this.startFromProfile(\n                    this,\n                    \"https://raw.githubusercontent.com/oSoc19/configuroute/master/default_profiles/car.json\"\n                  );\n                }}\n              >\n                <Icon name=\"car\" size=\"huge\" />\n              </button>\n              <button className=\"background_white button_profile\"\n                name=\"bike\"\n                onClick={() => {\n                  //this.onNewConfigFileCreation(JSON.parse(this.getText()));\n                  this.startFromProfile(\n                    this,\n                    \"https://raw.githubusercontent.com/oSoc19/configuroute/master/default_profiles/bike.json\"\n                  );\n                }}\n              >\n                <Icon name=\"bicycle\" size=\"huge\" />\n              </button>\n              <button className=\"background_white button_profile\"\n                name=\"default profiles\"\n                onClick={() => {\n                  //this.onNewConfigFileCreation(JSON.parse(this.getText()));\n                  this.startFromProfile(\n                    this,\n                    \"https://raw.githubusercontent.com/oSoc19/configuroute/master/default_profiles/pedestrian.json\"\n                  );\n                }}\n              >\n                <Icon name=\"blind\" size=\"huge\" />\n              </button>\n              </div>\n            <Divider inverted horizontal>or</Divider>\n            <h2 className=\"color_white\"> Start from scratch </h2>\n            {this.form()}\n        </div>\n        <div className=\"horizontalContainer\">\n          <button className=\"button_secondary color_dark_blue background_white\" onClick={this.props.onBack}>\n              <Icon name=\"arrow left\" />\n              <span>Go back</span>                  \n          </button>\n          <button className=\"button color_white background_green\" \n            onClick={() => {\n            var showErrorMessage = false;\n            Object.keys(this.state).map(k => {\n              if (this.state[k] === \"\" || this.state[k] === null) {\n                showErrorMessage = true;\n              }\n              return k;\n            });\n            if (showErrorMessage) {\n              this.setState({ showErrorMessage: true });\n            } else {\n              this.setState({ dimmerActive: true });\n              this.props.onConfirm(\n                this.onNewConfigFileCreation(this.state)\n              );\n            }\n            }}>\n            <Icon name=\"checkmark\" style={{ width: \"20%\" }} size=\"large\" />\n            <span style={{paddingTop: '3px'}}>Confirm selection</span>\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default NewConfigFileForm;\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport \"./landingPage.css\";\nimport Index from \"./Index.jsx\";\nimport Upload from \"./Upload.jsx\";\nimport NewConfigFileForm from \"./NewFileForm\";\n\nconst customModalStyle = {\n  content: {\n    width: \"60%\",\n    height: \"60%\",\n    padding: 0,\n    borderRadius: '5px',\n    outline: \"none\",\n    border: \"none\",\n    top: \"50%\",\n    left: \"50%\",\n    position: \"absolute\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    backgroundColor: \"#0B132B\"\n  },\n  overlay: {\n    backgroundColor: \"rgba(255, 255, 255, 0.7)\"\n  }\n};\n\nModal.setAppElement(\"#root\");\n\nclass LandingPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: \"INDEX\",\n      fileData: {}\n    };\n\n    this.handleChangeContent = this.handleChangeContent.bind(this);\n    this.handleConfirm = this.handleConfirm.bind(this);\n  }\n\n  handleChangeContent(content, data) {\n    this.setState({ content: content, fileData: data });\n  }\n\n  handleConfirm(configFile) {\n    this.props.onConfirm(configFile);\n  }\n\n  content = () => {\n    switch (this.state.content) {\n      case \"INDEX\":\n        return (\n          <Index\n            ruleTypes={this.props.ruleTypes}\n            onChangeContent={this.handleChangeContent}\n          />\n        );\n      case \"UPLOAD\":\n        return (\n          <Upload\n            ruleTypes={this.props.ruleTypes}\n            onConfirm={this.handleConfirm}\n            onBack={() => {\n              this.handleChangeContent(\"INDEX\");\n            }}\n            data={this.state.fileData}\n            onChangeContent={this.handleChangeContent}\n          />\n        );\n      case \"NEW\":\n        return (\n          <NewConfigFileForm\n            ruleTypes={this.props.ruleTypes}\n            onConfirm={this.handleConfirm}\n            onBack={() => {\n              this.handleChangeContent(\"INDEX\");\n            }}\n            onChangeContent={this.handleChangeContent}\n          />\n        );\n      default:\n        return null;\n    }\n  };\n\n  render() {\n    return (\n      <Modal\n        isOpen={this.props.showModal}\n        contentLabel=\"Landing Page\"\n        style={customModalStyle}\n      >\n        <this.content />\n      </Modal>\n    );\n  }\n}\n\nexport default LandingPage;\n","import React from \"react\";\nimport { Item } from \"semantic-ui-react\";\n\nexport default function DescriptionItem(props) {\n  return (\n    <Item>\n      <Item.Content>\n        <Item.Header as=\"a\" href={props.href} target=\"_blank\">\n          {props.header}\n        </Item.Header>\n        <Item.Meta>Description</Item.Meta>\n        <Item.Description>{props.description}</Item.Description>\n      </Item.Content>\n    </Item>\n  );\n}\n","import React from \"react\";\nimport {\n  Form,\n  Label,\n  Modal,\n  Segment,\n  Grid,\n  Button,\n  Item\n} from \"semantic-ui-react\";\nimport BackButton from \"../../landingPage/BackButton\";\nimport ConfirmButton from \"../../landingPage/ConfirmButton\";\nimport \"../../landingPage/landingPage.css\";\nimport DescriptionItem from \"./DescriptionItem\";\n\nclass NewRuleForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: true,\n      ruleType: \"\",\n      key: \"\",\n      value: \"\",\n      conclusion: \"\",\n      order: 1,\n      prefix: \"https://w3id.org/openstreetmap/terms#\",\n      rulesLink: \"http://hdelva.be/profile/ns/profile.html#\"\n    };\n  }\n\n  handleChange = (e, { name, value }) => {\n    this.setState({ [name]: value });\n  };\n\n  handleChangeChecked = e =>\n    this.setState({ conclusion: !this.state.conclusion });\n\n  insertCharacterInString(string, index, char) {\n    if (string.length > index) {\n      return string.slice(0, index) + char + string.slice(index);\n    }\n  }\n\n  beautifyString(stringToChange) {\n    var upperCasesIndexes = [];\n    var string = stringToChange.slice(0);\n\n    for (var i = 1; i < string.length; i++) {\n      var l = upperCasesIndexes.length + i;\n      if (i && string[i] === string[i].toUpperCase()) {\n        upperCasesIndexes.push(l);\n      }\n    }\n\n    upperCasesIndexes.map(index => {\n      string = this.insertCharacterInString(string, index, \" \");\n      return string;\n    });\n    return string;\n  }\n\n  form() {\n    const ruleTypeOptions = Object.keys(this.props.ruleTypes).map(k => {\n      return {\n        key: k,\n        value: k,\n        text: this.beautifyString(k.slice(3))\n      };\n    });\n\n    var tags = this.props.selectOptions.tags;\n    const keyOptions = Object.keys(tags).map(k => {\n      return {\n        key: k,\n        value: k,\n        text: k\n      };\n    });\n\n    const valueOptions = this.state.key\n      ? tags[this.state.key].values.map(valueName => {\n          var k = valueName;\n          return {\n            key: k,\n            value: k,\n            text: k\n          };\n        })\n      : [];\n\n    let conclusionForm;\n    if (\n      this.state.ruleType &&\n      this.props.ruleTypes[this.state.ruleType].type === \"number\"\n    ) {\n      conclusionForm = (\n        <Form.Input\n          type=\"number\"\n          name=\"conclusion\"\n          placeholder={this.props.ruleTypes[this.state.ruleType].conclusion}\n          label=\"conclusion\"\n          onChange={this.handleChange}\n          value={this.state.conclusion}\n          required\n        />\n      );\n    } else if (this.state.ruleType) {\n      let label = this.props.ruleTypes[this.state.ruleType][\"conclusion\"];\n      conclusionForm = (\n        <Form.Checkbox\n          name=\"conclusion\"\n          placeholder={label}\n          label={label}\n          onChange={this.handleChangeChecked}\n          checked={this.state.conclusion}\n          defaultChecked={false}\n          slider\n        />\n      );\n    } else {\n      conclusionForm = null;\n    }\n\n    return (\n      <React.Fragment>\n        <Form>\n          <Form.Select\n            name=\"ruleType\"\n            placeholder=\"Type of rule\"\n            label=\"Rule\"\n            options={ruleTypeOptions} //TODO: change it\n            onChange={this.handleChange}\n            value={this.state.ruleType}\n          />\n\n          <Form.Group>\n            <Form.Select\n              name=\"key\"\n              placeholder=\"Condition key\"\n              label=\"key\"\n              options={keyOptions}\n              onChange={this.handleChange}\n              value={this.state.key}\n            />\n            <Form.Select\n              name=\"value\"\n              placeholder={\"Condition value\"}\n              label=\"value\"\n              options={valueOptions}\n              onChange={this.handleChange}\n              value={this.state.value}\n            />\n          </Form.Group>\n          <Form.Group />\n          {conclusionForm}\n          <Form.Input\n            name=\"order\"\n            placeholder=\"Order of priority\"\n            label=\"Order of priority\"\n            onChange={this.handleChange}\n            value={this.state.order}\n          />\n          {this.state.showErrorMessage && (\n            <Segment>\n              {\" \"}\n              <Label> All field values must be completed </Label>\n            </Segment>\n          )}\n        </Form>\n        <Item.Group divided>\n          {this.state.ruleType && (\n            <DescriptionItem\n              href={this.state.rulesLink + this.state.ruleType}\n              header={this.state.ruleType.slice(3)}\n              description={\n                this.props.ruleTypes[this.state.ruleType].description\n              }\n            />\n          )}\n          {this.state.key && (\n            <DescriptionItem\n              href={this.props.getTagLink(this.state.key)}\n              header={this.state.key}\n              description={this.props.getTagComment(this.state.key)}\n            />\n          )}\n\n          {this.state.value && (\n            <DescriptionItem\n              href={this.props.getValueLink(this.state.value)}\n              header={this.state.value.toLowerCase()}\n              description={this.props.getValueComment(this.state.value)}\n            />\n          )}\n        </Item.Group>\n      </React.Fragment>\n    );\n  }\n\n  content = () => {\n    return (\n      <Grid centered style={{ height: \"100%\", margin: 0 }}>\n        <Grid.Row\n          columns={1}\n          stretched\n          style={{ height: \"50%\", padding: \"12px\" }}\n        >\n          <Grid.Column className=\"contentColumn\">{this.form()} </Grid.Column>\n        </Grid.Row>\n        <Grid.Row\n          columns={2}\n          stretched\n          style={{ height: \"50px\", padding: \"0\" }}\n        >\n          <Button.Group style={{ width: \"100%\", padding: 0 }}>\n            <BackButton onClick={this.props.onClose} />\n            <Button.Or />\n            <ConfirmButton\n              onClick={() => {\n                var showErrorMessage = false;\n                Object.keys(this.state).map(k => {\n                  if (this.state[k] === \"\" || this.state[k] === null) {\n                    showErrorMessage = true;\n                  }\n                  return k;\n                });\n                if (showErrorMessage) {\n                  this.setState({ showErrorMessage: true });\n                } else {\n                  this.props.onSubmit(this.state);\n                }\n              }}\n            />\n          </Button.Group>\n        </Grid.Row>\n      </Grid>\n    );\n  };\n\n  render() {\n    return (\n      <Modal open={this.props.showModal} style={{ \"border-radius\": \"12px\" }}>\n        <this.content />\n      </Modal>\n    );\n  }\n}\n\nexport default NewRuleForm;\n","import React from \"react\";\nimport {\n  Item,\n  Button,\n  Icon,\n  Input,\n  Checkbox,\n  Segment,\n  Popup\n} from \"semantic-ui-react\";\nimport DescriptionItem from \"./DescriptionItem\";\n\nclass RuleItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModal: false\n    };\n  }\n\n  handleChange = (e, { value, checked }) => {\n    if (value === undefined) {\n      this.props.onChange(this.props.type, this.props.index, checked);\n    } else {\n      this.props.onChange(this.props.type, this.props.index, value);\n    }\n  };\n\n  content() {\n    var option;\n    // for now only take the first key\n    var conclusion = Object.keys(this.props.rule.concludes)[0];\n    switch (typeof this.props.rule.concludes[conclusion]) {\n      case \"string\":\n        option = (\n          <Input\n            value={this.props.rule.concludes[conclusion]}\n            onChange={this.handleChange}\n          />\n        );\n        break;\n      case \"number\":\n        option = (\n          <Input\n            type=\"number\"\n            value={this.props.rule.concludes[conclusion]}\n            onChange={this.handleChange}\n          />\n        );\n        break;\n      case \"boolean\":\n        option = (\n          <Checkbox\n            toggle\n            checked={this.props.rule.concludes[conclusion]}\n            onChange={this.handleChange}\n          />\n        );\n        break;\n      default:\n        option = null;\n        break;\n    }\n    return (\n      <Segment style={{marginRight: 0}}>\n        {conclusion} {option}\n      </Segment>\n    );\n  }\n\n  handleCloseModal = () => {\n    this.setState({ showModal: false });\n  };\n\n  handleOpenModal = () => {\n    this.setState({ showModal: true });\n  };\n\n  popupContent = () => {\n    if (this.props.rule.match) {\n      var tag = this.props.rule.match.hasPredicate;\n      tag = tag ? tag.slice(4) : tag;\n      var value = this.props.rule.match.hasObject;\n      value = value ? value.slice(4) : value;\n      return (\n        <Item.Group>\n          {tag && (\n            <DescriptionItem\n              href={this.props.getTagLink(tag)}\n              header={tag}\n              description={this.props.getTagComment(tag)}\n            />\n          )}\n          {value && (\n            <DescriptionItem\n              href={this.props.getValueLink(value)}\n              header={value}\n              description={this.props.getValueComment(value)}\n            />\n          )}\n        </Item.Group>\n      );\n    }\n    return null;\n  };\n\n  render() {\n    var header;\n    if (this.props.rule.match) {\n      header =\n        this.props.rule.match.hasPredicate +\n        \" - \" +\n        this.props.rule.match.hasObject;\n      header = header.replace(/osm:/g, \"\");\n    } else {\n      header = \"Default rule\";\n    }\n\n    if (!this.props.display) return null;\n    return (\n      <Item>\n        <Item.Content>\n          <h3 className=\"color_white\"> {header} </h3>\n          <Item.Description />\n          <Item.Meta>\n            {this.content()}\n            <Button.Group style={{ width: \"100%\" }}>\n              <Button\n                onClick={() => {\n                  this.props.onDelete(this.props.type, this.props.index);\n                }}\n                icon\n                disabled={header === \"Default rule\"}\n              >\n                <Icon name=\"trash alternate outline\" />\n              </Button>\n              <Button.Or />\n              <Popup\n                hideOnScroll\n                trigger={\n                  <Button\n                    onClick={() => {\n                      this.handleOpenModal();\n                    }}\n                    icon\n                  >\n                    <Icon name=\"info\" />\n                  </Button>\n                }\n                content={this.popupContent()}\n                on=\"click\"\n                open={this.state.showModal}\n                onClose={this.handleCloseModal}\n                onOpen={this.handleOpenModal}\n                position=\"top right\"\n              />\n            </Button.Group>{\" \"}\n          </Item.Meta>\n        </Item.Content>\n      </Item>\n    );\n  }\n}\n\nexport default RuleItem;\n","import React from \"react\";\nimport { Modal, Button } from \"semantic-ui-react\";\nimport JSONInput from \"react-json-editor-ajrm\";\nimport locale from \"react-json-editor-ajrm/locale/en\";\nimport BackButton from \"../landingPage/BackButton\";\n\nexport default function ConfigFileModal(props) {\n  var width = \"60vw\";\n  return (\n    <Modal open={props.open} style={{ width: width, height: '70vh' }}>\n      <JSONInput\n        id=\"configFile_editor\"\n        placeholder={props.configFile}\n        locale={locale}\n        height=\"100%\"\n        width={width}\n        viewOnly={true}\n      />\n      <Button.Group style={{ width: width, height: '8%' }}>\n        <BackButton onClick={props.onClose} />\n      </Button.Group>\n    </Modal>\n  );\n}\n","import React from \"react\";\nimport { Modal, Grid, Button, Form } from \"semantic-ui-react\";\nimport BackButton from \"./landingPage/BackButton\";\nimport ConfirmButton from \"./landingPage/ConfirmButton\";\n\nexport default class BasicPropertiesModal extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(props.transport);\n    this.state = {\n      label: props.label,\n      speed: props.speed,\n      transport: props.transport,\n      modified: false\n    };\n  }\n\n  handleChange = (e, { name, value, checked }) => {\n    if (name === \"transport\") {\n      this.setState({ transport: checked, modified: true });\n    } else {\n      this.setState({ [name]: value, modified: true });\n    }\n  };\n\n  form = () => {\n    return (\n      <Form>\n        <Form.Input\n          name=\"label\"\n          label=\"description:\"\n          onChange={this.handleChange}\n          value={this.state.label}\n          required\n        />\n        <Form.Input\n          type=\"number\"\n          name=\"speed\"\n          label=\"maximum speed:\"\n          onChange={this.handleChange}\n          value={this.state.speed}\n          required\n        />\n        <Form.Checkbox\n          name=\"transport\"\n          label=\"can be taken on public transport:\"\n          onChange={this.handleChange}\n          checked={this.state.transport}\n          slider\n        />\n      </Form>\n    );\n  };\n  render() {\n    return (\n      <Modal open={this.props.isOpen}>\n        <Grid centered style={{ height: \"100%\", margin: 0 }}>\n          <Grid.Row\n            columns={1}\n            stretched\n            style={{ height: \"50%\", padding: \"12px\" }}\n          >\n            <Grid.Column className=\"contentColumn\">{this.form()} </Grid.Column>\n          </Grid.Row>\n          <Grid.Row\n            columns={2}\n            stretched\n            style={{ height: \"50px\", padding: \"0\" }}\n          >\n            <Button.Group style={{ width: \"100%\" }}>\n              <BackButton onClick={this.props.onClose} />\n              <Button.Or />\n              <ConfirmButton\n                disabled={!this.state.modified}\n                label=\"Update properties\"\n                onClick={() => {\n                  this.props.onConfirm(this.state);\n                }}\n              />\n            </Button.Group>\n          </Grid.Row>\n        </Grid>\n      </Modal>\n    );\n  }\n}\n","import React from \"react\";\nimport NewRuleForm from \"./rules/NewRuleForm\";\nimport {\n  Button,\n  Accordion,\n  Icon,\n  Menu,\n  Input,\n  Item,\n  Dropdown\n} from \"semantic-ui-react\";\nimport RuleItem from \"./rules/RuleItem\";\nimport ConfigFileModal from \"./ConfigFileModal\";\nimport BasicPropertiesModal from \"../basicPropertiesModal\";\n\nexport default class LeftPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModal: false,\n      showConfigFile: false,\n      activeIndex: 0,\n      selectedKeywords: [],\n      showBasicPropertiesModal: false\n    };\n  }\n\n  handleCloseModal = () => {\n    this.setState({ showModal: false });\n  };\n\n  rulesMatchesKeyword(rule) {\n    if (this.state.selectedKeywords.length > 0) {\n      if (rule.match) {\n        var tags = [rule.match.hasPredicate.slice(4)];\n        if (rule.match.hasObject) {\n          tags.push(rule.match.hasObject.slice(4));\n        }\n\n        return tags\n          .map(tag => {\n            if (this.state.selectedKeywords.includes(tag)) {\n              return true;\n            }\n            return false;\n          })\n          .includes(true);\n      }\n      return false;\n    }\n    return true;\n  }\n\n  insertCharacterInString(string, index, char) {\n    if (string.length > index) {\n      return string.slice(0, index) + char + string.slice(index);\n    }\n  }\n\n  beautifyString(stringToChange) {\n    var upperCasesIndexes = [];\n    var string = stringToChange.slice(0);\n\n    for (var i = 1; i < string.length; i++) {\n      var l = upperCasesIndexes.length + i;\n      if (i && string[i] === string[i].toUpperCase()) {\n        upperCasesIndexes.push(l);\n      }\n    }\n\n    upperCasesIndexes.map(index => {\n      string = this.insertCharacterInString(string, index, \" \");\n      return string;\n    });\n    switch (string) {\n      case \"rdfs :label\":\n        return \"Profile\";\n      case \"has Max Speed\":\n        return \"Max-speed\";\n      case \"use Public Transport\":\n        return \"Public transportation\";\n    }\n    return string;\n  }\n\n  handleClick = e => {\n    const index = parseInt(e.target.id);\n    const { activeIndex } = this.state;\n    const newIndex = activeIndex === index ? -1 : index;\n    this.setState({ activeIndex: newIndex });\n  };\n\n  displayContent() {\n    if (this.props.loaded) {\n      var i = 0;\n      return Object.keys(this.props.ruleTypes).map(ruleType => {\n        i++;\n        var j = 0;\n        var count = 0;\n        return (\n          <div key={i}>\n            <button\n              className={\n                this.state.activeIndex === i ? \"accordion active\" : \"accordion\"\n              }\n              id={i}\n              onClick={e => {\n                this.handleClick(e);\n              }}\n            >\n              <span\n                id={i}\n                onClick={e => {\n                  this.handleClick(e);\n                }}\n              >\n                {this.beautifyString(ruleType.slice(3))}\n              </span>\n              <Icon\n                name=\"chevron down\"\n                size=\"small\"\n                id={i}\n                style={{ paddingTop: \"4px\" }}\n              />\n            </button>\n            <div\n              className=\"accordion_panel\"\n              style={\n                this.state.activeIndex === i\n                  ? { display: \"block\" }\n                  : { display: \"none\" }\n              }\n            >\n              <Item.Group divided>\n                {this.props.configFile[ruleType].map(rule => {\n                  if (this.rulesMatchesKeyword(rule)) {\n                    count++;\n                  }\n                  return (\n                    <RuleItem\n                      display={this.rulesMatchesKeyword(rule)}\n                      type={ruleType}\n                      index={j++}\n                      key={JSON.stringify(rule)}\n                      rule={rule}\n                      onChange={this.props.onRuleConclusionChange}\n                      onDelete={this.props.onRuleDelete}\n                      getValueLink={this.getValueLink}\n                      getValueComment={this.getValueComment}\n                      getTagLink={this.getTagLink}\n                      getTagComment={this.getTagComment}\n                    />\n                  );\n                })}\n              </Item.Group>\n              {count === 0 && (\n                <div className=\"color_white\">\n                  <p>Nothing to see here, try adding some rules!</p>\n                </div>\n              )}\n            </div>\n          </div>\n        );\n      });\n    } else {\n      return null;\n    }\n  }\n\n  handleSubmit = formValues => {\n    var newActiveIndex =\n      Object.keys(this.props.ruleTypes).indexOf(formValues.ruleType) + 1;\n    if (newActiveIndex !== this.state.activeIndex)\n      this.setState({ activeIndex: newActiveIndex });\n    this.handleCloseModal();\n    this.props.onNewRuleSubmit(formValues);\n  };\n\n  displayBasicProperties = () => {\n    return (\n      <React.Fragment key={0}>\n        {Object.keys(this.props.configFile).map(key => {\n          var value = this.props.configFile[key];\n          if (!Array.isArray(value) && !(typeof value === \"object\")) {\n            var k = this.beautifyString(key) + \": \";\n            return (\n              <div className=\"color_white basic_properties\" key={k}>\n                <span>{k}</span>\n                <span>\n                  <b>{String(value)}</b>\n                </span>\n              </div>\n            );\n          }\n        })}\n      </React.Fragment>\n    );\n  };\n\n  generateDropdownOptions = () => {\n    if (!this.props.loaded) return [];\n\n    var tags = this.props.rulesSelectOptions.tags;\n    const keyOptions = Object.keys(tags).map(k => {\n      return {\n        key: k,\n        value: k,\n        text: k\n        //label: { color: \"red\", empty: true, circular: true }\n      };\n    });\n\n    const values = this.props.rulesSelectOptions.values;\n    const valueOptions = Object.keys(values).map(k => {\n      return {\n        key: k,\n        value: k,\n        text: k\n        //label: { color: \"green\", empty: true, circular: true }\n      };\n    });\n\n    return [...keyOptions, ...valueOptions];\n  };\n\n  handleSelectedKeywordsChange = (e, { value }) => {\n    this.setState({ selectedKeywords: value });\n  };\n\n  download = () => {\n    var element = document.createElement(\"a\");\n    element.setAttribute(\n      \"href\",\n      \"data:text/plain;charset=utf-8,\" +\n        encodeURIComponent(JSON.stringify(this.props.configFile, null, 2))\n    );\n    element.setAttribute(\"download\", \"config.json\");\n\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n\n    element.click();\n\n    document.body.removeChild(element);\n  };\n\n  getLink = description => {\n    var link = \"\";\n    Object.keys(description).map(key => {\n      if (key.slice(key.indexOf(\"#\") + 1) === \"wasInfluencedBy\") {\n        link = description[key];\n      }\n      return key;\n    });\n    return link;\n  };\n\n  getComment = description => {\n    var comment = \"\";\n    Object.keys(description).map(key => {\n      if (key.slice(key.indexOf(\"#\") + 1) === \"comment\") {\n        comment = description[key];\n      }\n      return key;\n    });\n    return comment;\n  };\n\n  getTagComment = keyName => {\n    if (!this.props.rulesSelectOptions.tags[keyName]) return \"\";\n    var description = this.props.rulesSelectOptions.tags[keyName].description;\n    if (description) return this.getComment(description);\n  };\n\n  getValueComment = valueName => {\n    if (!this.props.rulesSelectOptions.values[valueName]) return \"\";\n    var description = this.props.rulesSelectOptions.values[valueName];\n    if (description) return this.getComment(description);\n  };\n\n  getTagLink = keyName => {\n    if (!this.props.rulesSelectOptions.tags[keyName]) return \"\";\n\n    var description = this.props.rulesSelectOptions.tags[keyName].description;\n    if (description) return this.getLink(description);\n  };\n\n  getValueLink = valueName => {\n    if (!this.props.rulesSelectOptions.values[valueName]) return \"\";\n    var description = this.props.rulesSelectOptions.values[valueName];\n    if (description) return this.getLink(description);\n  };\n\n  render() {\n    return (\n      <div className=\"Left-panel background_darkblue\">\n        <img\n          src=\"assets/logo.jpg\"\n          alt=\"configuroute logo\"\n          width=\"113px\"\n          height=\"113px\"\n        />\n\n        <div className=\"left_pannel_container\">\n          <div>\n            {this.displayBasicProperties()}\n            <div className=\"basic_properties_options\">\n              <Dropdown\n                icon=\"ellipsis vertical\"\n                pointing\n                className=\"link item color_white\"\n              >\n                <Dropdown.Menu>\n                  <Dropdown.Item\n                    onClick={() => {\n                      this.setState({ showConfigFile: true });\n                    }}\n                  >\n                    Show file\n                  </Dropdown.Item>\n                  <Dropdown.Item onClick={this.download}>\n                    Download file\n                  </Dropdown.Item>\n                </Dropdown.Menu>\n              </Dropdown>\n              <button\n                className=\"edit_properties_button\"\n                onClick={() => {\n                  this.setState({ showBasicPropertiesModal: true });\n                }}\n              >\n                <Icon inverted name=\"pencil\" />\n              </button>\n            </div>\n          </div>\n          {this.state.showModal && (\n            <NewRuleForm\n              showModal={this.state.showModal}\n              ruleTypes={this.props.ruleTypes}\n              selectOptions={this.props.rulesSelectOptions}\n              onSubmit={this.handleSubmit}\n              onClose={this.handleCloseModal}\n              beautifyString={this.beautifyString}\n              getValueLink={this.getValueLink}\n              getValueComment={this.getValueComment}\n              getTagLink={this.getTagLink}\n              getTagComment={this.getTagComment}\n            />\n          )}\n\n          {this.state.showConfigFile && (\n            <ConfigFileModal\n              ruleTypes={this.props.ruleTypes}\n              open={this.state.showConfigFile}\n              configFile={this.props.configFile}\n              onClose={() => {\n                this.setState({ showConfigFile: false });\n              }}\n            />\n          )}\n\n          {this.state.showBasicPropertiesModal && (\n            <BasicPropertiesModal\n              isOpen={this.state.showBasicPropertiesModal}\n              onClose={() => {\n                this.setState({ showBasicPropertiesModal: false });\n              }}\n              label={this.props.configFile[\"rdfs:label\"]}\n              speed={this.props.configFile[\"hasMaxSpeed\"]}\n              transport={this.props.configFile[\"usePublicTransport\"]}\n              onConfirm={newProperties => {\n                this.props.onChangeBasicProperties(newProperties);\n                this.setState({ showBasicPropertiesModal: false });\n              }}\n            />\n          )}\n\n          <div className=\"rules_edit_container\">\n            <div className=\"filter_container\">\n              <Dropdown\n                style={{ width: \"200px\" }}\n                placeholder=\"Filter\"\n                search\n                selection\n                icon=\"filter\"\n                options={this.generateDropdownOptions()}\n                value={this.state.selectedKeywords}\n                onChange={this.handleSelectedKeywordsChange}\n              />\n              <button\n                className=\"filter_clear\"\n                onClick={() => {\n                  this.setState({ selectedKeywords: [] });\n                }}\n              >\n                <Icon name=\"close\" />\n              </button>\n            </div>\n            <button\n              className=\"button color_white background_green\"\n              onClick={() => {\n                this.setState({ showModal: true });\n              }}\n            >\n              <Icon name={\"plus\"} style={{ width: \"20%\" }} />\n              <span className=\"border_right\">Add a rule</span>\n            </button>\n          </div>\n          <div className=\"acordion_container\">\n            {this.displayContent()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Button, Icon, Label } from 'semantic-ui-react';\n\nexport default function MarkerButton(props){\n    return(\n        <Button disabled={props.disabled} as='div'  labelPosition='right'\n                onClick={props.onClick}\n                style={props.style}>\n            <Button className=\"marker_button\" icon>\n                <Icon name='map pin' />\n                {props.children}\n            </Button>\n            <Label as='a' basic pointing='left'>{props.marker.placed\n                && Math.round(props.marker.lngLat.lat * 10000) / 10000 + \", \"\n                + Math.round(props.marker.lngLat.lng * 10000) / 10000}</Label>\n        </Button>\n    );\n}","import React from \"react\";\nimport {\n  Button,\n  Container,\n  Dropdown,\n  Menu,\n  Icon,\n  Input,\n  Label,\n  Segment\n} from \"semantic-ui-react\";\nimport MarkerButton from \"./markerButton\";\n\nclass MapToolbar extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      calculating,\n      from_marker,\n      to_marker,\n      selectable_routes,\n      selected_routes,\n      handleSelectedRouteAddition,\n      handleSelectedRoutesChange,\n      calculateRoute,\n      saveCurrentRoute,\n      createToMarker,\n      createFromMarker,\n      updateActiveRouteText,\n      active_route_label_error\n    } = this.props;\n    return (\n      <Container className=\"mapToolbar\" style={this.props.style}>\n        <Menu attached=\"top\" style={{ margin: 0, border: 'none', borderRadius: 0, height: \"50%\" }}>\n          <Menu.Item>\n            <MarkerButton\n              disabled={calculating}\n              onClick={() => {\n                createFromMarker();\n              }}\n              marker={from_marker}\n              style={{ marginRight: \"10px\"}}\n            >\n              From\n            </MarkerButton>\n            <MarkerButton\n              disabled={calculating}\n              onClick={() => {\n                createToMarker();\n              }}\n              marker={to_marker}\n            >\n              To\n            </MarkerButton>\n          </Menu.Item>\n          <Menu.Item>\n            <button className=\"button background_green color_white\"\n              disabled={\n                !(from_marker.lngLat && to_marker.lngLat) || calculating\n              }\n              loading={calculating}\n              onClick={() => {\n                calculateRoute();\n              }}\n            >\n              <Icon name=\"sync alternate\" inverted style={{ width: \"20%\" }}/>\n              <span className=\"border_right\">Calculate</span>\n            </button>\n          </Menu.Item>\n          <Menu.Item position=\"right\">\n            <Input\n              type=\"text\"\n              placeholder=\"name\"\n              onChange={evt => {\n                updateActiveRouteText(evt);\n              }}\n              value={this.props.active_route_label_input}\n              action\n              disabled={\n                !(from_marker.lngLat && to_marker.lngLat) || calculating\n              }\n            >\n              <input className=\"prompt\" />\n              <Button\n                className=\"semantic_green_override\"\n                type=\"submit\"\n                onClick={() => {\n                  saveCurrentRoute();\n                }}\n                disabled={\n                  !(from_marker.lngLat && to_marker.lngLat) || calculating\n                }\n              >\n                Save route\n              </Button>\n            </Input>\n            {active_route_label_error && (\n              <Label basic color=\"red\" pointing=\"left\">\n                {active_route_label_error}\n              </Label>\n            )}\n          </Menu.Item>\n        </Menu>\n        <Segment attached=\"bottom\" style={{ margin: 0, border: 'none', borderRadius: 0, height: \"50%\" }}>\n          <Dropdown\n            options={selectable_routes}\n            placeholder=\"Choose routes to display\"\n            search\n            selection\n            fluid\n            multiple\n            allowAdditions\n            value={selected_routes}\n            onAddItem={handleSelectedRouteAddition}\n            onChange={handleSelectedRoutesChange}\n            className=\"routeSelectDropdown\"\n          />\n        </Segment>\n      </Container>\n    );\n  }\n}\n\nexport default MapToolbar;\n","import React from \"react\";\nconst unselectable = {\n    WebkitTouchCallout: 'none',\n    WebkitUserSelect: 'none',\n    KhtmlUserSelect: 'none',\n    MozUserSelect: 'none',\n    MsUserSelect: 'none',\n    UserSelect: 'none'\n}\nclass TooltipContent extends React.Component {\n  render() {\n    const { features } = this.props;\n    const renderFeature = (feature, i) => {\n      let id = feature.layer.id;\n      if(id.startsWith(\"from_marker\")){\n        return (\n        <div key={i}>\n          <strong style={unselectable}>From Marker</strong>\n          <hr/>\n        </div>\n        )\n      }else if(id.startsWith(\"to_marker\")){\n        return (\n        <div key={i}>\n          <strong style={unselectable}>To Marker</strong>\n          <hr/>\n        </div>\n        )\n      }\n      else{\n        return (\n          <div key={i}>\n            <strong style={unselectable}>{feature.layer['source-layer']}:</strong>\n          <span style={unselectable}>{feature.layer.id}</span>\n          </div>\n        )\n      }\n    };\n    return (\n      <div>\n        <div>\n          {features.map(renderFeature)}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TooltipContent;","import { Planner } from \"plannerjs\";\nimport React from \"react\";\nimport ReactMapboxGl, { Feature, Layer, Popup } from \"react-mapbox-gl\";\nimport { Loader, Dimmer, Segment } from \"semantic-ui-react\";\nimport MapToolbar from \"./maptoolbar\";\nimport TooltipContent from \"./tooltipContent\";\nimport { isAbsolute } from \"path\";\n\nconst Map = ReactMapboxGl({\n  accessToken:\n    \"pk.eyJ1IjoiZ3VndWwiLCJhIjoiY2p4cDVqZXZvMGN6ejNjcm5zdjF6OWR1dSJ9._vc_H7CbewiDCHWYvD4CdQ\"\n});\n\nconst markerFromGeojson = {\n  type: \"FeatureCollection\",\n  features: [\n    {\n      type: \"Feature\",\n      geometry: {\n        type: \"Point\",\n        coordinates: [0, 0]\n      }\n    }\n  ]\n};\nconst markerToGeojson = {\n  type: \"FeatureCollection\",\n  features: [\n    {\n      type: \"Feature\",\n      geometry: {\n        type: \"Point\",\n        coordinates: [0, 0]\n      }\n    }\n  ]\n};\n\nconst lineLayout = {\n  \"line-cap\": \"round\",\n  \"line-join\": \"round\"\n};\n\nconst linePaint = {\n  \"line-color\": \"#28A987\",\n  \"line-width\": 8\n};\n\nconst savedRouteLinePaint = {\n  \"line-color\": \"#0B3463\",\n  \"line-width\": 5\n};\n\nconst containerStyle = {\n  height: \"100%\",\n  width: \"100%\",\n  cursor: \"\"\n};\n\nclass MapPannel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      center: [4.5118, 50.6282], //should be props?\n      zoom: [6.83],\n      calculating: false,\n      map_features: undefined,\n      show_tooltip: true,\n      cursor_location: [4.5118, 50.6282],\n      from_marker: {\n        placed: false,\n        enabled: true,\n        visible: false,\n        dragging: false,\n        lngLat: undefined\n      },\n      to_marker: {\n        placed: false,\n        enabled: false,\n        dragging: false,\n        visible: false,\n        lngLat: undefined\n      },\n      active_route: {\n        key: undefined,\n        text: undefined,\n        coordinates: []\n      },\n      saved_routes: [],\n      selectable_routes: [],\n      selected_routes: [],\n      container_style: containerStyle,\n      active_route_label_input: \"\",\n      active_route_label_error: undefined\n    };\n\n    this.createFromMarker = this.createFromMarker.bind(this);\n    this.createToMarker = this.createToMarker.bind(this);\n    this.onStyleLoad = this.onStyleLoad.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseClick = this.onMouseClick.bind(this);\n    this.calculateRoute = this.calculateRoute.bind(this);\n    this.handleSelectedRoutesChange = this.handleSelectedRoutesChange.bind(\n      this\n    );\n    this.handleSelectedRouteAddition = this.handleSelectedRouteAddition.bind(\n      this\n    );\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.saveCurrentRoute = this.saveCurrentRoute.bind(this);\n    this.updateActiveRouteText = this.updateActiveRouteText.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n\n    this.planner = new Planner();\n    this.planner.setProfileID(\"PEDESTRIAN\");\n  }\n\n  componentDidUpdate(pervProps) {\n    if (pervProps.configFile !== this.props.configFile) {\n      this.planner.setDevelopmentProfile(this.props.configFile);\n    }\n  }\n\n  calculateRoute() {\n    if (\n      this.state.from_marker.placed &&\n      this.state.to_marker.placed &&\n      !this.state.calculating\n    ) {\n      this.setState({ calculating: true });\n      let query = {\n        roadNetworkOnly: true, // don't mix with publicTransportOnly, for obvious reasons\n        from: {\n          latitude: this.state.from_marker.lngLat.lat,\n          longitude: this.state.from_marker.lngLat.lng\n        },\n        to: {\n          latitude: this.state.to_marker.lngLat.lat,\n          longitude: this.state.to_marker.lngLat.lng\n        }\n      };\n      this.planner\n        .query(query)\n        .take(1)\n        .on(\"error\", error => {\n          console.log(\"planner.js gave an error:\");\n          console.log(error);\n          this.setState({ calculating: false });\n        })\n        .on(\"data\", path => {\n          //console.log(\"got result:\");\n          //console.log(JSON.stringify(path, null, \" \"));\n          let route_coordinates = [];\n          path.steps.forEach(step => {\n            route_coordinates.push([\n              step.startLocation.longitude,\n              step.startLocation.latitude\n            ]);\n            route_coordinates.push([\n              step.stopLocation.longitude,\n              step.stopLocation.latitude\n            ]);\n          });\n          //console.log(coordinates);\n          let date = new Date();\n          this.setState(prevState => ({\n            active_route: {\n              key: prevState.saved_routes.length,\n              text: date.toISOString(),\n              coordinates: route_coordinates\n            }\n          }));\n        })\n        .on(\"end\", () => {\n          console.log(\"end\\n\");\n          this.setState({ calculating: false });\n        });\n    }\n  }\n\n  saveCurrentRoute() {\n    //set the label\n    this.setState(prevState => ({\n      active_route: {\n        key: prevState.active_route.key,\n        text: prevState.active_route_label_input,\n        coordinates: prevState.active_route.coordinates\n      }\n    }));\n    let key = this.state.active_route.key;\n    let text = this.state.active_route_label_input;\n    let routeExists = false;\n    this.state.saved_routes.forEach(route => {\n      if (route.key === key) {\n        this.setState({\n          active_route_label_error: \"route already saved!\"\n        });\n        routeExists = true;\n        return;\n      }\n      console.log(route.text + \" - \" + text);\n      if (route.text.localeCompare(text) === 0) {\n        this.setState({\n          active_route_label_error: \"already used that name!\"\n        });\n        routeExists = true;\n        return;\n      }\n    });\n    if (!routeExists) {\n      this.setState(prevState => ({\n        saved_routes: [prevState.active_route, ...prevState.saved_routes],\n        selectable_routes: [\n          {\n            key: prevState.active_route.key,\n            text: prevState.active_route.text,\n            value: prevState.active_route.key\n          },\n          ...prevState.selectable_routes\n        ],\n        active_route_label_input: \"\"\n      }));\n    }\n\n    console.log(this.state.saved_routes);\n  }\n\n  updateActiveRouteText(evt) {\n    this.setState({\n      active_route_label_input: evt.target.value,\n      active_route_label_error: undefined\n    });\n  }\n\n  onMouseUp(map, evt) {\n    var coords = evt.lngLat;\n    if (this.state.from_marker.dragging) {\n      this.setState(prevState => ({\n        from_marker: {\n          placed: prevState.from_marker.placed,\n          enabled: prevState.from_marker.enabled,\n          visible: prevState.from_marker.visible,\n          dragging: false,\n          lngLat: coords\n        }\n      }));\n      this.calculateRoute();\n    } else if (this.state.to_marker.dragging) {\n      this.setState(prevState => ({\n        to_marker: {\n          placed: prevState.to_marker.placed,\n          enabled: prevState.to_marker.enabled,\n          visible: prevState.to_marker.visible,\n          dragging: false,\n          lngLat: coords\n        }\n      }));\n      this.updateTooltip(map, evt);\n      this.calculateRoute();\n    }\n  }\n  onStyleLoad(map, e) {\n    map.addSource(\"from_marker\", {\n      type: \"geojson\",\n      data: markerFromGeojson\n    });\n    map.addSource(\"to_marker\", {\n      type: \"geojson\",\n      data: markerToGeojson\n    });\n    map.addLayer({\n      id: \"from_marker\",\n      type: \"circle\",\n      source: \"from_marker\",\n      paint: {\n        \"circle-radius\": 10,\n        \"circle-color\": \"#3887be\"\n      }\n    });\n    map.addLayer({\n      id: \"to_marker\",\n      type: \"circle\",\n      source: \"to_marker\",\n      paint: {\n        \"circle-radius\": 10,\n        \"circle-color\": \"#6b7cff\"\n      }\n    });\n\n    let parent = this;\n    // When the cursor enters a feature in the point layer, prepare for dragging.\n    map.on(\"mouseenter\", \"from_marker\", function() {\n      map.setPaintProperty(\"from_marker\", \"circle-color\", \"#3bb2d0\");\n      containerStyle.cursor = \"move\";\n      parent.setState({ container_style: containerStyle });\n    });\n\n    map.on(\"mouseleave\", \"from_marker\", function() {\n      map.setPaintProperty(\"from_marker\", \"circle-color\", \"#3887be\");\n      containerStyle.cursor = \"\";\n      parent.setState({ container_style: containerStyle });\n    });\n\n    map.on(\"mousedown\", \"from_marker\", function(e) {\n      if (parent.state.from_marker.placed) {\n        // Prevent the default map drag behavior.\n        e.preventDefault();\n      }\n\n      parent.setState(prevState => ({\n        from_marker: {\n          placed: prevState.from_marker.placed,\n          enabled: prevState.from_marker.enabled,\n          visible: prevState.from_marker.visible,\n          dragging: true,\n          lngLat: prevState.from_marker.lngLat\n        }\n      }));\n      containerStyle.cursor = \"grab\";\n      parent.setState({ container_style: containerStyle });\n    });\n\n    map.on(\"mouseenter\", \"to_marker\", function() {\n      map.setPaintProperty(\"to_marker\", \"circle-color\", \"#3bb2d0\");\n      containerStyle.cursor = \"move\";\n      parent.setState({ container_style: containerStyle });\n    });\n\n    map.on(\"mouseleave\", \"to_marker\", function() {\n      map.setPaintProperty(\"to_marker\", \"circle-color\", \"#9f7feb\");\n      containerStyle.cursor = \"\";\n      parent.setState({ container_style: containerStyle });\n    });\n    map.on(\"mousedown\", \"to_marker\", function(e) {\n      if (parent.state.to_marker.placed) {\n        // Prevent the default map drag behavior.\n        e.preventDefault();\n      }\n      parent.setState(prevState => ({\n        to_marker: {\n          placed: prevState.to_marker.placed,\n          enabled: prevState.to_marker.enabled,\n          visible: prevState.to_marker.visible,\n          dragging: true,\n          lngLat: prevState.to_marker.lngLat\n        }\n      }));\n      containerStyle.cursor = \"grab\";\n      parent.setState({ container_style: containerStyle });\n    });\n  }\n\n  onMouseClick(map, evt) {\n    var coords = evt.lngLat;\n    if (\n      this.state.from_marker.enabled &&\n      !this.state.from_marker.placed &&\n      !this.state.from_marker.dragging\n    ) {\n      console.log(\"placed from-marker at \" + this.state.from_marker.lngLat);\n      this.setState(prevState => ({\n        from_marker: {\n          placed: true,\n          enabled: true,\n          visible: true,\n          dragging: false,\n          lngLat: coords\n        }\n      }));\n      if (!this.state.to_marker.enabled) {\n        this.setState({\n          to_marker: {\n            placed: false,\n            enabled: true,\n            visible: true,\n            dragging: false,\n            lngLat: coords\n          }\n        });\n      }\n    } else if (\n      this.state.to_marker.enabled &&\n      !this.state.to_marker.placed &&\n      !this.state.to_marker.dragging\n    ) {\n      console.log(\"placed to-marker at \" + this.state.to_marker.lngLat);\n      this.setState(prevState => ({\n        to_marker: {\n          placed: true,\n          enabled: true,\n          visible: true,\n          dragging: false,\n          lngLat: coords\n        }\n      }));\n      this.updateTooltip(map, evt);\n    }\n\n    if (\n      this.state.from_marker.enabled &&\n      this.state.to_marker.enabled &&\n      (JSON.stringify([\n        this.state.from_marker.lngLat.lng,\n        this.state.from_marker.lngLat.lat\n      ]) !== JSON.stringify(this.state.active_route.coordinates[0]) ||\n        JSON.stringify([\n          this.state.to_marker.lngLat.lng,\n          this.state.to_marker.lngLat.lat\n        ]) !==\n          JSON.stringify(\n            this.state.active_route.coordinates[\n              this.state.active_route.coordinates.length - 1\n            ]\n          ))\n    ) {\n      this.calculateRoute();\n    }\n  }\n\n  updateTooltip(map, evt) {\n    if (\n      !(this.state.from_marker.dragging || this.state.to_marker.dragging) &&\n      (this.state.from_marker.placed || !this.state.from_marker.enabled) &&\n      (this.state.to_marker.placed || !this.state.to_marker.enabled)\n    ) {\n      let features = map.queryRenderedFeatures(evt.point);\n      //filter out useless informatio\n      let i = 0;\n      let filtered_features = [];\n      for(i = 0; i<features.length; i++){\n        let id = features[i].layer.id;\n        if((id.startsWith(\"from_marker\")\n          || id.startsWith(\"to_marker\")\n          || id.startsWith(\"road\"))){\n            filtered_features.push(features[i]);\n          }\n      }\n      if(features.length > 0){\n        this.setState({ cursor_location: evt.lngLat, map_features: filtered_features });\n        map.getCanvas().style.cursor = \"pointer\";\n      }\n    } else {\n      map.getCanvas().style.cursor =  \"\";\n      this.setState({ cursor_location: evt.lngLat, map_features: undefined });\n    }\n  }\n\n  onMouseLeave(map, evt) {\n    this.setState({ show_tooltip: false });\n    if (!this.state.from_marker.placed) {\n      map.setLayoutProperty(\"from_marker\", \"visibility\", \"none\");\n    }\n    if (!this.state.to_marker.placed) {\n      map.setLayoutProperty(\"to_marker\", \"visibility\", \"none\");\n    }\n    //console.log(\"mouse left\");\n  }\n\n  onMouseMove(map, evt) {\n    if (!this.state.show_tooltip) {\n      //console.log(\"mouse entered\")\n      this.setState({\n        show_tooltip: true\n      });\n      map.setLayoutProperty(\"to_marker\", \"visibility\", \"visible\");\n      map.setLayoutProperty(\"from_marker\", \"visibility\", \"visible\");\n    }\n    this.updateTooltip(map, evt);\n    if (\n      this.state.from_marker.enabled &&\n      !this.state.from_marker.placed &&\n      !this.state.from_marker.dragging\n    ) {\n      markerFromGeojson.features[0].geometry.coordinates = [\n        evt.lngLat.lng,\n        evt.lngLat.lat\n      ];\n      map.getSource(\"from_marker\").setData(markerFromGeojson);\n    } else if (\n      this.state.to_marker.enabled &&\n      !this.state.to_marker.placed &&\n      !this.state.to_marker.dragging\n    ) {\n      markerToGeojson.features[0].geometry.coordinates = [\n        evt.lngLat.lng,\n        evt.lngLat.lat\n      ];\n      map.getSource(\"to_marker\").setData(markerToGeojson);\n    }\n    if (this.state.from_marker.dragging) {\n      markerFromGeojson.features[0].geometry.coordinates = [\n        evt.lngLat.lng,\n        evt.lngLat.lat\n      ];\n      map.getSource(\"from_marker\").setData(markerFromGeojson);\n    } else if (this.state.to_marker.dragging) {\n      markerToGeojson.features[0].geometry.coordinates = [\n        evt.lngLat.lng,\n        evt.lngLat.lat\n      ];\n      map.getSource(\"to_marker\").setData(markerToGeojson);\n    }\n  }\n\n  createFromMarker() {\n    console.log(this.state.from_marker);\n    this.setState(prevState => ({\n      from_marker: {\n        placed: false,\n        enabled: true,\n        visible: prevState.from_marker.visible,\n        dragging: prevState.from_marker.dragging,\n        lngLat: prevState.from_marker.lngLat\n      },\n      to_marker: {\n        placed: false,\n        enabled: false,\n        visible: false,\n        dragging: false,\n        lngLat: [0, 0]\n      }\n    }));\n  }\n\n  createToMarker() {\n    console.log(this.state.to_marker.lngLat);\n    this.setState(prevState => ({\n      to_marker: {\n        placed: false,\n        enabled: true,\n        visible: prevState.to_marker.visible,\n        dragging: prevState.to_marker.dragging,\n        lngLat: prevState.to_marker.lngLat\n      }\n    }));\n  }\n\n  handleSelectedRouteAddition = (e, { value }) => {\n    console.log(\"hadleAddition value\");\n    console.log(value);\n    this.setState(prevState => ({\n      selectable_routes: [\n        ...prevState.selectable_routes,\n        { key: value, text: value, value }\n      ]\n    }));\n  };\n\n  handleSelectedRoutesChange = (e, { value }) => {\n    console.log(\"hadleChange value\");\n    console.log(value);\n    console.log(this.state.saved_routes);\n    this.setState({ selected_routes: value });\n  };\n\n  render() {\n    const { center, zoom, from_marker, to_marker } = this.state;\n    const routesToDraw = this.state.selected_routes.map(k => {\n      let size = this.state.saved_routes.length;\n      let i = 0;\n      while (this.state.saved_routes[i].key != k && i < size) {\n        i++;\n      }\n      return (\n        <Layer\n          key={this.state.saved_routes[i].key}\n          style={{ name: \"COOOOL NAME\" }}\n          type=\"line\"\n          layout={lineLayout}\n          paint={savedRouteLinePaint}\n        >\n          <Feature coordinates={this.state.saved_routes[i].coordinates} />\n        </Layer>\n      );\n    });\n    return (\n      <div style={{ height: \"100%\", width: \"100%\" }}>\n        <MapToolbar\n          style={{ height: \"117px\", width: \"100%\" }}\n          calculating={this.state.calculating}\n          from_marker={this.state.from_marker}\n          to_marker={this.state.to_marker}\n          createFromMarker={this.createFromMarker}\n          createToMarker={this.createToMarker}\n          selectable_routes={this.state.selectable_routes}\n          selected_routes={this.state.selected_routes}\n          handleSelectedRouteAddition={this.handleSelectedRouteAddition}\n          handleSelectedRoutesChange={this.handleSelectedRoutesChange}\n          calculateRoute={this.calculateRoute}\n          saveCurrentRoute={this.saveCurrentRoute}\n          active_route_label_input={this.state.active_route_label_input}\n          updateActiveRouteText={this.updateActiveRouteText}\n          active_route_label_error={this.state.active_route_label_error}\n        />\n        <Segment\n          style={{\n            position: \"absolute\",\n            top: \"117px\",\n            bottom: 0,\n            width: \"67vw\",\n            borderRadius: 0,\n            padding: 0,\n            margin: 0,\n            border: \"none\",\n            overflowY: \"Hidden\"\n          }}\n        >\n          <Dimmer active={this.state.calculating} inverted>\n            <Loader>Calculating Route</Loader>\n          </Dimmer>\n          <Map\n            style=\"mapbox://styles/gugul/cjy77yl1713rg1cn0wiwq2ong/draft\"\n            containerStyle={this.state.container_style}\n            center={center}\n            zoom={zoom}\n            onStyleLoad={this.onStyleLoad}\n            onMouseMove={this.onMouseMove}\n            onMouseUp={this.onMouseUp}\n            onClick={this.onMouseClick}\n            onMouseOut={this.onMouseLeave}\n          >\n            <Layer type=\"line\" layout={lineLayout} paint={linePaint}>\n              <Feature coordinates={this.state.active_route.coordinates} />\n            </Layer>\n            {routesToDraw}\n            {this.state.show_tooltip &&\n              this.state.map_features &&\n              this.state.map_features.length && (\n                <Popup\n                  coordinates={this.state.cursor_location}\n                  offset={{\n                    \"bottom-left\": [12, -10],\n                    bottom: [0, -10],\n                    \"bottom-right\": [-12, -10]\n                  }}\n                >\n                  <TooltipContent features={this.state.map_features} />\n                </Popup>\n              )}\n          </Map>\n        </Segment>\n      </div>\n    );\n  }\n}\n\nexport default MapPannel;\n","import React from \"react\";\nimport MapPannel from \"./map/map\";\n\nfunction RightPanel(props) {\n  return (\n  <div className=\"Right-panel\">\n    <MapPannel configFile={props.configFile} style={{height: '100%', width: '100%' }}/>\n  </div>\n  );\n}\n\nexport default RightPanel;\n","const SPARQL = require('@comunica/actor-init-sparql');\n\n\nexport default class OntologyReader {\n    constructor(source) {\n        this._source = [{ type: 'file', value: source }];\n        this._engine = SPARQL.newEngine();\n    }\n\n    getEntityDescription(subject) {\n        return new Promise((resolve, reject) => {\n            const sources = this._source;\n\n            const query = `\n                  SELECT ?p ?o WHERE {\n                    <${subject}> ?p ?o.\n                  }`;\n\n            let results = {};\n            this._engine.query(query, { sources }).then(result => {\n                result.bindingsStream.on('data', data => {\n                    results[data.get('?p').value] = data.get('?o').value;\n                }).on('end', () => {\n                    resolve(results);\n                });\n            });\n        });\n    }\n\n    getNamedIndividualsForProperty(property) {\n        return new Promise((resolve, reject) => {\n            const sources = this._source;\n\n            const query = `\n                  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n                  \n                  SELECT ?ni WHERE {\n                    <${property}> rdfs:range ?range.\n                    ?ni a ?range.\n                  }`;\n\n            let results = [];\n            this._engine.query(query, { sources }).then(result => {\n                result.bindingsStream.on('data', data => {\n                    results.push(data.get('?ni').value);\n                }).on('end', () => {\n                    resolve(results);\n                });\n            });\n        });\n    }\n}","import React from \"react\";\nimport LandingPage from \"./landingPage/LandingPage.jsx\";\nimport LeftPanel from \"./mainPage/LeftPanel.jsx\";\nimport RightPanel from \"./mainPage/RightPanel.jsx\";\nimport OntologyReader from \"./lib/OntologyReader\";\nimport \"./App.css\";\nimport logo from \"./assets/logo.jpg\";\n\nconst properties = [\n  \"access\",\n  \"barrier\",\n  \"bicycle\",\n  \"construction\",\n  \"crossing\",\n  \"cycleway\",\n  \"footway\",\n  \"highway\",\n  \"motor_vehicle\",\n  \"motorcar\",\n  \"oneway_bicycle\",\n  \"oneway\",\n  \"smoothness\",\n  \"surface\",\n  \"tracktype\",\n  \"vehicle\"\n];\n\nconst ruleTypes = {\n  hasAccessRules: {\n    conclusion: \"hasAccess\",\n    type: \"boolean\",\n    defaultValue: false,\n    description: \"Determines whether or not a way is accessible.\"\n  },\n  hasObstacleRules: {\n    conclusion: \"isObstacle\",\n    type: \"boolean\",\n    defaultValue: true,\n    description: \"Determines whether or not a node can be traversed.\"\n  },\n  hasOnewayRules: {\n    conclusion: \"isOneway\",\n    type: \"boolean\",\n    defaultValue: true,\n    description: \"Determines whether or not something is a oneway street.\"\n  },\n  hasPriorityRules: {\n    conclusion: \"hasPriority\",\n    type: \"number\",\n    defaultValue: 1,\n    description:\n      \"Determines an additional multiplier that will be used to demote/promote certain road.\"\n  },\n  hasSpeedRules: {\n    conclusion: \"hasSpeed\",\n    type: \"number\",\n    defaultValue: 10,\n    description: \"Determines the maximum speed on a street.\"\n  }\n};\n\nfunction Header() {\n  return (\n    <header className=\"App-header\">\n      <img src={logo} className=\"App-logo\" alt=\"logo\" />\n      <span className=\"App-header\"> Configuroute </span>\n    </header>\n  );\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      configFile: {},\n      showLandingPage: true,\n      leftLoaded: false,\n      ontology: {}\n    };\n  }\n\n  async queryOntologyForInformation(configFile) {\n    var engine = new OntologyReader(\"http://hdelva.be/tiles/ns/ontology\");\n    const sourceURL = \"https://w3id.org/openstreetmap/terms#\";\n    var ontology = {\n      tags: {},\n      values: {}\n    };\n\n    properties.map(property => {\n      ontology.tags[property] = {\n        values: [],\n        description: {}\n      };\n      return ontology;\n    });\n\n    for (var tag of Object.keys(ontology.tags)) {\n      ontology.tags[tag].values = (await engine.getNamedIndividualsForProperty(\n        sourceURL + tag\n      )).map(value => {\n        return value.slice(sourceURL.length);\n      });\n      ontology.tags[tag].description = await engine.getEntityDescription(\n        sourceURL + tag\n      );\n\n      for (var value of ontology.tags[tag].values) {\n        ontology.values[value] = await engine.getEntityDescription(\n          sourceURL + value\n        );\n      }\n    }\n\n    this.setState({\n      showLandingPage: false,\n      ontology: ontology,\n      configFile: configFile,\n      leftLoaded: true\n    });\n  }\n\n  handleFileConfirm = configFile => {\n    this.queryOntologyForInformation(configFile);\n  };\n\n  handleNewRuleSubmit = formValues => {\n    formValues.value = \"osm:\" + formValues.value;\n    formValues.key = \"osm:\" + formValues.key;\n    var configFile = { ...this.state.configFile };\n    var isANewRule = true;\n    var conclusionLabel = ruleTypes[formValues.ruleType].conclusion;\n\n    this.state.configFile[formValues.ruleType].map(rule => {\n      if (\n        rule[\"match\"] &&\n        rule[\"match\"][\"hasPredicate\"] === formValues.key &&\n        rule[\"match\"][\"hasObject\"] === formValues.value\n      ) {\n        var index = configFile[formValues.ruleType].indexOf(rule);\n        configFile[formValues.ruleType][index].concludes[conclusionLabel] =\n          formValues.conclusion;\n        isANewRule = false;\n        return false;\n      }\n      return true;\n    });\n\n    if (isANewRule) {\n      if (ruleTypes[formValues.ruleType].type === \"number\") {\n        formValues.conclusion = parseInt(formValues.conclusion);\n      }\n\n      let newRule = {\n        match: {\n          hasPredicate: formValues.key,\n          hasObject: formValues.value\n        },\n        concludes: {\n          [conclusionLabel]: formValues.conclusion\n        },\n        hasOrder: formValues.order\n      };\n\n      configFile[formValues.ruleType].unshift(newRule);\n    }\n    this.setState({ configFile: configFile, showModal: false });\n  };\n\n  handleRuleConclusionChange = (type, index, value) => {\n    if (ruleTypes[type].type === \"number\") value = parseInt(value);\n    var configFile = { ...this.state.configFile };\n    configFile[type][index][\"concludes\"][\n      [ruleTypes[type][\"conclusion\"]]\n    ] = value;\n    this.setState({ configFile: configFile });\n  };\n\n  handleRuleDelete = (type, index) => {\n    var configFile = { ...this.state.configFile };\n    if (index !== configFile[type].length - 1) {\n      configFile[type].splice(index, 1);\n      this.setState({ configFile: configFile });\n    }\n  };\n\n  handleChangeBasicProperties = newProperties => {\n    var label = this.state.configFile[\"rdfs:label\"];\n    var speed = this.state.configFile[\"hasMaxSpeed\"];\n    var transport = this.state.configFile[\"usePublicTransport\"];\n\n    label = newProperties.label ? newProperties.label : label;\n    speed = newProperties.speed ? newProperties.speed : speed;\n    transport = newProperties.transport ? newProperties.transport : transport;\n\n    var configFile = { ...this.state.configFile };\n    configFile[\"rdfs:label\"] = label;\n    configFile[\"hasMaxSpeed\"] = parseInt(speed);\n    configFile[\"usePublicTransport\"] = transport;\n    this.setState({ configFile: configFile });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <LandingPage\n          ruleTypes={ruleTypes}\n          onConfirm={this.handleFileConfirm}\n          showModal={this.state.showLandingPage}\n        />\n        <div className=\"App-content\">\n          <LeftPanel\n            ruleTypes={ruleTypes}\n            rulesSelectOptions={this.state.ontology}\n            loaded={this.state.leftLoaded}\n            configFile={this.state.configFile}\n            onNewRuleSubmit={this.handleNewRuleSubmit}\n            onRuleConclusionChange={this.handleRuleConclusionChange}\n            onRuleDelete={this.handleRuleDelete}\n            onChangeBasicProperties={this.handleChangeBasicProperties}\n            className=\"Left-panel\"\n          />\n          <RightPanel configFile={this.state.configFile} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.47bb72e5.jpg\";"],"sourceRoot":""}