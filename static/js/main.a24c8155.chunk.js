(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1069:function(e,t,a){},1070:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(69),l=a.n(o),i=(a(475),a(9)),s=a.n(i),c=a(433),u=a(85),d=a(51),p=a(25),h=a(26),m=a(31),g=a(29),f=a(30),v=a(17),y=a(264),b=a.n(y),k=(a(278),a(1090)),E=a(1089),_=a(459),C=a(1072),O=a(102);var w=function(e){return r.a.createElement(C.a,{icon:!0,labelPosition:"left",className:"landing_page_button",onClick:e.onClick},r.a.createElement(O.a,{name:"left arrow",style:{width:"20%"},size:"large"}),"Create new file")};var S=function(e){return r.a.createElement(C.a,{icon:!0,labelPosition:"right",onClick:e.onClick},r.a.createElement(O.a,{name:"download",style:{width:"20%"},size:"large"}),r.a.createElement("input",{type:"file",className:"import_file_button",multiple:"",style:{display:"none"},accept:".json"})," ","Import file")},j=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).parseConfigurationFile=function(){},a.state={screen:"welcoming",errorMessage:"",configFile:"",file:""},a.triggerImportFile=a.triggerImportFile.bind(Object(v.a)(a)),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"triggerImportFile",value:function(e){var t=document.getElementsByClassName("import_file_button")[0],a=this.props.ruleTypes;t.click(),t.addEventListener("change",function(n){var r=t.files[0];if(r.type.match(/json.*/)){var o=new FileReader;o.onload=function(t){var n,l=!0;try{null==(n=JSON.parse(o.result))["@context"]&&(l=!1),Object.keys(a).map(function(e){return null!=n[e]&&Array.isArray(n[e])||(l=!1),!0})}catch(i){l=!1}l?e.props.onChangeContent("UPLOAD",{valid:!0,file:r,configFile:JSON.parse(o.result)}):e.props.onChangeContent("UPLOAD",{valid:!1,file:null,configFile:null})},o.readAsText(r)}else e.props.onChangeContent("UPLOAD",{valid:!1,file:null,configFile:null})})}},{key:"render",value:function(){var e=this;return r.a.createElement(k.a,{centered:!0},r.a.createElement(k.a.Row,{columns:1,stretched:!0,style:{height:"80%",padding:"0"}},r.a.createElement(k.a.Column,{className:"contentColumn"},r.a.createElement("div",null,r.a.createElement(E.a,{as:"h2",icon:!0,textAlign:"center"},r.a.createElement(_.a,{centered:!0,rounded:!0,src:"assets/logo.jpg",className:"centerLogo"}),r.a.createElement(E.a.Content,null,"Your go-to for creating robust route configurations")),r.a.createElement(E.a,{as:"h3",dividing:!0,textAlign:"center"},"Purpose"),r.a.createElement("p",null,"Ever traveled with unconventional means of transport such as a scooter ? You want to reach specific locations but your route planner takes you through uncomfortable routes? We believe your journey should always be adapted to your very specific mobility needs. For this reason, we created *ConfiguRoute* : a tool to quickly and easily create finely tuned configuration files for your transport profiles.")),r.a.createElement("p",null,"Transport profiles are defined using linked open data and OpenStreetMap terminologies. Complete information at:"," ",r.a.createElement("a",{href:"http://hdelva.be/profile/ns/profile.html",target:"_blank"},"Profile definition")))),r.a.createElement(k.a.Row,{columns:2,stretched:!0,style:{height:"20%",padding:"0"}},r.a.createElement(C.a.Group,{style:{width:"100%"}},r.a.createElement(w,{onClick:function(){e.props.onChangeContent("NEW")}}),r.a.createElement(C.a.Or,null),r.a.createElement(S,{onClick:function(){e.triggerImportFile(e)}}))))}}]),t}(r.a.Component),L=a(1091),R=a(148),x=a(1092),M=a(1079);var T=function(e){return r.a.createElement(C.a,{icon:!0,labelPosition:"left",className:"landing_page_button",onClick:e.onClick,style:{padding:0,margin:0,borderRadius:"0 0 0 12px"}},r.a.createElement(O.a,{name:"left arrow",style:{width:"20%"},size:"large"}),"Go back")};var F=function(e){return r.a.createElement(C.a,{icon:!0,labelPosition:"right",className:"landing_page_button",onClick:e.onClick,disabled:e.disabled,style:{padding:0,margin:0,"border-radius":"0px 0px 12px 0px"}},r.a.createElement(O.a,{name:"check",style:{width:"20%"},size:"large"}),e.label?e.label:"Confirm selection")},P=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).validFileScreen=a.validFileScreen.bind(Object(v.a)(a)),a.errorScreen=a.errorScreen.bind(Object(v.a)(a)),a.state={dimmerActive:!1},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"computeNumberOfRules",value:function(){var e=this,t=0;return void 0===this.props.data.configFile?t:(Object.keys(this.props.ruleTypes).map(function(a){return t+=e.props.data.configFile[a].length}),t)}},{key:"validFileScreen",value:function(){return r.a.createElement("div",null,r.a.createElement(E.a,null," ",this.props.data.file.name," "),r.a.createElement(L.a,null,r.a.createElement(R.a,null," Size: ")," ",this.props.data.file.size+" bytes"),r.a.createElement(L.a,null," ",r.a.createElement(R.a,null," Label: ")," ",this.props.data.configFile["rdfs:label"]," "),r.a.createElement(L.a,null," ",r.a.createElement(R.a,null," Number of rules: ")," ",this.computeNumberOfRules()))}},{key:"errorScreen",value:function(){return r.a.createElement(E.a,null," ",r.a.createElement(E.a.Content,null," Format unsupported "))}},{key:"content",value:function(){return this.props.data.valid?r.a.createElement(this.validFileScreen,null):r.a.createElement(this.errorScreen,null)}},{key:"render",value:function(){var e=this;return r.a.createElement(k.a,{centered:!0},r.a.createElement(x.a,{active:this.state.dimmerActive},r.a.createElement(M.a,{size:"huge"},"Loading")),r.a.createElement(k.a.Row,{columns:1,stretched:!0,style:{height:"80%",padding:"0"}},r.a.createElement(k.a.Column,{className:"contentColumn"},this.content())),r.a.createElement(k.a.Row,{columns:2,stretched:!0,style:{height:"20%",padding:"0"}},r.a.createElement(C.a.Group,{style:{width:"100%"}},r.a.createElement(T,{onClick:this.props.onBack}),r.a.createElement(C.a.Or,null),r.a.createElement(F,{onClick:function(){e.setState({dimmerActive:!0}),e.props.onConfirm(e.props.data.configFile)},disabled:!this.props.data.valid}))))}}]),t}(r.a.Component),N=a(1083),A={"@context":{osm:"https://w3id.org/openstreetmap/terms#",opp:"https://w3id.org/openplannerteam/profile#",prov:"http://www.w3.org/ns/prov#",hasMaxSpeed:{"@id":"opp:hasMaxSpeed"},usePublicTransport:{"@id":"opp:usePublicTransport"},hasAccessRules:{"@id":"opp:hasAccessRules"},hasOnewayRules:{"@id":"opp:hasOnewayRules"},hasSpeedRules:{"@id":"opp:hasSpeedRules"},hasPriorityRules:{"@id":"opp:hasPriorityRules"},hasObstacleRules:{"@id":"opp:hasObstacleRules"},hasAccess:{"@id":"opp:hasAccess"},isOneway:{"@id":"opp:isOneway"},isReversed:{"@id":"opp:isReversed"},hasSpeed:{"@id":"opp:hasSpeed"},isObstacle:{"@id":"opp:isObstacle"},hasPriority:{"@id":"opp:hasPriority"},concludes:{"@id":"opp:concludes"},hasOrder:{"@id":"opp:hasOrder"},match:{"@id":"opp:match"},fromProperty:{"@id":"opp:fromProperty","@type":"@id"},hasPredicate:{"@id":"opp:hasPredicate","@type":"@id"},hasObject:{"@id":"opp:hasObject","@type":"@id"}}},D=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).onNewConfigFileCreation=function(e){var t=a.props.ruleTypes,n=A;return n["rdfs:label"]=e.description,n.hasMaxSpeed=Number(e.maxSpeed),n.usePublicTransport=e.usePublicTransport,Object.keys(a.props.ruleTypes).map(function(e){n[e]=[];var a={concludes:{}};return a.concludes[t[e].conclusion]=t[e].defaultValue,n[e].push(a),e}),n},a.handleChange=function(e,t){var n=t.name,r=t.value;return a.setState(Object(u.a)({},n,r))},a.state={description:"",maxSpeed:"",usePublicTransport:!1,showErrorMessage:!1,dimmerActive:!1},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"form",value:function(){var e=this,t=this.state,a=t.description,n=t.maxSpeed,o=t.usePublicTransport;return r.a.createElement(N.a,null,r.a.createElement(N.a.Input,{label:"Description",placeholder:"Vehicle profile for...",name:"description",value:a,onChange:this.handleChange,required:!0}),r.a.createElement(N.a.Input,{type:"number",label:"Maximum speed",placeholder:"Speed in km/h",name:"maxSpeed",value:n,onChange:this.handleChange,required:!0}),r.a.createElement(N.a.Checkbox,{label:"Use public transport",onChange:function(){e.setState({usePublicTransport:!o})},checked:o}),this.state.showErrorMessage&&r.a.createElement(L.a,null," All field values must be completed"))}},{key:"getText",value:function(e){var t=new XMLHttpRequest;t.open("GET","http://hdelva.be/profile/car",!0),t.send(null),t.onreadystatechange=function(){4===t.readyState&&200===t.status&&(1!==t.getResponseHeader("Content-Type").indexOf("text")?e.props.onConfirm(JSON.parse(t.responseText)):alert("Error happened: link to file modified or removed!"))},this.setState({dimmerActive:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement(k.a,null,r.a.createElement(x.a,{active:this.state.dimmerActive},r.a.createElement(M.a,{size:"huge"},"Loading")),r.a.createElement(k.a.Row,{columns:1,style:{height:"auto",padding:"0"}},r.a.createElement(k.a.Column,{className:"contentColumn"},r.a.createElement(R.a,null,"Start from a default profile"),r.a.createElement(L.a,null,r.a.createElement(C.a.Group,null,r.a.createElement(C.a,{onClick:function(){e.getText(e)},icon:!0},r.a.createElement(O.a,{name:"car"})))))),r.a.createElement(k.a.Row,{columns:1,stretched:!0,style:{height:"auto",padding:"0"}},r.a.createElement(k.a.Column,{className:"contentColumn"}," ",r.a.createElement(R.a,null," Start from scratch "),this.form()," ")),r.a.createElement(k.a.Row,{columns:2,stretched:!0,style:{height:"auto",padding:"0"}},r.a.createElement(C.a.Group,{style:{width:"100%"}},r.a.createElement(T,{onClick:this.props.onBack}),r.a.createElement(C.a.Or,null),r.a.createElement(F,{disabled:!1,onClick:function(){var t=!1;Object.keys(e.state).map(function(a){return""!==e.state[a]&&null!==e.state[a]||(t=!0),a}),t?e.setState({showErrorMessage:!0}):(e.setState({dimmerActive:!0}),e.props.onConfirm(e.onNewConfigFileCreation(e.state)))}}))))}}]),t}(r.a.Component),I={content:{width:"80%",height:"80%",padding:"0",borderRadius:"12px",outline:"none",border:"none",top:"50%",left:"50%",position:"absolute",marginRight:"-50%",transform:"translate(-50%, -50%)"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.7)"}};b.a.setAppElement("#root");var U=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).content=function(){switch(a.state.content){case"INDEX":return r.a.createElement(j,{ruleTypes:a.props.ruleTypes,onChangeContent:a.handleChangeContent});case"UPLOAD":return r.a.createElement(P,{ruleTypes:a.props.ruleTypes,onConfirm:a.handleConfirm,onBack:function(){a.handleChangeContent("INDEX")},data:a.state.fileData,onChangeContent:a.handleChangeContent});case"NEW":return r.a.createElement(D,{ruleTypes:a.props.ruleTypes,onConfirm:a.handleConfirm,onBack:function(){a.handleChangeContent("INDEX")},onChangeContent:a.handleChangeContent});default:return null}},a.state={content:"INDEX",fileData:{}},a.handleChangeContent=a.handleChangeContent.bind(Object(v.a)(a)),a.handleConfirm=a.handleConfirm.bind(Object(v.a)(a)),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"handleChangeContent",value:function(e,t){this.setState({content:e,fileData:t})}},{key:"handleConfirm",value:function(e){this.props.onConfirm(e)}},{key:"render",value:function(){return r.a.createElement(b.a,{isOpen:this.props.showModal,contentLabel:"Landing Page",style:I},r.a.createElement(this.content,null))}}]),t}(r.a.Component),W=a(101),q=a(1085),G=a(1084);function J(e){return r.a.createElement(q.a,null,r.a.createElement(q.a.Content,null,r.a.createElement(q.a.Header,{as:"a",href:e.href,target:"_blank"},e.header),r.a.createElement(q.a.Meta,null,"Description"),r.a.createElement(q.a.Description,null,e.description)))}var z=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e,t){var n=t.name,r=t.value;a.setState(Object(u.a)({},n,r))},a.handleChangeChecked=function(e){return a.setState({conclusion:!a.state.conclusion})},a.getComment=function(e){var t="";return Object.keys(e).map(function(a){"comment"===a.slice(a.indexOf("#")+1)&&(t=e[a])}),t},a.getTagDescription=function(){var e=a.props.selectOptions.tags[a.state.key].description;return a.getComment(e)},a.getValueDescription=function(){var e=a.props.selectOptions.values[a.state.value];return a.getComment(e)},a.getLink=function(e){var t="";return Object.keys(e).map(function(a){"wasInfluencedBy"===a.slice(a.indexOf("#")+1)&&(t=e[a])}),t},a.getTagLink=function(){var e=a.props.selectOptions.tags[a.state.key].description;return a.getLink(e)},a.getValueLink=function(){var e=a.props.selectOptions.values[a.state.value];return a.getLink(e)},a.content=function(){return r.a.createElement(k.a,{centered:!0,style:{height:"100%",margin:0}},r.a.createElement(k.a.Row,{columns:1,stretched:!0,style:{height:"50%",padding:"12px"}},r.a.createElement(k.a.Column,{className:"contentColumn"},a.form()," ")),r.a.createElement(k.a.Row,{columns:2,stretched:!0,style:{height:"50px",padding:"0"}},r.a.createElement(C.a.Group,{style:{width:"100%"}},r.a.createElement(T,{onClick:a.props.onClose}),r.a.createElement(C.a.Or,null),r.a.createElement(F,{onClick:function(){var e=!1;Object.keys(a.state).map(function(t){return""!==a.state[t]&&null!==a.state[t]||(e=!0),t}),e?a.setState({showErrorMessage:!0}):a.props.onSubmit(a.state)}}))))},a.state={showModal:!0,ruleType:"",key:"",value:"",conclusion:"",order:1,prefix:"https://w3id.org/openstreetmap/terms#",rulesLink:"http://hdelva.be/profile/ns/profile.html#"},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"insertCharacterInString",value:function(e,t,a){if(e.length>t)return e.slice(0,t)+a+e.slice(t)}},{key:"beautifyString",value:function(e){for(var t=this,a=[],n=e.slice(0),r=1;r<n.length;r++){var o=a.length+r;r&&n[r]===n[r].toUpperCase()&&a.push(o)}return a.map(function(e){n=t.insertCharacterInString(n,e," ")}),n}},{key:"form",value:function(){var e,t=this,a=Object.keys(this.props.ruleTypes).map(function(e){return{key:e,value:e,text:t.beautifyString(e.slice(3))}}),n=this.props.selectOptions.tags,o=Object.keys(n).map(function(e){return{key:e,value:e,text:e}}),l=this.state.key?n[this.state.key].values.map(function(e){return{key:e,value:e,text:e}}):[];if(this.state.ruleType&&"number"===this.props.ruleTypes[this.state.ruleType].type)e=r.a.createElement(N.a.Input,{type:"number",name:"conclusion",placeholder:this.props.ruleTypes[this.state.ruleType].conclusion,label:"conclusion",onChange:this.handleChange,value:this.state.conclusion,required:!0});else if(this.state.ruleType){var i=this.props.ruleTypes[this.state.ruleType].conclusion;e=r.a.createElement(N.a.Checkbox,{name:"conclusion",placeholder:i,label:i,onChange:this.handleChangeChecked,checked:this.state.conclusion,defaultChecked:!1,slider:!0})}else e=null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,null,r.a.createElement(N.a.Select,{name:"ruleType",placeholder:"Type of rule",label:"Rule",options:a,onChange:this.handleChange,value:this.state.ruleType}),r.a.createElement(N.a.Group,null,r.a.createElement(N.a.Select,{name:"key",placeholder:"Condition key",label:"key",options:o,onChange:this.handleChange,value:this.state.key}),r.a.createElement(N.a.Select,{name:"value",placeholder:"Condition value",label:"value",options:l,onChange:this.handleChange,value:this.state.value})),r.a.createElement(N.a.Group,null),e,r.a.createElement(N.a.Input,{name:"order",placeholder:"Order of priority",label:"Order of priority",onChange:this.handleChange,value:this.state.order}),this.state.showErrorMessage&&r.a.createElement(L.a,null," ",r.a.createElement(R.a,null," All field values must be completed "))),r.a.createElement(q.a.Group,{divided:!0},this.state.ruleType&&r.a.createElement(J,{href:this.state.rulesLink+this.state.ruleType,header:this.state.ruleType.slice(3),description:this.props.ruleTypes[this.state.ruleType].description}),this.state.key&&r.a.createElement(J,{href:this.getTagLink(),header:this.state.key,description:this.getTagDescription()}),this.state.value&&r.a.createElement(J,{href:this.getValueLink(),header:this.state.value.toLowerCase(),description:this.getValueDescription()})))}},{key:"render",value:function(){return r.a.createElement(G.a,{open:this.props.showModal,style:{"border-radius":"12px"}},r.a.createElement(this.content,null))}}]),t}(r.a.Component),V=a(1087),B=a(1081),K=a(1080),H=a(1088),X=a(1086),Y=a(458),Z=a(453),Q=a.n(Z);function $(e){return r.a.createElement(G.a,{open:e.open,style:{width:"60vw",height:"70vh"}},r.a.createElement(Y.a,{id:"configFile_editor",placeholder:e.configFile,locale:Q.a,height:"100%",width:"60vw",viewOnly:!0}),r.a.createElement(C.a.Group,{style:{width:"60vw",height:"8%"}},r.a.createElement(T,{onClick:e.onClose})))}var ee=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e,t){var n=t.value,r=t.checked;void 0===n?a.props.onChange(a.props.type,a.props.index,r):a.props.onChange(a.props.type,a.props.index,n)},a.handleCloseModal=function(){a.setState({showModal:!1})},a.handleOpenModal=function(){a.setState({showModal:!0})},a.state={showModal:!1},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"content",value:function(){var e,t=Object.keys(this.props.rule.concludes)[0];switch(typeof this.props.rule.concludes[t]){case"string":e=r.a.createElement(B.a,{value:this.props.rule.concludes[t],onChange:this.handleChange});break;case"number":e=r.a.createElement(B.a,{type:"number",value:this.props.rule.concludes[t],onChange:this.handleChange});break;case"boolean":e=r.a.createElement(K.a,{toggle:!0,checked:this.props.rule.concludes[t],onChange:this.handleChange});break;default:e=null}return 0,r.a.createElement(L.a,null," ",t," ",e," ")}},{key:"render",value:function(){var e,t=this;return e=this.props.rule.match?(e=this.props.rule.match.hasPredicate+" - "+this.props.rule.match.hasObject).replace(/osm:/g,""):"Default rule",this.props.display?r.a.createElement(q.a,null,r.a.createElement(q.a.Content,null," ",r.a.createElement(q.a.Header,null," ",e," "),r.a.createElement(q.a.Description,null),r.a.createElement(q.a.Meta,null," ",this.content(),r.a.createElement(C.a.Group,{style:{width:"100%"}},r.a.createElement(C.a,{onClick:function(){t.props.onDelete(t.props.type,t.props.index)},icon:!0,disabled:"Default rule"===e},r.a.createElement(O.a,{name:"trash alternate outline"})),r.a.createElement(C.a.Or,null),r.a.createElement(C.a,{onClick:function(){t.handleOpenModal()},icon:!0},r.a.createElement(O.a,{name:"code"})))," "),this.state.showModal&&r.a.createElement($,{open:this.state.showModal,onClose:function(){t.setState({showModal:!1})},configFile:this.props.rule}))):null}}]),t}(r.a.Component),te=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).handleCloseModal=function(){a.setState({showModal:!1})},a.handleClick=function(e,t){var n=t.index,r=a.state.activeIndex===n?-1:n;a.setState({activeIndex:r})},a.handleSubmit=function(e){var t=Object.keys(a.props.ruleTypes).indexOf(e.ruleType);t!=a.state.activeIndex&&a.setState({activeIndex:t}),a.handleCloseModal(),a.props.onNewRuleSubmit(e)},a.displayBasicProperties=function(){return r.a.createElement(r.a.Fragment,{key:0},r.a.createElement(V.a.Title,{active:0===a.state.activeIndex,index:0,onClick:a.handleClick},r.a.createElement(O.a,{name:"dropdown"}),"Basic properties"),r.a.createElement(V.a.Content,{active:0===a.state.activeIndex},Object.keys(a.props.configFile).map(function(e){var t,n=a.props.configFile[e];if(!Array.isArray(n)&&"object"!==typeof n){switch(typeof n){case"string":t=r.a.createElement(B.a,{value:a.props.configFile[e],className:"label"});break;case"number":t=r.a.createElement(B.a,{type:"number",value:a.props.configFile[e],className:"speed"});break;case"boolean":t=r.a.createElement(K.a,{toggle:!0,checked:a.props.configFile[e],className:"transport"});break;default:t=null}return r.a.createElement(L.a,null," ",e," ",t)}})))},a.generateDropdownOptions=function(){if(!a.props.loaded)return[];var e=a.props.rulesSelectOptions.tags,t=Object.keys(e).map(function(e){return{key:e,value:e,text:e,label:{color:"red",empty:!0,circular:!0}}}),n=a.props.rulesSelectOptions.values,r=Object.keys(n).map(function(e){return{key:e,value:e,text:e,label:{color:"green",empty:!0,circular:!0}}});return[].concat(Object(W.a)(t),Object(W.a)(r))},a.handleSelectedKeywordsChange=function(e,t){var n=t.value;a.setState({selectedKeywords:n})},a.download=function(){var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(a.props.configFile,null,2))),e.setAttribute("download","config.json"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},a.state={showModal:!1,showConfigFile:!1,activeIndex:0,selectedKeywords:[]},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"rulesMatchesKeyword",value:function(e){var t=this;if(this.state.selectedKeywords.length>0){if(e.match){var a=[e.match.hasPredicate.slice(4)];return e.match.hasObject&&a.push(e.match.hasObject.slice(4)),a.map(function(e){return!!t.state.selectedKeywords.includes(e)}).includes(!0)}return!1}return!0}},{key:"insertCharacterInString",value:function(e,t,a){if(e.length>t)return e.slice(0,t)+a+e.slice(t)}},{key:"beautifyString",value:function(e){for(var t=this,a=[],n=e.slice(0),r=1;r<n.length;r++){var o=a.length+r;r&&n[r]===n[r].toUpperCase()&&a.push(o)}return a.map(function(e){n=t.insertCharacterInString(n,e," ")}),n}},{key:"displayContent",value:function(){var e=this;if(this.props.loaded){var t=0;return Object.keys(this.props.ruleTypes).map(function(a){t++;var n=0;return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(V.a.Title,{active:e.state.activeIndex===t,index:t,onClick:e.handleClick},r.a.createElement(O.a,{name:"dropdown"}),e.beautifyString(a.slice(3))),r.a.createElement(V.a.Content,{active:e.state.activeIndex===t},r.a.createElement(q.a.Group,{divided:!0},e.props.configFile[a].map(function(t){return r.a.createElement(ee,{display:e.rulesMatchesKeyword(t),type:a,index:n++,key:JSON.stringify(t),rule:t,onChange:e.props.onRuleConclusionChange,onDelete:e.props.onRuleDelete})}))))})}return null}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Left-panel"},r.a.createElement(H.a,{fluid:!0,style:{margin:"1vw"}},r.a.createElement(H.a.Item,null,r.a.createElement(C.a,{primary:!0,onClick:function(){e.setState({showModal:!0})}},"Add a rule")),r.a.createElement(X.a,{text:"Configuration file options",pointing:!0,className:"link item"},r.a.createElement(X.a.Menu,null,r.a.createElement(X.a.Item,{onClick:function(){e.setState({showConfigFile:!0})}},"Show file"),r.a.createElement(X.a.Item,{onClick:this.download},"Download file")))),r.a.createElement(X.a,{inline:!0,style:{margin:"1vw"},search:!0,selection:!0,fluid:!0,multiple:!0,allowAdditions:!0,clearable:!0,button:!0,icon:"filter",options:this.generateDropdownOptions(),value:this.state.selectedKeywords,onChange:this.handleSelectedKeywordsChange}),r.a.createElement(V.a,{fluid:!0,styled:!0,style:{margin:"1vw"}},this.displayBasicProperties(),this.displayContent()),this.state.showModal&&r.a.createElement(z,{showModal:this.state.showModal,ruleTypes:this.props.ruleTypes,selectOptions:this.props.rulesSelectOptions,onSubmit:this.handleSubmit,onClose:this.handleCloseModal,beautifyString:this.beautifyString}),this.state.showConfigFile&&r.a.createElement($,{open:this.state.showConfigFile,configFile:this.props.configFile,onClose:function(){e.setState({showConfigFile:!1})}}))}}]),t}(r.a.Component),ae=a(455),ne=a(103),re=a(1082);function oe(e){return r.a.createElement(C.a,{disabled:e.disabled,as:"div",labelPosition:"right",onClick:e.onClick,style:e.style},r.a.createElement(C.a,{icon:!0},r.a.createElement(O.a,{name:"map pin"}),e.children),r.a.createElement(R.a,{as:"a",basic:!0,pointing:"left"},e.marker.placed&&Math.round(1e4*e.marker.lngLat.lat)/1e4+", "+Math.round(1e4*e.marker.lngLat.lng)/1e4))}var le=function(e){function t(e){return Object(p.a)(this,t),Object(m.a)(this,Object(g.a)(t).call(this,e))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.calculating,a=e.from_marker,n=e.to_marker,o=e.selectable_routes,l=e.selected_routes,i=e.handleSelectedRouteAddition,s=e.handleSelectedRoutesChange,c=e.calculateRoute,u=e.saveCurrentRoute,d=e.createToMarker,p=e.createFromMarker,h=e.updateActiveRouteText,m=e.active_route_label_error;return r.a.createElement(re.a,{className:"mapToolbar",style:this.props.style},r.a.createElement(H.a,{attached:"top",style:{borderRadius:0,height:"50%"}},r.a.createElement(H.a.Item,null,r.a.createElement(oe,{disabled:t,onClick:function(){p()},marker:a,style:{marginRight:"10px"}},"From"),r.a.createElement(oe,{disabled:t,onClick:function(){d()},marker:n},"To")),r.a.createElement(H.a.Item,null,r.a.createElement(C.a,{disabled:!(a.lngLat&&n.lngLat)||t,loading:t,onClick:function(){c()}},"Recalculate route")),r.a.createElement(H.a.Item,{position:"right"},r.a.createElement(B.a,{type:"text",placeholder:"name",onChange:function(e){h(e)},value:this.props.active_route_label_input,action:!0,disabled:!(a.lngLat&&n.lngLat)||t},r.a.createElement("input",{className:"prompt"}),r.a.createElement(C.a,{type:"submit",onClick:function(){u()},disabled:!(a.lngLat&&n.lngLat)||t},"Save route")),m&&r.a.createElement(R.a,{basic:!0,color:"red",pointing:"left"},m))),r.a.createElement(L.a,{attached:"bottom",style:{borderRadius:0,height:"50%"}},r.a.createElement(X.a,{options:o,placeholder:"Choose routes to display",search:!0,selection:!0,fluid:!0,multiple:!0,allowAdditions:!0,value:l,onAddItem:i,onChange:s,className:"routeSelectDropdown"})))}}]),t}(r.a.Component),ie={WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",UserSelect:"none"},se=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.features;return r.a.createElement("div",null,r.a.createElement("div",null,e.map(function(e,t){var a=e.layer.id;if(!a.startsWith("layer-"))return a.startsWith("from_marker")?r.a.createElement("div",{key:t},r.a.createElement("strong",{style:ie},"From Marker"),r.a.createElement("hr",null)):a.startsWith("to_marker")?r.a.createElement("div",{key:t},r.a.createElement("strong",{style:ie},"To Marker"),r.a.createElement("hr",null)):r.a.createElement("div",{key:t},r.a.createElement("strong",{style:ie},e.layer["source-layer"],":"),r.a.createElement("span",{style:ie},e.layer.id))})),r.a.createElement("span",null))}}]),t}(r.a.Component),ce=Object(ne.d)({accessToken:"pk.eyJ1IjoiZ3VndWwiLCJhIjoiY2p4cDVqZXZvMGN6ejNjcm5zdjF6OWR1dSJ9._vc_H7CbewiDCHWYvD4CdQ"}),ue={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[0,0]}}]},de={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[0,0]}}]},pe={"line-cap":"round","line-join":"round"},he={"line-color":"#28A987","line-width":8},me={"line-color":"#0B3463","line-width":5},ge={height:"100%",width:"100%",cursor:""},fe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).handleSelectedRouteAddition=function(e,t){var n=t.value;console.log("hadleAddition value"),console.log(n),a.setState(function(e){return{selectable_routes:[].concat(Object(W.a)(e.selectable_routes),[{key:n,text:n,value:n}])}})},a.handleSelectedRoutesChange=function(e,t){var n=t.value;console.log("hadleChange value"),console.log(n),console.log(a.state.saved_routes),a.setState({selected_routes:n})},a.state={center:[4.5118,50.6282],zoom:[6.83],calculating:!1,map_features:void 0,show_tooltip:!0,cursor_location:[4.5118,50.6282],from_marker:{placed:!1,enabled:!0,visible:!1,dragging:!1,lngLat:void 0},to_marker:{placed:!1,enabled:!1,dragging:!1,visible:!1,lngLat:void 0},active_route:{key:void 0,text:void 0,coordinates:[]},saved_routes:[],selectable_routes:[],selected_routes:[],container_style:ge,active_route_label_input:"",active_route_label_error:void 0},a.createFromMarker=a.createFromMarker.bind(Object(v.a)(a)),a.createToMarker=a.createToMarker.bind(Object(v.a)(a)),a.onStyleLoad=a.onStyleLoad.bind(Object(v.a)(a)),a.onMouseMove=a.onMouseMove.bind(Object(v.a)(a)),a.onMouseClick=a.onMouseClick.bind(Object(v.a)(a)),a.calculateRoute=a.calculateRoute.bind(Object(v.a)(a)),a.handleSelectedRoutesChange=a.handleSelectedRoutesChange.bind(Object(v.a)(a)),a.handleSelectedRouteAddition=a.handleSelectedRouteAddition.bind(Object(v.a)(a)),a.onMouseUp=a.onMouseUp.bind(Object(v.a)(a)),a.saveCurrentRoute=a.saveCurrentRoute.bind(Object(v.a)(a)),a.updateActiveRouteText=a.updateActiveRouteText.bind(Object(v.a)(a)),a.onMouseLeave=a.onMouseLeave.bind(Object(v.a)(a)),a.planner=new ae.Planner,a.planner.setProfileID("PEDESTRIAN"),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(e){e.configFile!==this.props.configFile&&(this.planner.setDevelopmentProfile(this.props.configFile),console.log("config file loaded:"),console.log(this.props.configFile))}},{key:"calculateRoute",value:function(){var e=this;if(this.state.from_marker.placed&&this.state.to_marker.placed&&!this.state.calculating){this.setState({calculating:!0});var t={roadNetworkOnly:!0,from:{latitude:this.state.from_marker.lngLat.lat,longitude:this.state.from_marker.lngLat.lng},to:{latitude:this.state.to_marker.lngLat.lat,longitude:this.state.to_marker.lngLat.lng}};console.log(t),console.log("waiting..."),console.log("querying planner.js..."),this.planner.query(t).take(1).on("error",function(t){console.log(t),e.setState({calculating:!1})}).on("data",function(t){var a=[];t.steps.forEach(function(e){a.push([e.startLocation.longitude,e.startLocation.latitude]),a.push([e.stopLocation.longitude,e.stopLocation.latitude])});var n=new Date;e.setState(function(e){return{active_route:{key:e.saved_routes.length,text:n.toISOString(),coordinates:a}}})}).on("end",function(){console.log("end\n"),e.setState({calculating:!1})})}}},{key:"saveCurrentRoute",value:function(){var e=this;this.setState(function(e){return{active_route:{key:e.active_route.key,text:e.active_route_label_input,coordinates:e.active_route.coordinates}}});var t=this.state.active_route.key,a=this.state.active_route_label_input,n=!1;this.state.saved_routes.forEach(function(r){return r.key===t?(e.setState({active_route_label_error:"route already saved!"}),void(n=!0)):(console.log(r.text+" - "+a),0===r.text.localeCompare(a)?(e.setState({active_route_label_error:"already used that name!"}),void(n=!0)):void 0)}),n||this.setState(function(e){return{saved_routes:[e.active_route].concat(Object(W.a)(e.saved_routes)),selectable_routes:[{key:e.active_route.key,text:e.active_route.text,value:e.active_route.key}].concat(Object(W.a)(e.selectable_routes)),active_route_label_input:""}}),console.log(this.state.saved_routes)}},{key:"updateActiveRouteText",value:function(e){this.setState({active_route_label_input:e.target.value,active_route_label_error:void 0})}},{key:"onMouseUp",value:function(e,t){var a=t.lngLat;this.state.from_marker.dragging?(this.setState(function(e){return{from_marker:{placed:e.from_marker.placed,enabled:e.from_marker.enabled,visible:e.from_marker.visible,dragging:!1,lngLat:a}}}),this.calculateRoute()):this.state.to_marker.dragging&&(this.setState(function(e){return{to_marker:{placed:e.to_marker.placed,enabled:e.to_marker.enabled,visible:e.to_marker.visible,dragging:!1,lngLat:a}}}),this.updateTooltip(e,t),this.calculateRoute())}},{key:"onStyleLoad",value:function(e,t){e.addSource("from_marker",{type:"geojson",data:ue}),e.addSource("to_marker",{type:"geojson",data:de}),e.addLayer({id:"from_marker",type:"circle",source:"from_marker",paint:{"circle-radius":10,"circle-color":"#3887be"}}),e.addLayer({id:"to_marker",type:"circle",source:"to_marker",paint:{"circle-radius":10,"circle-color":"#6b7cff"}});var a=this;e.on("mouseenter","from_marker",function(){e.setPaintProperty("from_marker","circle-color","#3bb2d0"),ge.cursor="move",a.setState({container_style:ge})}),e.on("mouseleave","from_marker",function(){e.setPaintProperty("from_marker","circle-color","#3887be"),ge.cursor="",a.setState({container_style:ge})}),e.on("mousedown","from_marker",function(e){a.state.from_marker.placed&&e.preventDefault(),a.setState(function(e){return{from_marker:{placed:e.from_marker.placed,enabled:e.from_marker.enabled,visible:e.from_marker.visible,dragging:!0,lngLat:e.from_marker.lngLat}}}),ge.cursor="grab",a.setState({container_style:ge})}),e.on("mouseenter","to_marker",function(){e.setPaintProperty("to_marker","circle-color","#3bb2d0"),ge.cursor="move",a.setState({container_style:ge})}),e.on("mouseleave","to_marker",function(){e.setPaintProperty("to_marker","circle-color","#9f7feb"),ge.cursor="",a.setState({container_style:ge})}),e.on("mousedown","to_marker",function(e){a.state.to_marker.placed&&e.preventDefault(),a.setState(function(e){return{to_marker:{placed:e.to_marker.placed,enabled:e.to_marker.enabled,visible:e.to_marker.visible,dragging:!0,lngLat:e.to_marker.lngLat}}}),ge.cursor="grab",a.setState({container_style:ge})})}},{key:"onMouseClick",value:function(e,t){var a=t.lngLat;!this.state.from_marker.enabled||this.state.from_marker.placed||this.state.from_marker.dragging?!this.state.to_marker.enabled||this.state.to_marker.placed||this.state.to_marker.dragging||(console.log("placed to-marker at "+this.state.to_marker.lngLat),this.setState(function(e){return{to_marker:{placed:!0,enabled:!0,visible:!0,dragging:!1,lngLat:a}}}),this.updateTooltip(e,t)):(console.log("placed from-marker at "+this.state.from_marker.lngLat),this.setState(function(e){return{from_marker:{placed:!0,enabled:!0,visible:!0,dragging:!1,lngLat:a}}}),this.state.to_marker.enabled||this.setState({to_marker:{placed:!1,enabled:!0,visible:!0,dragging:!1,lngLat:a}})),this.state.from_marker.enabled&&this.state.to_marker.enabled&&(JSON.stringify([this.state.from_marker.lngLat.lng,this.state.from_marker.lngLat.lat])!==JSON.stringify(this.state.active_route.coordinates[0])||JSON.stringify([this.state.to_marker.lngLat.lng,this.state.to_marker.lngLat.lat])!==JSON.stringify(this.state.active_route.coordinates[this.state.active_route.coordinates.length-1]))&&this.calculateRoute()}},{key:"updateTooltip",value:function(e,t){if(this.state.from_marker.dragging||this.state.to_marker.dragging||!this.state.from_marker.placed&&this.state.from_marker.enabled||!this.state.to_marker.placed&&this.state.to_marker.enabled)this.setState({cursor_location:t.lngLat,map_features:void 0});else{var a=e.queryRenderedFeatures(t.point);this.setState({cursor_location:t.lngLat,map_features:a}),e.getCanvas().style.cursor=a.length?"pointer":""}}},{key:"onMouseLeave",value:function(e,t){this.setState({show_tooltip:!1}),this.state.from_marker.placed||e.setLayoutProperty("from_marker","visibility","none"),this.state.to_marker.placed||e.setLayoutProperty("to_marker","visibility","none"),console.log("mouse left")}},{key:"onMouseMove",value:function(e,t){this.state.show_tooltip||(console.log("mouse entered"),this.setState({show_tooltip:!0}),e.setLayoutProperty("to_marker","visibility","visible"),e.setLayoutProperty("from_marker","visibility","visible")),this.updateTooltip(e,t),!this.state.from_marker.enabled||this.state.from_marker.placed||this.state.from_marker.dragging?!this.state.to_marker.enabled||this.state.to_marker.placed||this.state.to_marker.dragging||(de.features[0].geometry.coordinates=[t.lngLat.lng,t.lngLat.lat],e.getSource("to_marker").setData(de)):(ue.features[0].geometry.coordinates=[t.lngLat.lng,t.lngLat.lat],e.getSource("from_marker").setData(ue)),this.state.from_marker.dragging?(ue.features[0].geometry.coordinates=[t.lngLat.lng,t.lngLat.lat],e.getSource("from_marker").setData(ue)):this.state.to_marker.dragging&&(de.features[0].geometry.coordinates=[t.lngLat.lng,t.lngLat.lat],e.getSource("to_marker").setData(de))}},{key:"createFromMarker",value:function(){console.log(this.state.from_marker),this.setState(function(e){return{from_marker:{placed:!1,enabled:!0,visible:e.from_marker.visible,dragging:e.from_marker.dragging,lngLat:e.from_marker.lngLat}}})}},{key:"createToMarker",value:function(){console.log(this.state.to_marker.lngLat),this.setState(function(e){return{to_marker:{placed:!1,enabled:!0,visible:e.to_marker.visible,dragging:e.to_marker.dragging,lngLat:e.to_marker.lngLat}}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.center,n=t.zoom,o=(t.from_marker,t.to_marker,this.state.selected_routes.map(function(t){for(var a=e.state.saved_routes.length,n=0;e.state.saved_routes[n].key!=t&&n<a;)n++;return r.a.createElement(ne.b,{key:e.state.saved_routes[n].key,style:{name:"COOOOL NAME"},type:"line",layout:pe,paint:me},r.a.createElement(ne.a,{coordinates:e.state.saved_routes[n].coordinates}))}));return r.a.createElement("div",{style:{height:"100%",width:"100%"}},r.a.createElement(le,{style:{height:"15%",width:"100%"},calculating:this.state.calculating,from_marker:this.state.from_marker,to_marker:this.state.to_marker,createFromMarker:this.createFromMarker,createToMarker:this.createToMarker,selectable_routes:this.state.selectable_routes,selected_routes:this.state.selected_routes,handleSelectedRouteAddition:this.handleSelectedRouteAddition,handleSelectedRoutesChange:this.handleSelectedRoutesChange,calculateRoute:this.calculateRoute,saveCurrentRoute:this.saveCurrentRoute,active_route_label_input:this.state.active_route_label_input,updateActiveRouteText:this.updateActiveRouteText,active_route_label_error:this.state.active_route_label_error}),r.a.createElement(L.a,{style:{height:"85%",width:"100%",borderRadius:0,padding:0,margin:0,border:"none"}},r.a.createElement(x.a,{active:this.state.calculating,inverted:!0},r.a.createElement(M.a,null,"Calculating Route")),r.a.createElement(ce,{style:"mapbox://styles/gugul/cjy77yl1713rg1cn0wiwq2ong/draft",containerStyle:this.state.container_style,center:a,zoom:n,onStyleLoad:this.onStyleLoad,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onClick:this.onMouseClick,onMouseOut:this.onMouseLeave},r.a.createElement(ne.b,{type:"line",layout:pe,paint:he},r.a.createElement(ne.a,{coordinates:this.state.active_route.coordinates})),o,this.state.show_tooltip&&this.state.map_features&&this.state.map_features.length&&r.a.createElement(ne.c,{coordinates:this.state.cursor_location,offset:{"bottom-left":[12,-10],bottom:[0,-10],"bottom-right":[-12,-10]}},r.a.createElement(se,{features:this.state.map_features})))))}}]),t}(r.a.Component);var ve=function(e){return r.a.createElement("div",{className:"Right-panel"},r.a.createElement(fe,{configFile:e.configFile,style:{height:"100%",width:"100%"}}))},ye=a(336),be=function(){function e(t){Object(p.a)(this,e),this._source=[{type:"file",value:t}],this._engine=ye.newEngine()}return Object(h.a)(e,[{key:"getEntityDescription",value:function(e){var t=this;return new Promise(function(a,n){var r=t._source,o="\n                  SELECT ?p ?o WHERE {\n                    <".concat(e,"> ?p ?o.\n                  }"),l={};t._engine.query(o,{sources:r}).then(function(e){e.bindingsStream.on("data",function(e){l[e.get("?p").value]=e.get("?o").value}).on("end",function(){a(l)})})})}},{key:"getNamedIndividualsForProperty",value:function(e){var t=this;return new Promise(function(a,n){var r=t._source,o="\n                  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n                  \n                  SELECT ?ni WHERE {\n                    <".concat(e,"> rdfs:range ?range.\n                    ?ni a ?range.\n                  }"),l=[];t._engine.query(o,{sources:r}).then(function(e){e.bindingsStream.on("data",function(e){l.push(e.get("?ni").value)}).on("end",function(){a(l)})})})}}]),e}(),ke=(a(1069),a(457)),Ee=a.n(ke),_e=["access","barrier","bicycle","construction","crossing","cycleway","footway","highway","motor_vehicle","motorcar","oneway_bicycle","oneway","smoothness","surface","tracktype","vehicle"],Ce={hasAccessRules:{conclusion:"hasAccess",type:"boolean",defaultValue:!1,description:"Determines whether or not a way is accessible"},hasObstacleRules:{conclusion:"isObstacle",type:"boolean",defaultValue:!0,description:"determines whether or not a node can be traversed"},hasOnewayRules:{conclusion:"isOneway",type:"boolean",defaultValue:!0,description:"determines whether or not something is a oneway street"},hasPriorityRules:{conclusion:"hasPriority",type:"number",defaultValue:0,description:"determines an additional multiplier that will be used to demote/promote certain road"},hasSpeedRules:{conclusion:"hasSpeed",type:"number",defaultValue:35,description:"determines the maximum speed on a street"}};function Oe(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:Ee.a,className:"App-logo",alt:"logo"}),r.a.createElement("span",{className:"App-header"}," Configuroute "))}var we=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).handleFileConfirm=function(e){a.queryOntologyForInformation(e)},a.handleNewRuleSubmit=function(e){e.value="osm:"+e.value,e.key="osm:"+e.key;var t=!0;if(a.state.configFile[e.ruleType].map(function(a){return!a.match||a.match.hasPredicate!==e.key||a.match.hasObject!==e.value||(t=!1,!1)}),t){"number"===Ce[e.ruleType].type&&(e.conclusion=parseInt(e.conclusion));var n=Object(d.a)({},a.state.configFile),r=Ce[e.ruleType].conclusion,o={match:{hasPredicate:e.key,hasObject:e.value},concludes:Object(u.a)({},r,e.conclusion),hasOrder:e.order};n[e.ruleType].unshift(o),a.setState({configFile:n,showModal:!1})}else a.setState({triggerMessage:!0})},a.handleRuleConclusionChange=function(e,t,n){"number"===Ce[e].type&&(n=parseInt(n));var r=Object(d.a)({},a.state.configFile);r[e][t].concludes[[Ce[e].conclusion]]=n,a.setState({configFile:r})},a.handleRuleDelete=function(e,t){console.log(e,t);var n=Object(d.a)({},a.state.configFile);t!==n[e].length-1&&(n[e].splice(t,1),a.setState({configFile:n}))},a.state={configFile:{},showLandingPage:!0,leftLoaded:!1,ontology:{}},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"queryOntologyForInformation",value:function(){var e=Object(c.a)(s.a.mark(function e(t){var a,n,r,o,l,i,c,u,d,p,h,m;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=new be("http://hdelva.be/tiles/ns/ontology"),n="https://w3id.org/openstreetmap/terms#",r={tags:{},values:{}},_e.map(function(e){r.tags[e]={values:[],description:{}}}),o=0,l=Object.keys(r.tags);case 5:if(!(o<l.length)){e.next=44;break}return i=l[o],e.next=9,a.getNamedIndividualsForProperty(n+i);case 9:return e.t0=function(e){return e.slice(n.length)},r.tags[i].values=e.sent.map(e.t0),e.next=13,a.getEntityDescription(n+i);case 13:r.tags[i].description=e.sent,c=!0,u=!1,d=void 0,e.prev=17,p=r.tags[i].values[Symbol.iterator]();case 19:if(c=(h=p.next()).done){e.next=27;break}return m=h.value,e.next=23,a.getEntityDescription(n+m);case 23:r.values[m]=e.sent;case 24:c=!0,e.next=19;break;case 27:e.next=33;break;case 29:e.prev=29,e.t1=e.catch(17),u=!0,d=e.t1;case 33:e.prev=33,e.prev=34,c||null==p.return||p.return();case 36:if(e.prev=36,!u){e.next=39;break}throw d;case 39:return e.finish(36);case 40:return e.finish(33);case 41:o++,e.next=5;break;case 44:this.setState({showLandingPage:!1,ontology:r,configFile:t,leftLoaded:!0});case 45:case"end":return e.stop()}},e,this,[[17,29,33,41],[34,,36,40]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(U,{ruleTypes:Ce,onConfirm:this.handleFileConfirm,showModal:this.state.showLandingPage}),r.a.createElement(Oe,null),r.a.createElement("div",{className:"App-content"},r.a.createElement(te,{ruleTypes:Ce,rulesSelectOptions:this.state.ontology,loaded:this.state.leftLoaded,configFile:this.state.configFile,onNewRuleSubmit:this.handleNewRuleSubmit,onRuleConclusionChange:this.handleRuleConclusionChange,onRuleDelete:this.handleRuleDelete,className:"Left-panel"}),r.a.createElement(ve,{configFile:this.state.configFile})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},278:function(e,t,a){},457:function(e,t,a){e.exports=a.p+"static/media/logo.47bb72e5.jpg"},470:function(e,t,a){e.exports=a(1070)},475:function(e,t,a){},672:function(e,t){},673:function(e,t){},692:function(e,t){},694:function(e,t){},779:function(e,t){},782:function(e,t){},791:function(e,t){},792:function(e,t){},967:function(e,t){},968:function(e,t){}},[[470,1,2]]]);
//# sourceMappingURL=main.a24c8155.chunk.js.map